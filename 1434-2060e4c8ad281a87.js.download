(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1434],{64995:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(85893),i=n(49955),s=n(56446),o=n(57831),l=n(59085);function a(e){let{querySchedule:t,size:n}=e,a=(0,o.Ke)(),u=(0,l.lp)(a,null==t?void 0:t.id),c=t&&(0,s.mB)(t.cronString),d=!!((null==u?void 0:u.email)||(null==u?void 0:u.slack)||(null==u?void 0:u.webhook)||(null==u?void 0:u.discord));return void 0===c||void 0===t?null:(0,r.jsx)(i.y,{size:n,schedule:t,hasQueryAlerts:d})}},49955:function(e,t,n){"use strict";n.d(t,{y:function(){return v}});var r=n(85893),i=n(97600),s=n.n(i),o=n(1801),l=n(5505),a=n(56446),u=n(47730),c=n(84512),d=n(55754),h=n(44917),m=n(61018);let p=e=>{let{run:t,title:n}=e;return(0,r.jsxs)("p",{children:[n,": ",(0,d.Z)(t,"yyyy-MM-dd HH:mm"),"\xa0-\xa0",(0,d.Z)(new Date(t).getTime()+18e5,"HH:mm")]})},v=e=>{let{size:t,schedule:n,hasQueryAlerts:i}=e,d=(0,a.mB)(n.cronString);if(void 0===d||void 0===n.cronString)return null;let v=(0,c.rD)(n.cronString,n.updatedAt),x=(0,c.Gs)(n.cronString);return(0,r.jsx)("div",{className:s().scheduleBadge,children:(0,r.jsx)(u.u,{label:(0,r.jsxs)("div",{children:[!!v&&(0,r.jsx)(p,{run:v,title:"Last execution"}),!!x&&(0,r.jsx)(p,{run:x,title:"Next execution"})]}),position:"below-align-right",children:(0,r.jsx)("div",{children:(0,r.jsx)(o.C,{size:t,color:!0===i?"warning":"brand-blue",variant:"filled",children:(0,r.jsxs)("span",{className:s().badgeLabel,children:[(0,r.jsx)("span",{children:(0,h.S)(d)}),!0===i?(0,r.jsx)(m.IconBellRing,{}):(0,r.jsx)(l.IconClockHistory,{})]})})})})})}},83959:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});let r=(e,t)=>{if(e&&0!==t.length){if(e.serviceTier.hasPaidPlanSubscription){var n;let e=t.find(e=>{let{credits:t}=e;return t>0});return null!==(n=null==e?void 0:e.publicPerformanceTierKey)&&void 0!==n?n:t[0].publicPerformanceTierKey}return t[0].publicPerformanceTierKey}}},73406:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(82729),i=n(76138),s=n(78718),o=n.n(s),l=n(39137),a=n(84937);function u(){let e=(0,r._)(["\n  mutation ExecuteQuery(\n    $query_id: Int!\n    $executor: ContextOwner!\n    $performance: String!\n    $parameters: [ExecuteQueryParameterInput!]!\n    $executionType: String!\n    $metadata: JSON\n  ) {\n    executeQuery(\n    input: {\n        queryId: $query_id\n        executor: $executor\n        performance: $performance\n        parameters: $parameters\n        executionType: $executionType\n        metadata: $metadata\n      }\n    ) {\n      job_id: id\n    }\n  }\n"]);return u=function(){return e},e}async function c(e){let{queryId:t,parameters:n,requestContext:r,executionContext:s,executionType:l,performance:u,metadata:c,abortSignal:d}=e;return await i.bj.mutate({mutation:a.eny,context:{...r,fetchOptions:{signal:d}},variables:{query_id:t,parameters:n,executor:o()(s,["id","type"]),performance:u||"free",executionType:l,metadata:c},fetchPolicy:"no-cache"})}(0,l.Z)(u())},79440:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var r=n(73406),i=n(23549);let s=async e=>{let{queryId:t,parameters:n,requestContext:s,activeContext:o,executionType:l,performance:a,metadata:u}=e;return await (0,i.b)({func:()=>(0,r._)({queryId:t,parameters:n,requestContext:s,executionContext:o,executionType:l,performance:a,metadata:u}),activeContext:o,queryId:t})}},23549:function(e,t,n){"use strict";n.d(t,{b:function(){return d}});var r=n(85893),i=n(41664),s=n.n(i),o=n(57903),l=n(30990),a=n(40802),u=n(46367),c=n(68357);async function d(e){let{queryId:t,activeContext:n}=e;try{return await e.func()}catch(h){if(h instanceof l.cA){var i,d;let e=null===(d=h.graphQLErrors)||void 0===d?void 0:null===(i=d[0].extensions)||void 0===i?void 0:i.code,t=function(e){if(!(0,u.n)(e))return"/pricing";switch(e.type){case"user":return"/settings/subscription";case"team":return"/settings/teams/manage/".concat(e.handle,"/subscription")}}(n);if("not_enough_credits"===e)throw(0,o.Bh)({level:"error",title:"You've reached the credit limit.",actions:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{href:t,children:"Upgrade plan"}),(0,r.jsx)(c.L,{href:t,theme:"tertiary",size:"M",children:"Increase credit limit"})]})}),h}h instanceof Error&&(h.message="Execute query: "+h.message),a.Tb(h,{extra:{executor:(0,u.n)(n)?"".concat(n.type,"_").concat(n.id):"anonymous",queryId:t,performance}});let e=h instanceof Error?h.message:String(h);throw(0,o.Bh)({level:"error",title:"Query execution failed",description:e}),h}}},46392:function(e,t,n){"use strict";n.d(t,{r:function(){return w}});var r=n(85893),i=n(45172),s=n(76350),o=n(11893),l=n(25147),a=n(42665),u=n(20951),c=n(47021),d=n(41664),h=n.n(d),m=n(24506),p=n(54173),v=n(68357),x=n(10933),f=n(41118),g=n(85361),y=n(12896),j=n.n(y),b=n(31544),_=n.n(b),C=n(67294);function w(e){let{queryId:t,close:n}=e,d=(0,g._0)(),[y,b]=(0,C.useState)(0),w=(null==d?void 0:d.type)==="team"?null==d?void 0:d.handle:void 0;function k(e){i.Z.trackEvent("API Query Modal String Copied",{type:e})}function S(e){i.Z.trackEvent("API Query Modal Navigation Click",{type:e})}(0,C.useEffect)(()=>(i.Z.trackEvent("API Query Modal Opened"),()=>{i.Z.trackEvent("API Query Modal Closed")}),[]);let E=(0,r.jsxs)("div",{children:["You can paginate through your results by using ",(0,r.jsx)("code",{children:"limit"})," and"," ",(0,r.jsx)("code",{children:"offset"})," parameters."]});return(0,r.jsxs)("div",{className:_().body,children:[(0,r.jsxs)("div",{className:_().header,children:[(0,r.jsxs)("div",{className:_().titleRow,children:[(0,r.jsx)("h3",{children:"Create an API endpoint out of any SQL query"}),(0,r.jsx)(x.h,{size:"XS",theme:"ghost",onClick:n,children:(0,r.jsx)(f.IconCross,{})})]}),(0,r.jsxs)("p",{className:_().description,children:[(0,r.jsx)("b",{children:"API usage is bundled into your credits"})," plan and is billed on executions and how much data is transferred when retrieving results. For more details visit"," ",(0,r.jsx)(v.L,{size:"L",theme:"secondary",insideText:!0,href:"https://docs.dune.com/api-reference/overview/introduction",target:"_blank",onOpen:()=>i.Z.trackEvent("API Query Modal Open API Docs"),children:"our documentation"}),"."]})]}),(0,r.jsxs)(s.t,{size:"M",marginBottom:!1,children:[(0,r.jsx)(o.O,{active:0===y,onClick:()=>{b(0),S("shell")},children:"Shell"}),(0,r.jsx)(o.O,{active:1===y,onClick:()=>{b(1),S("python")},children:"Python"}),(0,r.jsx)(o.O,{active:2===y,onClick:()=>{b(2),S("ts")},children:"Typescript"}),(0,r.jsx)(o.O,{active:3===y,onClick:()=>{b(3),S("others")},children:"Others"})]}),(0,r.jsx)(l.I,{active:0===y,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:j().curlDisplay,children:[(0,r.jsx)("p",{children:"Fetch this query's results"}),(0,r.jsxs)("div",{className:j().curlBlock,children:[(0,r.jsxs)("pre",{children:['curl -H "X-Dune-API-Key:',(0,r.jsx)("span",{children:"<api_key>"}),'" "https://api.dune.com/api/v1/query/'.concat(t,'/results?limit=1000"')]}),(0,r.jsx)(m.Z,{text:'curl -H "X-Dune-API-Key:<api_key>" "https://api.dune.com/api/v1/query/'.concat(t,'/results?limit=1000"'),theme:"tertiary",onCopy:()=>k("json")})]})]}),(0,r.jsxs)("div",{className:j().curlDisplay,children:[(0,r.jsx)("p",{children:"Fetch them in CSV format"}),(0,r.jsxs)("div",{className:j().curlBlock,children:[(0,r.jsxs)("pre",{children:['curl -H "X-Dune-API-Key:',(0,r.jsx)("span",{children:"<api_key>"}),'" "https://api.dune.com/api/v1/query/'.concat(t,'/results/csv?limit=1000"')]}),(0,r.jsx)(m.Z,{text:'curl -H "X-Dune-API-Key:<api_key>" "https://api.dune.com/api/v1/query/'.concat(t,'/results/csv?limit=1000"'),theme:"tertiary",onCopy:()=>k("csv")})]})]}),(0,r.jsx)("div",{className:j().curlDisplay,children:(0,r.jsx)(a.P,{level:"info",title:"Pagination",dismissable:!1,description:E})})]})}),(0,r.jsx)(l.I,{active:1===y,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:j().curlDisplay,children:[(0,r.jsx)("p",{children:"Install our client"}),(0,r.jsxs)("div",{className:j().curlBlock,children:[(0,r.jsx)("pre",{children:"pip install dune-client"}),(0,r.jsx)(m.Z,{text:"pip install dune-client",theme:"tertiary",onCopy:()=>k("pip")})]})]}),(0,r.jsxs)("div",{className:j().curlDisplay,children:[(0,r.jsx)("p",{children:"Fetch this query's results"}),(0,r.jsxs)("div",{className:j().curlBlock,children:[(0,r.jsxs)("pre",{children:["from dune_client.client import DuneClient\n",'dune = DuneClient("',(0,r.jsx)("span",{children:"<api_key>"}),'")\n',"query_result = dune.get_latest_result(".concat(t,")")]}),(0,r.jsx)(m.Z,{text:'from dune_client.client import DuneClient\ndune = DuneClient("<api_key>")\n'+"query_result = dune.get_latest_result(".concat(t,")"),theme:"tertiary",onCopy:()=>k("python")})]})]})]})}),(0,r.jsx)(l.I,{active:2===y,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:j().curlDisplay,children:[(0,r.jsx)("p",{children:"Install our client"}),(0,r.jsxs)("div",{className:j().curlBlock,children:[(0,r.jsx)("pre",{children:"yarn add @duneanalytics/client-sdk"}),(0,r.jsx)(m.Z,{text:"yarn add @duneanalytics/client-sdk",theme:"tertiary",onCopy:()=>k("yarn")})]})]}),(0,r.jsxs)("div",{className:j().curlDisplay,children:[(0,r.jsx)("p",{children:"Fetch this query's results"}),(0,r.jsxs)("div",{className:j().curlBlock,children:[(0,r.jsxs)("pre",{children:['import { DuneClient } from "@duneanalytics/client-sdk";\n','const dune = new DuneClient("',(0,r.jsx)("span",{children:"<api_key>"}),'");\n',"const query_result = await dune.getLatestResult(".concat(t,");")]}),(0,r.jsx)(m.Z,{text:'import { DuneClient } from "@duneanalytics/client-sdk";\nconst dune = new DuneClient("<api_key>");\n'+"const query_result = await dune.getLatestResult(".concat(t,");"),theme:"tertiary",onCopy:()=>k("ts")})]})]})]})}),(0,r.jsx)(l.I,{active:3===y,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:j().curlDisplay,children:[(0,r.jsx)("p",{children:(0,r.jsx)(h(),{href:"/docs/api/api-reference/get-results/import-sheets/",target:"_blank",children:"Import to Google Sheets"})}),(0,r.jsxs)("div",{className:j().curlBlock,children:[(0,r.jsxs)("pre",{children:['=importData("https://api.dune.com/api/v1/query/'.concat(t,"/results/csv?api_key="),(0,r.jsx)("span",{children:"<api_key>"}),'")']}),(0,r.jsx)(m.Z,{text:'=importData("https://api.dune.com/api/v1/query/'.concat(t,'/results/csv?api_key=<api_key>")'),theme:"tertiary",onCopy:()=>k("googlesheets")})]})]}),(0,r.jsx)("div",{className:j().curlDisplay,children:(0,r.jsx)(a.P,{level:"info",title:"Looking for other integrations?",dismissable:!1,description:"Try out our experimental Zapier integration, currently in closed Beta. Or explore custom solutions with Dune Enterprise.",actions:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(v.L,{size:"M",theme:"secondary",href:"https://zapier.com/developer/public-invite/194504/2174c6b998748b657f28dab4097f3e80/",target:"_blank",onOpen:()=>S("zapier"),children:[(0,r.jsx)(u.IconLightning,{}),"Zapier app"]}),(0,r.jsxs)(v.L,{size:"M",theme:"tertiary",href:"/enterprise",target:"_blank",onOpen:()=>S("enterprise"),children:[(0,r.jsx)(c.IconStackThree,{}),"Dune Enterprise"]})]})})})]})}),(0,r.jsxs)("div",{className:_().buttons,children:[(0,r.jsx)(p.A,{type:"button",theme:"tertiary",size:"M",href:w?"/settings/teams/manage/".concat(w,"/api"):"/settings/api",onOpen:()=>i.Z.trackEvent("API Query Modal Open API Settings"),children:"Generate New API Key"}),(0,r.jsx)(p.A,{type:"submit",theme:"primary",size:"M",href:"https://docs.dune.com/api-reference/overview/introduction",target:"_blank",onOpen:()=>i.Z.trackEvent("API Query Modal Open API Docs"),children:"Open API documentation"})]})]})}},85101:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(85893),i=n(67294),s=n(79723);let o=(0,i.forwardRef)((e,t)=>{let{validateLinks:n,children:i,...o}=e,l=(0,s.a)(i,n);return(0,r.jsx)("div",{ref:t,dangerouslySetInnerHTML:{__html:l},...o})})},95552:function(e,t,n){"use strict";n.d(t,{_:function(){return R}});var r=n(85893),i=n(64452),s=n.n(i),o=n(94184),l=n.n(o),a=n(45186),u=n(32613),c=n(10398),d=n(45439),h=n(76350),m=n(11893),p=n(87281),v=n(10933),x=n(71913),f=n(96981),g=n(41118),y=n(67294);function j(e){let{value:t,onChange:n,onRemove:i}=e,[s,o]=(0,y.useState)(""===t),[l,a]=(0,y.useState)(t);function c(){o(!0)}function d(){o(!1),""===l?i():n(l)}return s?(0,r.jsx)(u.CO,{nestedButtonsOrLinks:(0,r.jsx)(v.h,{size:"XS",theme:"ghost",onClick:d,children:(0,r.jsx)(f.IconCheckmark,{})}),children:(0,r.jsx)("input",{type:"text",autoFocus:!0,value:l,onChange:e=>a(e.target.value),onBlur:d,onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),d())}})}):(0,r.jsx)(u.ys,{active:!0,onClick:c,nestedButtonsOrLinks:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.h,{size:"XS",theme:"ghost",onClick:i,children:(0,r.jsx)(g.IconCross,{})}),(0,r.jsx)(v.h,{size:"XS",theme:"ghost",onClick:c,children:(0,r.jsx)(x.IconPencilLine,{})})]}),children:(0,r.jsx)(u.xv,{children:t})})}var b=n(61451),_=n(11483),C=n(31269),w=n(18172);function k(e){let{parameter:t,parameterValues:n,onChange:i,enumOptions:o,freeformOptions:a,setFreeformOptions:c}=e,{isMultiselect:d=!1}=t;return(0,r.jsx)(u.$0,{renderTitle:e=>{let{className:t}=e;return(0,r.jsxs)("div",{className:l()(t,s().menuSectionTitleWithButton),children:[(0,r.jsx)("span",{children:"Freeform options"}),(d||0===a.length)&&(0,r.jsxs)(b.z,{size:"XS",theme:"tertiary",onClick:()=>{c(e=>e.concat("").filter(C.Tw))},children:["Add option",(0,r.jsx)(_.IconPlusSquare,{})]})]})},children:a.map((e,s)=>(0,r.jsx)(j,{value:e,onChange:r=>{let l=o.includes(r),u=a.filter((e,t)=>t!==s).includes(r);if(l||u?c(e=>e.filter((e,t)=>t!==s)):c((0,w.ZP)(e=>{e[s]=r})),!u){if(d){if(l){let e=o.filter(e=>e===r||n.includes(e));i({...t,values:e})}else{let s=!n.includes(e);i({...t,values:s?n.concat(r):n.map(t=>t===e?r:t).filter(C.Tw)})}}else i({...t,value:r})}},onRemove:()=>{c(e=>e.filter((e,t)=>t!==s)),d?i({...t,values:n.filter(t=>t!==e)}):i({...t,value:void 0})}},s))})}var S=n(94832);let E=e=>(function(){var e;let t=null===(e=window.getComputedStyle(document.documentElement).getPropertyValue("font-size").match(/\d+/))||void 0===e?void 0:e[0];return void 0===t?10:Number(t)})()*e;var I=n(51681),q=n(7659);function P(e){let{parameter:t}=e,[n,i]=(0,y.useState)(),{enumOptions:s=[],loadMore:o,isLoadingMore:l,hasMore:a,search:u,queryResultType:c}=(0,S.h)({parameter:t}),d=(0,y.useRef)();return d.current=u,(0,q.b)({delayMs:200},()=>{if(void 0!==n){var e;null===(e=d.current)||void 0===e||e.call(d,n)}},[n]),(0,r.jsx)(z,{onChange:e.onChange,parameterValues:e.parameterValues,parameter:e.parameter,isLoadingMore:l,loadMore:o,enumOptions:s,hasMore:a,search:n,setSearch:i,queryResultType:c})}function z(e){let{parameter:t,parameterValues:n,enumOptions:i,onChange:o,loadMore:l,hasMore:a,search:v,setSearch:x,queryResultType:f,isLoadingMore:g}=e,j=(0,y.useRef)(l);j.current=l;let{isMultiselect:b=!1,isFreeformAllowed:_=!1}=t,[C,w]=(0,y.useState)("all"),[S,q]=(0,y.useState)(()=>i.length>=1e6?[]:n.filter(e=>!i.includes(e)));(0,y.useEffect)(()=>{i.length>=1e6||q(n.filter(e=>!i.includes(e)))},[i.length,n]);let[P,z,A]=(0,y.useMemo)(()=>[E(F),E(N),E(L)],[]),R=e=>(l,a)=>{let c=(0,r.jsx)(u.ys,{style:e,selected:n.includes(l),onClick:()=>{if(b){let e=n.includes(l),r=i.concat(S).filter(t=>t===l?!e:n.includes(t));o({...t,values:r}),e&&S.includes(l)&&q(e=>e.filter(e=>e!==l))}else{if(n.includes(l))return;o({...t,value:l}),q([])}},children:(0,r.jsx)(u.xv,{className:s().menuText,children:l})},l);return a?(0,r.jsxs)("div",{style:e,children:[c,(0,r.jsx)(I.df,{onChange:e=>{if(e){var t;null===(t=j.current)||void 0===t||t.call(j)}},children:(0,r.jsx)(u.ys,{style:{color:"var(--text--disable)"},children:"Loading options..."})})]},l):c};return i.length>M||"V2"===f&&void 0!==t.enumFromResults?function(){let e=function(e){function t(e){return void 0===v||e.toLowerCase().includes(v)}switch(e){case"all":return"V2"===f?i:i.filter(t);case"selected":return n.filter(t)}}(C);return(0,r.jsxs)(u.s_,{className:s().menuPanel,children:[!b&&(0,r.jsx)(u.$0,{title:"Selected",children:n.map(e=>R()(e,!1))}),(0,r.jsxs)(u.$0,{maxHeight:"".concat(N,"rem"),title:(0,r.jsxs)("div",{className:s().menuSectionTitleWithSearchAndTabs,children:[(0,r.jsx)(c.U,{size:"M",style:"contained",prefix:(0,r.jsx)(d.IconMagnifyingGlass,{}),placeholder:b?"Search…":"Search all…",value:null!=v?v:"",onChange:e=>x(e.target.value.toLowerCase())}),b&&(0,r.jsxs)(h.t,{size:"M",fillWidth:!0,marginBottom:!1,children:[(0,r.jsx)(m.O,{active:"all"===C,onClick:()=>w("all"),children:"All"}),(0,r.jsxs)(m.O,{active:"selected"===C,onClick:()=>w("selected"),children:["Selected ",n.length]})]})]}),children:[0===e.length&&g&&(0,r.jsx)("div",{className:s().loadingMoreText,children:(0,r.jsx)(u.xv,{children:"Loading..."})}),e.length>0&&(0,r.jsx)(p.aV,{width:P,height:z,rowHeight:A,rowCount:e.length,rowRenderer:function(t){let{index:n,style:r}=t,i=e[n],s=n===e.length-1&&a&&"all"===C;return R(r)(i,s)}})]}),_&&(0,r.jsx)(k,{parameter:t,parameterValues:n,onChange:o,enumOptions:i,freeformOptions:S,setFreeformOptions:q}),"selected"===C&&(0,r.jsx)(u.$0,{children:(0,r.jsx)(u.ys,{onClick:()=>{b&&(o({...t,values:[]}),q([]))},children:"Reset to default"})})]})}():g?(0,r.jsx)(u.s_,{children:(0,r.jsx)(u.$0,{children:(0,r.jsx)(u.ys,{style:{color:"var(--text--disable)"},children:"Loading options..."})})}):(0,r.jsxs)(u.s_,{className:s().menuPanel,children:[(0,r.jsx)(u.$0,{children:i.map(e=>R()(e,!1))}),_&&(0,r.jsx)(k,{parameter:t,parameterValues:n,onChange:o,enumOptions:i,freeformOptions:S,setFreeformOptions:q})]})}let M=10,N=30.5,F=37.4,L=3.2;var A=n(1801);function R(e){var t;let{parameter:n,parameterValues:i,onChange:o,renderInPortal:u}=e,c=null!==(t=e.disabled)&&void 0!==t&&t||!o;return(0,r.jsx)(a.f,{position:"below-align-left",content:()=>c?null:(0,r.jsx)("div",{onKeyDown:e.onKeyDown,children:(0,r.jsx)(P,{parameter:n,parameterValues:i,onChange:o,renderFormField:e.renderFormField})}),disabled:c,renderInPortal:u,children:(0,r.jsx)("div",{className:l()(s().fieldWrapper,c&&s().disabled),onKeyDown:e.onKeyDown,children:e.renderFormField({disabled:c,renderButton:e=>(0,r.jsxs)("button",{type:"button",...e,className:s().button,children:[(0,r.jsx)("span",{className:s().badges,children:0===i.length?"None":i.slice(0,T).map(e=>(0,r.jsx)(A.C,{size:"L",color:"brand-orange",variant:"filled",className:s().badge,children:e},e))}),i.length>T&&(0,r.jsx)(r.Fragment,{children:"…"})]})})})})}let T=4},6213:function(e,t,n){"use strict";n.d(t,{E:function(){return u}});var r=n(85893),i=n(58627),s=n.n(i),o=n(94184),l=n.n(o),a=n(67294);function u(e){let{label:t,detail:n,value:i,max:o,showLabel:u,theme:c="green",className:d}=e,h=(0,a.useId)();return(0,r.jsxs)("div",{className:l()(s().wrapper,d,s()["".concat(c)]),children:[(0,r.jsxs)("div",{className:s().info,children:[(0,r.jsx)("label",{htmlFor:h,style:{display:u?"inherit":"none"},children:t}),void 0!==n&&(0,r.jsx)("span",{className:s().detail,children:n})]}),(0,r.jsx)("progress",{id:h,value:i,max:o,children:"".concat((100*(i/o)).toFixed(0),"%")})]})}},76441:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var r=n(85893),i=n(67294),s=n(94184),o=n.n(s),l=n(19324),a=n.n(l),u=n(80949);let c=e=>{var t;let n=null!==(t=e.as)&&void 0!==t?t:"div",s=o()(a().box,e.text&&a().text,e.icon&&a().icon,e.border&&a().border,e.light&&a().light,e.gray&&a().gray,e.color1&&a().color1,e.color2&&a().color2,e.size&&a()[e.size],e.className),l=(0,r.jsxs)(r.Fragment,{children:[e.title&&(0,r.jsx)("h2",{className:a().title,children:e.title}),e.icon&&(0,r.jsx)(u.J,{icon:e.icon,className:a().background}),(0,r.jsx)("div",{className:a().children,children:e.children})]}),c={className:s,role:e.role};return i.createElement(n,c,l)}},91571:function(e,t,n){"use strict";n.d(t,{k:function(){return tJ}});var r=n(85893),i=n(41664),s=n.n(i),o=n(67294),l=n(58431),a=n(48403),u=n.n(a),c=n(88185),d=n.n(c),h=n(36889),m=n(71944),p=n.n(m),v=n(29223),x=n(41788),f=n(56984),g=n(99540),y=n(94682),j=n(90002),b=n(6162),_=n.n(b),C=n(53632),w=n.n(C),k=n(12297),S=n.n(k),E=n(85564),I=n.n(E),q=n(66604),P=n.n(q),z=n(89734),M=n.n(z),N=n(45578),F=n.n(N),L=n(52628),A=n.n(L),R=n(63794),T=n(43307),D=n(96008),O=n(61575);let Z=(e,t)=>{let n=(0,T.oN)(e,t),r=B(e,t,n),i=G(r),s=J(r);if(!n.x)throw Error("Missing x-axis.");if(0===n.ys.length)throw Error("Missing y-axis.");if(!r.rows.length)throw Error("Missing result data.");if(F()(i,"type").length>1||F()(s,"type").length>1)throw Error("All columns for a y-axis must have the same data type.");if((0,R.Lp)(e)&&i.length>0&&s.length>0)throw Error("Normalization may only be used with a single y-axis.");if(r.y0.column.length>0&&r.y1.column.length>0)throw Error("All column series must use the same y-axis.");if(r.y0.pie.length+r.y1.pie.length>1)throw Error("Only one pie chart at a time please.");return(0,R.Lp)(e)&&(r=ee(e,r,i),r=ee(e,r,s)),r},B=(e,t,n)=>{var r;let i=null!==(r=t.rows)&&void 0!==r?r:[],s=H(e,n.ys);if(!n.group)return{x:n.x,z:n.z,ys:s,y0:Q(e,U(e,s)),y1:Q(e,X(e,s)),rows:$(e,n,W(e,n,i))};let o={},l={},a=[];return i.forEach(t=>{var r,i,s,u,c,d,h,m;let p=(0,D.iM)(t[null!==(c=null===(r=n.x)||void 0===r?void 0:r.name)&&void 0!==c?c:""]),v=(0,D.iM)(t[null!==(d=null===(i=n.ys[0])||void 0===i?void 0:i.name)&&void 0!==d?d:""]),x=(0,D.iM)(t[null!==(h=null===(s=n.z)||void 0===s?void 0:s.name)&&void 0!==h?h:""]),f=(0,D.iM)(t[null!==(m=null===(u=n.group)||void 0===u?void 0:u.name)&&void 0!==m?m:""]);(0,O.C_)(p)&&(0,O.C_)(v)&&(0,O.C_)(f)&&(p in l?a[l[p]][f]=v:(a.push({[n.x.name]:p,[f]:v,...(0,O.C_)(x)?{[n.z.name]:x}:{}}),(0,R.qP)(e,n.z)||(l[p]=a.length-1)),o[String(f)]||(o[String(f)]={name:String(f),type:(0,D.dJ)(v)}))}),s=H(e,Object.values(o)),{x:n.x,z:n.z,ys:s,y0:Q(e,U(e,s)),y1:Q(e,X(e,s)),rows:$(e,n,W(e,n,a))}},Q=(e,t)=>({column:t.filter(t=>"column"===V(e,t)),area:t.filter(t=>"area"===V(e,t)),scatter:t.filter(t=>"scatter"===V(e,t)),line:t.filter(t=>"line"===V(e,t)),pie:t.filter(t=>"pie"===V(e,t))}),V=(e,t)=>{var n,r;return(null===(r=e.options.seriesOptions)||void 0===r?void 0:null===(n=r[t.name])||void 0===n?void 0:n.type)||e.options.globalSeriesType},H=(e,t)=>M()(t,t=>{var n,r,i;return null!==(i=null===(r=e.options.seriesOptions)||void 0===r?void 0:null===(n=r[t.name])||void 0===n?void 0:n.zIndex)&&void 0!==i?i:0}),W=(e,t,n)=>{if(!t.x||"pie"!==e.options.globalSeriesType)return t.x?n.filter(e=>null!==e[t.x.name]):n;let r=new Map,i=[],s=t.x.name;return n.forEach(e=>{let n=r.get(e[s]);if("number"==typeof n)t.ys.forEach(t=>{let r=i[n][t.name],s=e[t.name];"number"==typeof r&&"number"==typeof s?i[n][t.name]=r+s:i[n][t.name]=s});else{let t=i.push({...e});r.set(e[s],t-1)}}),i},$=(e,t,n)=>t.x?!1===e.options.sortX?n:M()(n,t.x.name):n,U=(e,t)=>t.filter(t=>{var n,r;return(null===(r=e.options.seriesOptions)||void 0===r?void 0:null===(n=r[t.name])||void 0===n?void 0:n.yAxis)!==1}),X=(e,t)=>t.filter(t=>{var n,r;return(null===(r=e.options.seriesOptions)||void 0===r?void 0:null===(n=r[t.name])||void 0===n?void 0:n.yAxis)===1}),K=e=>[...G(e),...J(e)],G=e=>I()(A()(e.y0)),J=e=>I()(A()(e.y1)),Y=(e,t)=>{if(e&&t&&t.find(t=>{let{name:n}=t;return"series"===e[n]})){var n;return null===(n=t.find(t=>{let{name:n}=t;return"y"===e[n]}))||void 0===n?void 0:n.name}},ee=(e,t,n)=>{let r=n.map(e=>e.name),i=t.rows.map(e=>{let t=S()(eF(e,n).filter(O.hj));return P()(e,(e,n)=>r.includes(n)&&"number"==typeof e?e/t:e)});return{...t,rows:i}};var et=n(20948),en=n(51597),er=n(23539),ei=n(42712),es=n(22501),eo=n(77833),el=n(61217);let ea=(e,t,n)=>{let r=t=>(0,R.so)(e,t.name),i=G(t).filter(r),s=J(t).filter(r),o=ec(e,t,n),l=ed(e,t,n),a=eh(e,t,n,i,e.options.yAxis[0]);return(0,R.qP)(e,o)&&a&&eu(e,t,l,a,o),{color:ey(e,t.ys),x:l,y0:a,y1:eh(e,t,n,s,e.options.yAxis[1]),z:o}},eu=(e,t,n,r,i)=>{let s={x:n,y0:r},o={x:{offsets:{min:0,max:0}},y:{offsets:{min:0,max:0}}},l=(e,t,n,r,i)=>{let s=n>r,l=s?n:r;e-t<(s?r:n)?o[i].offsets.min=Math.max(Math.abs(e-t),o[i].offsets.min):e+t>l&&(o[i].offsets.max=Math.max(Math.abs(e+t-l),o[i].offsets.max))};return t.rows.forEach(e=>{let s=eC(i,t.z)(e),o=n.range();if(l(eC(n,t.x)(e),s,o[0],o[1],"x"),r){let n=r.range();t.y0.scatter.forEach(t=>{void 0!==e[t.name]&&l(eC(r,t)(e),s,n[0],n[1],"y")})}}),s.x.range([n.range()[0]+o.x.offsets.min,n.range()[1]-o.x.offsets.max]),s.y0.range([s.y0.range()[0]-o.y.offsets.max,s.y0.range()[1]+o.y.offsets.min]),s},ec=(e,t,n)=>{if((0,R.qP)(e,t.z))return em(e,t.rows,[t.z],3,.1*w()([n.xMax,n.yMax]))},ed=(e,t,n)=>{let r=(0,R.z)(e),i=[0,n.xMax],s=t.x.type;return r||"string"===s?ep(e,t,[t.x],i,"x"):"datetime"===s?ev(e,t,[t.x],i,"x"):"logarithmic"===e.options.xAxis.type?ex(e,t,[t.x],i,"x"):ef(e,t,[t.x],i,"x")},eh=(e,t,n,r,i)=>{var s,o,l,a,u;let c=[n.yMax,0],d=null===(s=r[0])||void 0===s?void 0:s.type;return i&&0!==r.length?"string"===d?ep(e,t,r,c,"y"):"datetime"===d?ev(e,t,r,c,"y"):"logarithmic"===i.type?ex(e,t,r,c,"y"):"line"===e.options.globalSeriesType&&((null===(l=e.options.seriesOptions)||void 0===l?void 0:null===(o=l[r[0].name])||void 0===o?void 0:o.type)===void 0||(null===(u=e.options.seriesOptions)||void 0===u?void 0:null===(a=u[r[0].name])||void 0===a?void 0:a.type)==="line")?ef(e,t,r,c,"y"):eg(e,t,r,c):void 0},em=(e,t,n,r,i)=>{let s=eb(e,t,n,"z"),o=s[1]?s[0]/s[1]*i:0;return(0,en.Z)({range:[Math.max(r,o),i],domain:eb(e,t,n,"z")})},ep=(e,t,n,r,i)=>{let s="x"===i&&e.options.reverseX;return(0,er.Z)({domain:s?eE(t.rows,n).map(D.iQ).reverse():eE(t.rows,n).map(D.iQ),padding:.1,range:r})},ev=(e,t,n,r,i)=>{let s="x"===i&&e.options.reverseX;return(0,ei.Z)({domain:s?ej(t.rows,n).reverse():ej(t.rows,n),range:r})},ex=(e,t,n,r,i)=>{let s="x"===i&&e.options.reverseX,o=eb(e,t.rows,n,i),l=0===o[0]?w()(eI(t.rows,n).filter(e=>e>0))||1:o[0],a=0===o[1]?_()(eI(t.rows,n).filter(e=>e<0))||-1:o[1];return(0,es.Z)({domain:s?[l,a].reverse():[l,a],range:r})},ef=(e,t,n,r,i)=>{let s="x"===i&&e.options.reverseX;return(0,eo.Z)({domain:s?eb(e,t.rows,n,i).reverse():eb(e,t.rows,n,i),range:r})},eg=(e,t,n,r)=>(0,eo.Z)({domain:e_(e,t.rows,n),range:r}),ey=(e,t)=>{let n=(0,el.Z)({domain:t.map(e=>e.name),range:et.vK}),r=t=>(0,R.BH)(e,t)||n(t);return t=>{let n=r(t);return(0,R.WB)(e,t)?n:/^#[0-9a-fA-F]{6}$/.test(n)?n+"55":n}},ej=(e,t)=>{let n=e.flatMap(e=>eF(e,t)).map(D.wC);return[w()(n)||0,_()(n)||0]},eb=(e,t,n,r)=>{if("y"===r&&(0,R.R9)(e)){let{positive:r,negative:i}=eO(e.options,n,t);return[w()(i)||0,_()(r)||0]}{let e=eI(t,n);return[w()(e)||0,_()(e)||0]}},e_=(e,t,n)=>{let[r,i]=eb(e,t,n,"y");return[Math.min(0,r),Math.max(0,i)]},eC=(e,t)=>n=>{if(ek(e)){let r=e.bandwidth()/2,i=eL(t)(n);return(e(i)||0)+r}if("datetime"===t.type){let r=eA(t)(n);return e(r)||0}{let r=eR(t)(n);return e(r)||0}},ew=(e,t)=>e.map(e=>{let n={...e};return t.forEach(e=>{"float"!==e.type||n[e.name]||(n[e.name]=0)}),n}),ek=e=>"bandwidth"in e,eS=(e,t)=>e.filter(e=>t.find(t=>(0,O.C_)(e[t.name]))),eE=(e,t)=>e.flatMap(e=>eF(e,t)),eI=(e,t)=>eE(e,t).map(D.am),eq=(e,t)=>e.map(e=>S()(eN(e,t).filter(e=>e>=0))),eP=(e,t)=>e.map(e=>S()(eN(e,t).filter(e=>e<0))),ez=(e,t)=>e.map(e=>w()(eN(e,t).filter(e=>e<0))).filter(O.hj),eM=(e,t)=>e.map(e=>_()(eN(e,t).filter(e=>e>=0))).filter(O.hj),eN=(e,t)=>eF(e,t).map(D.am),eF=(e,t)=>t.map(t=>e[t.name]),eL=e=>t=>(0,D.iQ)(t[e.name]),eA=e=>t=>(0,D.wC)(t[e.name]),eR=e=>t=>(0,D.am)(t[e.name]),eT=e=>t=>"datetime"===e.type?(0,D.wC)(t[e.name]):(0,D.am)(t[e.name]),eD=(e,t)=>t.reduce((t,n)=>{let{name:r}=n,i=e.seriesOptions&&r in e.seriesOptions&&e.seriesOptions[r].type||e.globalSeriesType;return t[i]||(t[i]=[]),t[i].push(n),t},{}),eO=(e,t,n)=>{let r=eD(e,t);return Object.entries(r).reduce((e,t)=>{let[r,i]=t,s=["column","area"].includes(r);return e.positive=e.positive.concat(s?eq(n,i):eM(n,i)),e.negative=e.negative.concat(s?eP(n,i):ez(n,i)),e},{positive:[],negative:[]})};var eZ=n(15616),eB=n.n(eZ),eQ=n(39612);let eV=e=>{let t=Math.floor(e.bounds.width/100),n=Math.floor(e.bounds.height/100),i=e.scales.y0||e.scales.y1,s=(0,et.Fg)();return(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)(g.Z,{scale:i,width:e.bounds.xMax,height:e.bounds.yMax,className:p().grid,numTicks:n,lineStyle:{stroke:s.grid_lines_color}}),e.scales.y0&&!ek(e.scales.y0)&&!eX(e.visual.options.yAxis[0])&&(0,r.jsx)(eH,{...e,scale:e.scales.y0}),e.scales.y1&&!ek(e.scales.y1)&&!eX(e.visual.options.yAxis[1])&&(0,r.jsx)(eH,{...e,scale:e.scales.y1}),e.scales.x&&(0,r.jsx)(v.Z,{axisLineClassName:p().line,label:eU(e.visual.options.xAxis),labelProps:{className:p().label,fill:s.axis_legend_color,textAnchor:"middle",y:33},numTicks:t,scale:e.scales.x,tickClassName:p().tick,tickComponent:eW,tickLength:5,tickStroke:"transparent",tickValues:e$(e.scales.x,t),top:e.bounds.yMax,tickFormat:e.visual.options.xAxis.tickFormat?eK(e.visual.options.xAxis.tickFormat):j.Of.bind(null,e.visual,e.series,e.series.x)}),e.scales.y0&&(0,r.jsx)(x.Z,{axisLineClassName:p().line,label:eU(e.visual.options.yAxis[0]),labelProps:{className:p().label,fill:s.axis_legend_color,textAnchor:"middle"},numTicks:n,scale:e.scales.y0,tickClassName:p().tick,tickComponent:eW,tickLength:5,tickStroke:"transparent",tickFormat:e.visual.options.yAxis[0].tickFormat?eK(e.visual.options.yAxis[0].tickFormat):j.Of.bind(null,e.visual,e.series,G(e.series)[0])}),e.scales.y1&&(0,r.jsx)(f.Z,{axisLineClassName:p().line,label:eU(e.visual.options.yAxis[1]),labelProps:{className:p().label,fill:s.axis_legend_color,textAnchor:"middle"},left:e.bounds.xMax,numTicks:n,scale:e.scales.y1,tickClassName:p().tick,tickComponent:eW,tickLength:5,tickStroke:"transparent",tickFormat:e.visual.options.yAxis[1].tickFormat?eK(e.visual.options.yAxis[1].tickFormat):j.Of.bind(null,e.visual,e.series,J(e.series)[0])})]})},eH=e=>{let t=(0,et.Fg)(),n=e.scale(0);return n<0||n>e.bounds.yMax?null:(0,r.jsx)("line",{x1:0,x2:e.bounds.xMax,y1:n,y2:n,className:p().zero,stroke:t.axis_zero_color})},eW=e=>{let t=(0,et.Fg)();return(0,r.jsx)("svg",{x:e.dx,y:e.dy,fontSize:e.fontSize,style:{overflow:"visible"},children:(0,r.jsx)("text",{x:e.x,y:e.y,fill:t.axis_text_color,fontFamily:e.fontFamily,fontSize:e.fontSize,textAnchor:e.textAnchor,children:(0,r.jsx)("tspan",{x:e.x,dy:0,children:e.formattedValue})})})},e$=(e,t)=>{if(!ek(e))return e.ticks().filter((e,n,r)=>t>=r.length||0===n||n===r.length-1||n%Math.floor(r.length/(t-2))==0)},eU=e=>{var t;return null==e?void 0:null===(t=e.title)||void 0===t?void 0:t.text},eX=e=>(null==e?void 0:e.type)==="logarithmic";function eK(e){return function(t){try{if(t instanceof Date)return eB()(t,e);if("string"==typeof t&&(0,eQ.mD)(t))return eB()((0,eQ.Y)(t),e)}catch(e){}return(0,y.uf)(t,e)}}var eG=n(18172),eJ=n(51249),eY=n.n(eJ),e0=n(94184),e1=n.n(e0),e5=n(75472),e2=n.n(e5);let e8=e=>{let t=(0,et.Fg)(),n=e.bounds.legend,i=e6(e);if(0===n)return null;let s={color:t.series_legend_color},o=t=>()=>{e.setVisual((0,eG.ZP)(n=>{var r,i;let s=n.options,o=(0,R.so)(e.visual,t);s.seriesOptions=null!==(r=s.seriesOptions)&&void 0!==r?r:{},s.seriesOptions[t]=null!==(i=s.seriesOptions[t])&&void 0!==i?i:{},s.seriesOptions[t].visible=!o}))},l=(t,n)=>{e.setVisual((0,eG.ZP)(e=>{var r;let i=e.options,s=i.seriesOptions=null!==(r=i.seriesOptions)&&void 0!==r?r:{};t.forEach(e=>{var t;let{name:r}=e;s[r]=null!==(t=s[r])&&void 0!==t?t:{},s[r].visible=n})}))},a=(t,n,r)=>{e.setVisual((0,eG.ZP)(e=>{var i;let s=e.options,o=s.seriesOptions=null!==(i=s.seriesOptions)&&void 0!==i?i:{};r.forEach(e=>{var t;let{name:r}=e;o[r]=null!==(t=o[r])&&void 0!==t?t:{},o[r].faded=!n}),n&&(o[t].faded=n)}))},u=t=>()=>{e.setVisual((0,eG.ZP)(n=>{var r,i;let s=n.options,o=(0,R.so)(e.visual,t);s.valuesOptions=null!==(r=s.valuesOptions)&&void 0!==r?r:{},s.valuesOptions[t]=null!==(i=s.valuesOptions[t])&&void 0!==i?i:{},s.valuesOptions[t].visible=!o}))},c=(t,n)=>{e.setVisual((0,eG.ZP)(r=>{var i;let s=r.options,o=s.valuesOptions=null!==(i=s.valuesOptions)&&void 0!==i?i:{};t.forEach(t=>{var r;let i=String(t[e.series.x.name]);o[i]=null!==(r=o[i])&&void 0!==r?r:{},o[i].visible=n})}))},d=(t,n,r)=>{e.setVisual((0,eG.ZP)(i=>{var s;let o=i.options,l=o.valuesOptions=null!==(s=o.valuesOptions)&&void 0!==s?s:{};r.forEach(t=>{var r;let i=String(t[e.series.x.name]);l[i]=null!==(r=l[i])&&void 0!==r?r:{},l[i].faded=!n}),n&&(l[t].faded=n)}))};if((0,R.IM)(e.visual)){let t=e2()(e.series.rows,[e.series.ys[0].name],["desc"]),o=t.every(t=>{let n=String(t[e.series.x.name]),r=(0,R.so)(e.visual,n);return r});return(0,r.jsx)("div",{className:eY().legend,style:{width:n},children:(0,r.jsxs)("ul",{"aria-label":"Chart legend",children:[t.length>2&&(0,r.jsx)(e3,{title:"All",selected:o,onChange:()=>c(t,!o),labelStyle:s,swatchStyle:{color:"var(--text--secondary)"}}),t.map((n,o)=>{let l=String(n[e.series.x.name]),a=(0,R.so)(e.visual,l);return(0,r.jsx)(e3,{title:(0,j.Ui)(e.series.x,n[e.series.x.name]),selected:a,onChange:u(l),onHoverChange:e=>d(l,e,t),labelStyle:s,swatchStyle:i(eL(e.series.x)(n))},o)})]})})}let h=K(e.series).reverse(),m=h.every(t=>{let n=t.name,r=(0,R.so)(e.visual,n);return r});return(0,r.jsx)("div",{className:eY().legend,style:{width:n},children:(0,r.jsxs)("ul",{"aria-label":"Chart legend",children:[h.length>2&&(0,r.jsx)(e3,{title:"All",selected:m,onChange:()=>l(h,!m),labelStyle:s,swatchStyle:{color:"var(--text--secondary)"}}),h.map(t=>{let n=t.name,l=(0,R.so)(e.visual,n);return(0,r.jsx)(e3,{title:(0,R.Gj)(e.visual,n),selected:l,onChange:o(n),onHoverChange:e=>a(n,e,h),labelStyle:s,swatchStyle:i(n)},n)})]})})};function e3(e){let{title:t,selected:n,onChange:i,onHoverChange:s,labelStyle:o,swatchStyle:a}=e;return(0,r.jsx)("li",{children:(0,r.jsxs)("label",{style:o,className:e1()(n&&eY().selected),onMouseEnter:s?()=>s(!0):void 0,onMouseLeave:s?()=>s(!1):void 0,children:[(0,r.jsx)("span",{className:eY().text,children:t}),(0,r.jsx)("span",{"aria-hidden":!0,style:a,children:(0,r.jsx)(e4,{filled:n})}),(0,r.jsx)(l.Z,{children:(0,r.jsx)("input",{type:"checkbox",onChange:i,checked:n})})]})})}function e4(e){let{filled:t}=e;return(0,r.jsx)("svg",{viewBox:"0 0 9 9",children:(0,r.jsx)("rect",{x:.5,y:.5,width:8,height:8,rx:2,ry:2,strokeWidth:1,stroke:"currentColor",fill:t?"currentColor":"none"})})}let e6=e=>{let{visual:t,scales:n,series:r}=e;return e=>{let i={color:n.color(e)},s=!!r.y0.scatter.find(t=>{let{name:n}=t;return n===e});return(0,R.qP)(t,n.z)&&s&&(i.opacity=.8),i}};var e9=n(96328),e7=n.n(e9),te=n(14569),tt=n(58065),tn=n(64268),tr=n(98762),ti=n(56492),ts=n.n(ti);let to=e=>(0,R.xx)(e.visual)?(0,r.jsx)(r.Fragment,{children:e.series.rows.map((t,n)=>(0,r.jsx)(ta,{className:ts().text,x:eC(e.scales.x,e.series.x)(t),y:eC(e.y,e.column)(t)-10,children:(0,j.Bw)(e.visual,e.column,t[e.column.name],{isRightYAxisSeries:e.isRightYAxisSeries})},n))}):null,tl=e=>{if(!(0,R.xx)(e.visual))return null;let t=eR(e.column)(e.row)/e.total,n=t>.05?(0,y.uf)(t,"0.0%"):"";return(0,r.jsx)(ta,{x:e.centroid[0],y:e.centroid[1],children:n})},ta=e=>(0,r.jsx)("text",{x:e.x,y:e.y,textAnchor:"middle",dominantBaseline:"middle",className:e1()(ts().text,e.className),children:e.children});var tu=n(91033),tc=n(40788),td=n(26330),th=n.n(td),tm=n(80949),tp=n(46209),tv=n(29173),tx=n(73303),tf=n.n(tx),tg=n(18776);let ty=e=>{let{TooltipInPortal:t}=(0,tg.Z)({polyfill:tu.Z}),[n,i]=o.useState(-1),s=e.series.rows[n],{updatePointerEvents:l,chartX:a,chartY:u,pointerY:c,pointerX:d}=tj(),h=o.useMemo(()=>{if(s)return(0,r.jsx)(tw,{visual:e.visual,series:e.series,scales:e.scales,row:s})},[e.visual,e.series,s]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("rect",{width:e.bounds.xMax,height:e.bounds.yMax,onMouseMove:t=>{let{chartX:n}=l(t);i(tb({xScale:e.scales.x,series:e.series,reverseX:e.visual.options.reverseX,chartX:n}))},onMouseLeave:()=>{i(-1)},fill:"transparent"}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tE,{bounds:e.bounds,x:a,y:u}),(0,r.jsx)(t,{className:th().tooltip,top:c,left:d,children:h})]})]})},tj=()=>{let[e,t]=o.useState(0),[n,r]=o.useState(0),[i,s]=o.useState(0),[l,a]=o.useState(0);return{updatePointerEvents:e=>{let n=e.target.getBoundingClientRect(),i=(0,tc.Z)(e),o=i.x-n.x,l=i.y-n.y;return t(i.x),r(i.y),s(o),a(l),{chartX:o,chartY:l}},chartX:i,chartY:l,pointerX:e,pointerY:n}},tb=e=>{let{xScale:t,series:n,reverseX:r,chartX:i}=e;if(ek(t)){let e=n.rows.map(e=>e[n.x.name]).map(String),s=e.map(t).map(D.am);if(!r)return(0,tp.Nw)(s,i-t.step());{let e=(0,tp.ml)(s.reverse(),i-t.step());return s.length-1-e}}{let e=(0,tv.Z)(eT(n.x));return e.center(n.rows,t.invert(i))}},t_=e=>{let{TooltipInPortal:t}=(0,tg.Z)({polyfill:tu.Z}),{updatePointerEvents:n,pointerX:i,pointerY:s,chartX:l,chartY:a}=tj(),[u,c]=o.useState(-1),[d,h]=o.useState(null),m=e.series.rows[u],p=o.useMemo(()=>{if(m)return(0,r.jsx)(tS,{activeColumnName:d,groupColumnName:e.groupColumnName,visual:e.visual,series:e.series,scales:e.scales,row:m})},[e.visual,e.series,m,d]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("rect",{width:e.bounds.xMax,height:e.bounds.yMax,onMouseMove:t=>{let{chartX:r,chartY:i}=n(t),s=[],o={};e.series.rows.forEach((t,n)=>{let l=eC(e.scales.x,e.series.x)(t),a=e.scales.z?eC(e.scales.z,e.series.z)(t):3,[u,c]=[l-a,l+a];if(r>=u&&r<=c){let r=e.scales.y0;r&&e.series.y0.scatter.forEach(e=>{let l=eC(r,e)(t);if((0,O.C_)(t[e.name])){let[t,r]=[l-a,l+a];i>=t&&i<=r&&(o[n]=e.name,s.push(n))}})}});let[l]=s.reduce((t,n)=>{let[r,i]=t,s=e.series.rows[n][e.series.z.name];return(0,O.hj)(s)&&(!i||s<i)?[n,s]:[r,i]},[-1,null]);l<0&&!(0,R.Rz)(e.visual)&&(l=tb({xScale:e.scales.x,series:e.series,reverseX:e.visual.options.reverseX,chartX:r})),c(l),h(o[l]||null)},onMouseLeave:()=>{c(-1),h(null)},fill:"transparent"}),m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tE,{bounds:e.bounds,x:l,y:a}),(0,r.jsx)(t,{className:th().tooltip,top:s,left:i,children:p})]})]})},tC=e=>{let{TooltipInPortal:t}=(0,tg.Z)({polyfill:tu.Z}),[n,i]=o.useState(0),[s,l]=o.useState(0),a=o.useMemo(()=>(0,r.jsx)(tw,{visual:e.visual,series:e.series,scales:e.scales,row:e.row}),[e.visual,e.series,e.row]);return(0,r.jsxs)(r.Fragment,{children:[e.children({onMouseMove:e=>{i(e.clientX),l(e.clientY)},onMouseLeave:()=>{i(0),l(0)}}),n&&s&&(0,r.jsx)(t,{className:th().tooltip,top:s,left:n,children:a})]})},tw=e=>{let t=e6(e),n=t=>"pie"===e.visual.options.globalSeriesType?eL(e.series.x)(e.row):t.name,i=G(e.series).filter(t=>(0,O.C_)(e.row[t.name])).reverse(),s=J(e.series).filter(t=>(0,O.C_)(e.row[t.name])).reverse(),o=t=>tf()(t,function(t){return Number(e.row[t.name]||0)}),l=(0,R.R9)(e.visual)&&(0,R.QH)(e.visual)?o(s):null,a=(0,R.R9)(e.visual)&&(0,R.QH)(e.visual)?o(i):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:(0,j.Ui)(e.series.x,e.row[e.series.x.name])}),(0,r.jsxs)("ul",{children:[i.map(i=>{let s=(0,R.so)(e.visual,i.name);return s&&(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:t(n(i)),children:(0,r.jsx)(tm.J,{icon:"circle-fill"})}),(0,r.jsx)("span",{children:(0,R.Gj)(e.visual,i.name)}),(0,r.jsx)("span",{children:(0,j.Bw)(e.visual,i,e.row[i.name])})]},i.name)}),!!(a&&i.length>1)&&(0,r.jsxs)("li",{className:th().noColor,children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsx)("span",{children:(0,j.Bw)(e.visual,e.series.y0.column[0],a)})]}),s.map(i=>{let s=(0,R.so)(e.visual,i.name);return s&&(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:t(n(i)),children:(0,r.jsx)(tm.J,{icon:"circle-fill"})}),(0,r.jsx)("span",{children:(0,R.Gj)(e.visual,i.name)}),(0,r.jsx)("span",{children:(0,j.Bw)(e.visual,i,e.row[i.name],{isRightYAxisSeries:!0})})]},i.name)}),!!(l&&s.length>1)&&(0,r.jsxs)("li",{className:th().noColor,children:[(0,r.jsx)("h1",{children:"Total"}),(0,r.jsx)("span",{children:(0,j.Bw)(e.visual,e.series.y1.column[0],l)})]})]})]})},tk=(e,t,n)=>{let r=e.y0.scatter.map(e=>{let{name:t}=e;return t});return G(e).filter(e=>{let i=r.includes(e.name),s=e.name===n;return(0,O.C_)(t[e.name])&&(!n||!i||s)})},tS=e=>{let{groupColumnName:t,activeColumnName:n,series:i,row:s,visual:o,scales:l}=e,a=tk(i,s,n),u=e6({series:i,scales:l,visual:o}),c=t?a[0].name:(0,j.Ui)(i.x,s[i.x.name]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:th().title,children:[t&&(0,r.jsx)("span",{style:u(a[0].name),children:(0,r.jsx)(tm.J,{icon:"circle-fill"})}),(0,r.jsx)("h1",{children:c})]}),(0,r.jsxs)("ul",{children:[!t&&a.map(e=>{let t=(0,R.so)(o,e.name);return t&&(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:u(e.name),children:(0,r.jsx)(tm.J,{icon:"circle-fill"})}),(0,r.jsx)("span",{children:(0,R.Gj)(o,e.name)}),(0,r.jsx)("span",{children:(0,j.Bw)(o,e,s[e.name])})]},e.name)}),t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("li",{className:th().noColor,children:[(0,r.jsx)("span",{children:i.x.name}),(0,r.jsx)("span",{children:(0,j.Ui)(i.x,s[i.x.name])})]}),(0,r.jsxs)("li",{className:th().noColor,children:[(0,r.jsx)("span",{children:t}),(0,r.jsx)("span",{children:(0,j.Bw)(o,a[0],s[a[0].name])})]})]}),l.z&&(0,r.jsxs)("li",{className:th().noColor,children:[(0,r.jsx)("span",{children:(0,R.Gj)(o,i.z.name)}),(0,r.jsx)("span",{children:(0,j.Bw)(o,i.z,s[i.z.name])})]})]})]})},tE=e=>(0,r.jsxs)("g",{className:th().crosshair,children:[(0,r.jsx)("line",{x1:e.x,x2:e.x,y1:0,y2:e.bounds.yMax}),(0,r.jsx)("line",{x1:0,x2:e.bounds.xMax,y1:e.y,y2:e.y})]}),tI=e=>{let{groupColumnName:t,...n}=e;return(0,R.qP)(n.visual,n.scales.z)?(0,r.jsx)(t_,{groupColumnName:t,...n}):(0,r.jsx)(ty,{...n})};var tq=n(96581),tP=n(99599),tz=n(85967),tM=n(99857);let tN=e=>{var t;let n=tZ(e,tT(e,"column")),i=tD(e);if(0===n.length||!ek(e.scales.x)||ek(i))return null;let{rows:s}=e.series,l=e1()(e7().column,s.length>20&&e7().many),a=i(tO(e)?i.domain()[0]:0);if((0,R.R9)(e.visual))return(0,r.jsx)("g",{className:e1()(l,e7().stack),children:(0,r.jsx)(tr.Z,{keys:n.map(e=>e.name),data:ew(e.series.rows,n),x:eL(e.series.x),xScale:e.scales.x,yScale:i,color:e.scales.color,offset:"diverging",children:e=>e.map((e,t)=>e.bars.map((e,n)=>(0,r.jsx)("rect",{x:e.x,y:e.y,height:Math.abs(e.height),width:Math.abs(e.width),fill:e.color},"".concat(t,"-").concat(n))))})});let u=(0,er.Z)({domain:n.map(e=>e.name),range:[0,e.scales.x.bandwidth()]});return(0,r.jsx)("g",{className:l,children:(0,r.jsx)(tn.Z,{keys:n.map(e=>e.name),data:eS(e.series.rows,n),height:e.bounds.yMax,x0:eL(e.series.x),x0Scale:e.scales.x,x1Scale:u,yScale:i,color:e.scales.color,children:s=>s.map((s,l)=>(0,r.jsx)(tP.Z,{left:s.x0,children:s.bars.map((s,u)=>(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("rect",{x:s.x,y:s.value<0?a:s.y,height:Math.abs(i(null!==(t=s.value)&&void 0!==t?t:0)-a),width:Math.abs(s.width),fill:s.color}),(0,R.xx)(e.visual)&&(0,r.jsx)(ta,{x:s.x+s.width/2,y:s.y-10,children:(0,j.Bw)(e.visual,n.find(e=>e.name===s.key),s.value,{isRightYAxisSeries:1===e.y})})]},"".concat(l,"-").concat(u)))},s.index))})})},tF=e=>{let t=tZ(e,tT(e,"area")),n=tD(e);if(0===t.length||ek(n))return null;let i=eI(e.series.rows,G(e.series).filter(t=>(0,R.so)(e.visual,t.name))).filter(e=>e<0).length>0;return(0,R.R9)(e.visual)?(0,r.jsx)("g",{className:e1()(e7().area,e7().stack),children:(0,r.jsx)(tt.Z,{keys:t.map(e=>e.name),color:e.scales.color,data:ew(e.series.rows,t),offset:i?"diverging":"none",x:t=>eC(e.scales.x,e.series.x)(t.data),y0:e=>n((0,D.am)(e[0])),y1:e=>n((0,D.am)(e[1]))})}):(0,r.jsxs)("g",{className:e7().area,children:[t.map(t=>(0,r.jsx)(te.Z,{yScale:n,data:eS(e.series.rows,[t]),x:eC(e.scales.x,e.series.x),y0:n(0),y1:eC(n,t),fill:e.scales.color(t.name)},t.name)),t.map(t=>(0,o.createElement)(to,{...e,key:t.name,column:t,y:n,isRightYAxisSeries:1===e.y}))]})},tL=e=>{let t=tZ(e,tT(e,"line")),n=tD(e);return 0===t.length?null:(0,r.jsxs)("g",{className:e7().line,children:[t.map(t=>(0,r.jsx)(tz.Z,{data:eS(e.series.rows,[t]),x:eC(e.scales.x,e.series.x),y:eC(n,t),stroke:e.scales.color(t.name)},t.name)),t.map(t=>(0,o.createElement)(to,{...e,key:t.name,column:t,y:n,isRightYAxisSeries:1===e.y}))]})},tA=e=>{let t=tZ(e,tT(e,"scatter")),n=tD(e);return 0===t.length?null:(0,r.jsxs)("g",{className:e7().line,children:[t.map((t,i)=>e.series.rows.filter(e=>t.name in e).map((s,o)=>(0,r.jsx)(tq.Z,{fill:e.scales.color(t.name),...tB(e,s,n,t)},"".concat(i,"-").concat(o)))),t.map(t=>(0,o.createElement)(to,{...e,key:t.name,column:t,y:n,isRightYAxisSeries:1===e.y}))]})},tR=e=>{var t;let n=tT(e,"pie"),i=o.useMemo(()=>eS(e.series.rows,n).filter(t=>(0,R.so)(e.visual,String(t[e.series.x.name]))),[e.visual,e.series]);if(0===n.length)return null;let s=t=>e.scales.color(eL(e.series.x)(t)),l=S()(eq(i,n)),a=e.bounds.xMax/2,u=e.bounds.yMax/2,c=Math.min(a,u),d=i.length>100?0:.005;return(0,r.jsx)(tM.Z,{data:i,pieValue:e=>eR(n[0])(e),outerRadius:c,innerRadius:c/2,padAngle:d,children:i=>{let{arcs:c,path:d}=i;return(0,r.jsx)(tP.Z,{top:u,left:a,children:c.map((i,a)=>(0,o.createElement)(tC,{...e,row:i.data,key:a},u=>{let{onMouseMove:c,onMouseLeave:h}=u;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("path",{d:null!==(t=d(i))&&void 0!==t?t:"",fill:s(i.data),onMouseMove:c,onMouseLeave:h}),(0,r.jsx)(tl,{visual:e.visual,column:n[0],row:i.data,total:l,centroid:d.centroid(i)})]},a)}))})}})},tT=(e,t)=>0===e.y?e.series.y0[t]:e.series.y1[t],tD=e=>0===e.y?e.scales.y0:e.scales.y1,tO=e=>{var t;return(null===(t=e.visual.options.yAxis[e.y])||void 0===t?void 0:t.type)==="logarithmic"},tZ=(e,t)=>t.filter(t=>(0,R.so)(e.visual,t.name)),tB=(e,t,n,r)=>{let{scales:{z:i},series:{z:s}}=e,o=1,l=3,a=eC(e.scales.x,e.series.x)(t),u=eC(n,r)(t);return i&&(o=.8,l=eC(i,s)(t)),{fillOpacity:o,r:l,cx:a,cy:u}};var tQ=n(47877),tV=n(45784);let tH=(e,t,n,r)=>{let i=(0,R.IM)(e),s=G(t),o=J(t),l={top:20,bottom:40,left:20,right:20},a=(0,R.tS)(e)&&n>400?130:0;return a>0&&(l.right+=a-10),!i&&s.length>0&&(l.left+=40),!i&&o.length>0&&(l.right+=40),{xMax:n-l.left-l.right,yMax:r-l.top-l.bottom,width:n,height:r,margin:l,legend:a}};var tW=n(46166),t$=n(70894),tU=n.n(t$),tX=n(3674),tK=n.n(tX),tG=n(82876);let tJ=e=>(0,r.jsx)("figure",{className:d().chart,children:(0,r.jsx)(tQ.S,{children:(0,r.jsx)(tV.Z,{children:t=>{let{width:n,height:i}=t;return n>0&&i>0?(0,r.jsx)(tY,{...e,width:n,height:i}):null}})})}),tY=o.memo(e=>{let t,n,i,s,l;let[a,u]=o.useState(e.visual),c=(0,R.IM)(a),d=(0,et.Fg)();o.useEffect(()=>{u(e.visual)},[e.visual]);try{t=Z(a,e.result),n=tH(a,t,e.width,e.height),s=d.chart_colors?t5(a,t,d.chart_colors):a,i=ea(s,t,n),l=Y(e.visual.options.columnMapping,e.result.columns)}catch(e){if(e instanceof TypeError)throw e;if(e instanceof Error)return(0,r.jsx)(h.M,{children:e.message});return(0,r.jsx)(h.M,{children:"Something went wrong."})}let m={visual:s,series:t,bounds:n,scales:i},p=i.y0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tN,{...m,y:0}),(0,r.jsx)(tF,{...m,y:0}),(0,r.jsx)(tA,{...m,y:0}),(0,r.jsx)(tL,{...m,y:0}),(0,r.jsx)(tR,{...m,y:0})]}),v=i.y1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tN,{...m,y:1}),(0,r.jsx)(tF,{...m,y:1}),(0,r.jsx)(tA,{...m,y:1}),(0,r.jsx)(tL,{...m,y:1}),(0,r.jsx)(tR,{...m,y:1})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t0,{watermark:e.watermark}),(0,r.jsx)(t1,{visual:a}),(0,r.jsx)(e8,{...m,setVisual:u}),(0,r.jsx)("svg",{width:n.width,height:n.height,children:(0,r.jsxs)(tP.Z,{top:n.margin.top,left:n.margin.left,children:[!c&&(0,r.jsx)(eV,{...m}),p,v,!c&&(0,r.jsx)(tI,{groupColumnName:l,...m})]})})]})}),t0=e=>{let{mode:t}=(0,tG.v)();return e.watermark?(0,r.jsx)("img",{alt:"Dune logo watermark",src:"dark"===t?"/assets/logo-512w-dark.png":"/assets/logo-512w.png",className:d().watermark}):null},t1=e=>{var t;let n=null===(t=e.visual.query_details)||void 0===t?void 0:t.query_id,i=n&&(0,r.jsx)(s(),{href:(0,tW.xT)(n)+"#results",children:"See query results table"});return(0,r.jsx)(l.Z,{children:(0,r.jsxs)("figcaption",{children:[(0,r.jsxs)("p",{children:[u()(e.visual.options.globalSeriesType)," chart"]}),i&&(0,r.jsx)("p",{children:i})]})})},t5=(e,t,n)=>"pie"===e.options.globalSeriesType?t8(e,t,n):t2(e,t,n),t2=(e,t,n)=>{let r=0,i={...e.options.seriesOptions},s=tK()(t.rows[0]||{}).sort();return s.forEach(t=>{let s=e.options.columnMapping?e.options.columnMapping[t]:void 0;"x"!==s&&(i[t]={...i[t],color:n[r]},r=(r+1)%n.length)}),{...e,options:{...e.options,seriesOptions:i}}},t8=(e,t,n)=>{let r={...e.options.valuesOptions},i=0,s=tU()(e.options.columnMapping,e=>"x"===e),o=t.rows.map(e=>String(e[s])).sort();return o.forEach(e=>{r[e]={...r[e],color:n[i]},i=(i+1)%n.length}),{...e,options:{...e.options,valuesOptions:r}}}},90002:function(e,t,n){"use strict";n.d(t,{Bw:function(){return a},Of:function(){return u},Ui:function(){return l},sX:function(){return c}});var r=n(63794),i=n(39612),s=n(94682),o=n(61575);let l=(e,t)=>(0,o.C_)(t)?t instanceof Date?(0,i.EZ)(t.toISOString()):"string"==typeof t&&"datetime"===e.type?(0,i.EZ)(t):h(String(t),100):"",a=function(e,t,n){let{isRightYAxisSeries:l=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!(0,o.C_)(n))return"";if(n instanceof Date)return(0,i.EZ)(n.toISOString());if("string"==typeof n&&"datetime"===t.type)return(0,i.EZ)(n);{if("number"==typeof n&&(0,r.Lp)(e))return(0,s.uf)(n,"0.0%");if("number"!=typeof n&&("string"!=typeof n||"float"!==t.type))return String(n);let i="string"==typeof n?parseFloat(n):n;return l?(0,s.uf)(i,e.options.numberFormatRightYAxisSeries||e.options.numberFormat):(0,s.uf)(i,e.options.numberFormat)}},u=(e,t,n,i)=>(0,o.C_)(i)?i instanceof Date?d(t,n,i.toISOString()):"string"==typeof i&&"datetime"===n.type?d(t,n,i):"number"==typeof i&&(0,r.Lp)(e)?(0,s.uf)(i,c.percentage):"number"==typeof i?(0,s.uf)(i,c.number):h(String(i)):"",c={percentage:"0%",number:"0[.]0a"},d=(e,t,n)=>{let r=e.rows[0][t.name],s=e.rows[e.rows.length-1][t.name];return"string"!=typeof r||"string"!=typeof s?n:(0,i.p6)(n,r,s)},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e.length<t)return e;let n=t-2;return[e.slice(0,Math.ceil(n/2)),e.slice(e.length-Math.floor(n/2))].join("..")}},63794:function(e,t,n){"use strict";n.d(t,{BH:function(){return r},Gj:function(){return o},IM:function(){return p},Lp:function(){return l},QH:function(){return d},R9:function(){return c},Rz:function(){return v},WB:function(){return s},qP:function(){return x},so:function(){return i},tS:function(){return u},xx:function(){return a},z:function(){return h}});let r=(e,t)=>{var n;return null===(n=f(e,t))||void 0===n?void 0:n.color},i=(e,t)=>{var n;return(null===(n=f(e,t))||void 0===n?void 0:n.visible)!==!1},s=(e,t)=>{var n;return(null===(n=f(e,t))||void 0===n?void 0:n.faded)!==!1},o=(e,t)=>{var n,r;return(null===(r=e.options.seriesOptions)||void 0===r?void 0:null===(n=r[t])||void 0===n?void 0:n.name)||t},l=e=>{var t;return!!(null===(t=e.options.series)||void 0===t?void 0:t.percentValues)},a=e=>!!e.options.showDataLabels,u=e=>{var t;return!!(null===(t=e.options.legend)||void 0===t?void 0:t.enabled)},c=e=>{var t;return"line"!==e.options.globalSeriesType&&!!(null===(t=e.options.series)||void 0===t?void 0:t.stacking)},d=e=>{var t;return!!(null===(t=e.options.series)||void 0===t?void 0:t.showTotal)},h=e=>{var t;let n=Object.values(null!==(t=e.options.seriesOptions)&&void 0!==t?t:{});return n.some(e=>"column"===e.type)||"column"===e.options.globalSeriesType},m=e=>t=>{var n;let r=Object.values(null!==(n=t.options.seriesOptions)&&void 0!==n?n:{});return r.length>0?r.every(t=>t.type===e):t.options.globalSeriesType===e},p=m("pie"),v=m("scatter"),x=(e,t)=>"scatter"===e.options.globalSeriesType&&void 0!==t,f=(e,t)=>{var n;let{valuesOptions:r,seriesOptions:i}=e.options;return null!==(n=null==r?void 0:r[t])&&void 0!==n?n:null==i?void 0:i[t]}},41982:function(e,t,n){"use strict";n.d(t,{a:function(){return y}});var r=n(85893),i=n(67294),s=n(9198),o=n.n(s),l=n(94184),a=n.n(l),u=n(5395),c=n.n(u),d=n(51196),h=n.n(d),m=n(55754),p=n(7022),v=n.n(p),x=n(15183);let f=c()(new Date,10),g=new Date("2008-01-01T00:00"),y=e=>{var t,n;let s=i.useRef(null),[l,u]=i.useState(e.value?h()(e.value):void 0),c=null!==(t=e.wrapperClassNameOverride)&&void 0!==t?t:a()(v().datepicker,"parameter"===e.kind&&v().parameter);return(0,r.jsx)(o(),{id:e.id,portalId:"dialog"===e.kind?"":"portal",dateFormat:"yyyy-MM-dd HH:mm:ss",disabled:e.disabled,dropdownMode:"select",maxDate:f,minDate:g,onChange:t=>{if(u(t),t){let n=(0,m.Z)(t,"yyyy-MM-dd HH:mm:ss");e.onChange(n)}},peekNextMonth:!0,placeholderText:null!==(n=e.placeholder)&&void 0!==n?n:"yyyy-mm-dd hh:mm:ss",popperClassName:v().popper,ref:s,required:e.required,selected:l,showMonthDropdown:!0,showTimeInput:!0,showYearDropdown:!0,timeFormat:"HH:mm",timeInputLabel:"Time:",wrapperClassName:c,onKeyDown:e.onKeyDown,customInput:e.customInput,children:(0,r.jsxs)(x.h,{className:v()["button-group"],right:!0,children:[(0,r.jsx)("a",{className:v()["button-secondary"],onClick:e=>{e.preventDefault(),u(void 0)},children:"Clear"}),(0,r.jsx)("a",{className:v()["button-primary"],onClick:e=>{e.preventDefault(),s.current&&s.current.setOpen(!1)},children:"Done"})]})})}},70353:function(e,t,n){"use strict";n.d(t,{o:function(){return d}});var r=n(85893);n(67294);var i=n(89290),s=n.n(i),o=n(32037),l=n(59999),a=n(80949),u=n(94184),c=n.n(u);let d=e=>(0,r.jsxs)(l.Vq,{...e,size:"sm",className:c()(s().text,e.className),children:[(0,r.jsx)("header",{children:(0,r.jsxs)("h1",{children:[e.icon&&(0,r.jsx)(a.J,{icon:e.icon}),e.label]})}),e.children,(0,r.jsx)("footer",{children:(0,r.jsx)(o.lr,{size:"sm",color2:!0,light:!0,onClick:e.onDismiss,children:"Close"})})]})},82733:function(e,t,n){"use strict";n.d(t,{r:function(){return p}});var r=n(85893),i=n(94184),s=n.n(i),o=n(67294),l=n(47799),a=n.n(l),u=n(71327),c=n.n(u),d=n(51681);let h=e=>{let t=s()(c().down,e.className);return(0,r.jsx)("div",{className:t,children:e.children})},m=e=>{let[t,n]=(0,d.YD)({triggerOnce:!0,threshold:.1}),i=s()(c().up,e.className,!n&&c().off);return(0,r.jsx)("div",{ref:t,className:i,children:e.children})},p=e=>{var t;let n=null!==(t=e.as)&&void 0!==t?t:"section",i={className:s()(a().grid,e.gaps&&a().gaps,e.className),id:e.id,style:e.style,"aria-labelledby":e["aria-labelledby"]},l=o.createElement(n,i,e.children);return e.revealOnLoad?(0,r.jsx)(h,{children:l}):e.revealOnScroll?(0,r.jsx)(m,{children:l}):l}},41685:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r=n(67294),i=n(35560);function s(e){let{data:t,error:n}=(0,i.Z)(e);return(0,r.useEffect)(()=>{n&&console.error(n)},[n]),function(e){return t&&e&&t[e]||[]}}},88276:function(e,t,n){"use strict";n.d(t,{I:function(){return l},U:function(){return o}});var r=n(84077);let i=["data-explorer","query-explorer","version-history"],s="none";function o(){let[e,t,n]=(0,r.Z)("sidebar","data-explorer");return i.includes(e)?{getToolUrl:n,setSelectedTool:t,selectedTool:e}:{getToolUrl:n,setSelectedTool:t,selectedTool:s}}function l(e){let{selectedTool:t,getToolUrl:n}=o(),r=t===e;return{isSelected:r,toggledUrl:n(r?s:e)}}},335:function(e,t,n){"use strict";n.d(t,{N:function(){return _}});var r=n(85893),i=n(67294),s=n(85361),o=n(57903),l=n(66465),a=n(80949),u=n(57831),c=n(61451),d=n(45172),h=n(33315),m=n(67165),p=n(42120),v=n(530),x=n(38252),f=n(19592),g=n(72939),y=n(47730),j=n(1801),b=n(23735);function _(e){var t;let[n,_]=(0,i.useState)(!1),C=(0,u.kP)(),w=(0,s._0)(),k=(0,p.L$)(),S=(0,p.f8)(),E=(0,p.OW)(),I=(0,p.M2)(),q=(0,p._3)(),P=(0,p.Lf)(),{performance:z}=(0,v.C)(),{captureEvent:M}=(0,l.z$)(),N=(0,f.x)({onQueryHasChangedError:()=>{(0,o.Bh)({level:"error",title:"Query execution failed",description:"Query has changed"})}}),F=(0,x.h)({activeContext:w,performance:z});if(void 0===C||void 0===w||void 0===S||void 0===E||void 0===q||q.merged.length>0||!P)return null;let L=(0,m.zO)(e.errorMessage),A=null==L?void 0:null===(t=L.split("[Execution ID"))||void 0===t?void 0:t[0];if(void 0===A)return null;let R=A.includes("Line")||A.includes("line");if(!R)return null;let T=e=>{let{difference:t,nextKeys:n,prevKeys:r}=(0,h.o9)(I,e),{nextParameters:i,updatedCode:s}=(0,h.Oy)({difference:t,nextCode:e,nextKeys:n,parameters:q,prevKeys:r});k({type:"replaceQueryCodeAndParameters",parameters:i,code:null!=s?s:e})},D=async()=>{M("Query editor: LLM Debug query"),d.Z.trackEvent("Wand Debug Query Clicked",{query_id:E,sql:I,error:A}),_(!0);try{let e=await (0,g.BI)(I,A,C);if(void 0===e)return;d.Z.trackEvent("Wand Debug Query",{code:I,parsedError:A,sql:e.query,query_id:E}),T(e.query),await N({...S,query:e.query}),await F(E,{refresh:!0,metadata:{query_tags:["llm"]}})}catch(e){M("Query editor: LLM Debug query failed"),d.Z.trackEvent("Wand Debug Query Failed")}finally{_(!1)}};return(0,r.jsx)(y.u,{label:(0,r.jsxs)(j.C,{size:"M",color:"neutral",variant:"filled",children:["10",(0,r.jsx)(b.IconCoins,{})]}),position:"above-center",children:(0,r.jsxs)(c.z,{theme:"primary",size:"M",loading:n,onClick:D,children:[(0,r.jsx)(a.J,{icon:"wand"}),"Fix Query"]})})}},72939:function(e,t,n){"use strict";n.d(t,{Ah:function(){return v},BI:function(){return x},Vu:function(){return g},Zf:function(){return p},tG:function(){return f}});var r=n(82729),i=n(76138),s=n(57903),o=n(39137),l=n(84937);function a(){let e=(0,r._)(["\n  mutation CreateWandQuery($prompt: String!) {\n    createWandQuery(prompt: $prompt) {\n      responseId\n      query\n    }\n  }\n"]);return a=function(){return e},e}function u(){let e=(0,r._)(["\n  mutation EditWandQuery($prompt: String!, $query: String!) {\n    editWandQuery(prompt: $prompt, query: $query) {\n      responseId\n      query\n    }\n  }\n"]);return u=function(){return e},e}function c(){let e=(0,r._)(["\n  mutation DebugWandQuery($error: String!, $query: String!) {\n    debugWandQuery(error: $error, query: $query) {\n      responseId\n      query\n    }\n  }\n"]);return c=function(){return e},e}function d(){let e=(0,r._)(["\n  mutation InsertWandCompletion(\n    $id: UUID!\n    $question: String!\n    $answer: String!\n    $query_id: Int\n    $query_version: Int\n  ) {\n    createWandCompletion(\n      input: {\n        id: $id\n        question: $question\n        answer: $answer\n        queryId: $query_id\n        queryVersion: $query_version\n      }\n    ) {\n      id\n      queryId\n      queryVersion\n    }\n  }\n"]);return d=function(){return e},e}function h(){let e=(0,r._)(["\n  mutation UpdateWandCompletionQuery(\n    $id: UUID!\n    $query_id: Int\n    $query_version: Int\n  ) {\n    updateWandCompletion(input: { id: $id, queryId: $query_id, queryVersion: $query_version }) {\n      id\n      queryId\n      queryVersion\n    }\n  }\n"]);return h=function(){return e},e}function m(){let e=(0,r._)(["\n  query WandQueryDescription($query: String!) {\n    wandQueryDescription(query: $query)\n  }\n"]);return m=function(){return e},e}async function p(e,t,n,r){try{let{data:s=null}=await i.bj.mutate({mutation:l.M3Y,variables:{prompt:e},context:{session:r}});if(null===s)throw Error("No data returned");let{responseId:o,query:a}=s.createWandQuery;return await i.bj.mutate({mutation:l.vWC,variables:{id:o,question:e,answer:a,query_id:null!=t?t:null,query_version:null!=n?n:null},context:{session:r}}),{response_id:o,query:a}}catch(t){let e=t instanceof Error?t.message:String(t);(0,s.Bh)({level:"error",title:"Wand encountered an error",description:e});return}}async function v(e,t,n){try{let{data:r=null}=await i.bj.mutate({mutation:l.Lrf,variables:{prompt:e,query:t},context:{session:n}});if(null===r)throw Error("No data returned");return r.editWandQuery}catch(t){let e=t instanceof Error?t.message:String(t);(0,s.Bh)({level:"error",title:"Wand encountered an error",description:e});return}}async function x(e,t,n){try{let{data:r=null}=await i.bj.mutate({mutation:l.Zzm,variables:{query:e,error:t},context:{session:n}});if(null===r)throw Error("No data returned");return r.debugWandQuery}catch(t){let e=t instanceof Error?t.message:String(t);(0,s.Bh)({level:"error",title:"Wand encountered an error",description:e});return}}async function f(e,t){let{data:{wandQueryDescription:n}}=await i.bj.query({query:l.BQD,variables:{query:e},context:{session:t}});return n}async function g(e,t,n){void 0!==e&&await i.bj.mutate({mutation:l.s7n,variables:{id:e,query_id:t},context:{session:n}})}(0,o.Z)(a()),(0,o.Z)(u()),(0,o.Z)(c()),(0,o.Z)(d()),(0,o.Z)(h()),(0,o.Z)(m())},530:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});var r=n(42120),i=n(59019);function s(){let e=(0,r.OW)(),t=(0,r.OA)();return(0,i.C)({queryId:e,datasetId:null==t?void 0:t.id})}},38252:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(57831),i=n(42120),s=n(79440);function o(e){let{activeContext:t,performance:n}=e,o=(0,r.Xd)(),l=(0,i._3)(),a=(0,i.Yt)();return async function(e,r){if(void 0!==t&&l)try{let{data:c}=await (0,s.d)({queryId:e,parameters:l.merged,requestContext:{session:o},activeContext:t,executionType:"interactive",performance:n,metadata:r.metadata});if(r.refresh){var i,u;let t=null==c?void 0:null===(i=c.executeQuery)||void 0===i?void 0:i.job_id;await (null==a?void 0:null===(u=a.refresh)||void 0===u?void 0:u.call(a,t,e)),l.onApply()}return!0}catch(e){return!1}}}},19592:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var r=n(30990),i=n(57831),s=n(11163),o=n(57903),l=n(42120),a=n(88276),u=n(20426);function c(e){let t=(0,s.useRouter)(),{getToolUrl:n}=(0,a.U)(),c=(0,l.L$)(),d=(0,l._3)(),h=(0,l.Jm)(),m=function(){let e=(0,i.Xd)();return t=>(0,u.rq)(t,e)}();return async function(i){if(d)try{let e=await m({...i,parameters:d.defaults});return c({type:"saveQuery"}),await (null==h?void 0:h()),e}catch(s){if(s instanceof r.cA){let r=s.graphQLErrors[0];if((0,u.AU)(r)){e.onQueryHasChangedError(r.extensions),t.push(n("version-history"));return}}let i=s instanceof Error?s.message:String(s);(0,o.Bh)({level:"error",title:"Query save failed",description:i});return}}}},43307:function(e,t,n){"use strict";n.d(t,{oN:function(){return J},q3:function(){return N}});var r=n(85893),i=n(67294),s=n(94184),o=n.n(s),l=n(23279),a=n.n(l),u=n(18172),c=n(89734),d=n.n(c),h=n(2829),m=n.n(h),p=n(76441),v=n(15183),x=n(28174),f=n(80949),g=n(39561),y=n(26832),j=n(73874),b=n(94682),_=n(74157),C=n(96008),w=n(90002),k=n(42120),S=n(82733),E=n(85907),I=n(44270),q=n(17204),P=n.n(q),z=n(78718),M=n.n(z);let N=()=>{var e;let t=(0,k._r)(),n=(0,k.Yt)();return t&&(null==n?void 0:null===(e=n.matrix)||void 0===e?void 0:e.rows.length)?(0,j.dL)(t)?(0,r.jsx)(F,{visual:t,result:n.matrix}):(0,j.fl)(t)?(0,r.jsx)(A,{visual:t,result:n.matrix}):(0,j.XR)(t)?(0,r.jsx)(R,{visual:t,result:n.matrix}):null:null},F=e=>{var t,n,i,s;let o=(0,k.Xv)();return(0,r.jsx)("form",{onSubmit:_.P,children:(0,r.jsxs)(U,{children:[(0,r.jsx)($,{}),(0,r.jsx)(X,{title:"Table options",children:(0,r.jsxs)(G,{size:"xs",children:[(0,r.jsx)(x.Qy,{label:"Title",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"24h volume",value:null!==(n=e.visual.name)&&void 0!==n?n:"",onChange:t=>{o({...e.visual,name:t.target.value})},size:"sm",border:"none"})}),(0,r.jsx)(x.Qy,{label:"Description",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:null!==(i=null===(t=e.visual.query_details)||void 0===t?void 0:t.description)&&void 0!==i?i:"",value:null!==(s=e.visual.description)&&void 0!==s?s:"",onChange:t=>{o({...e.visual,description:t.target.value})},size:"sm",border:"none"})})]})}),(0,r.jsx)("hr",{}),e.result.columns.map((t,n)=>(0,r.jsx)(X,{title:"Column ".concat(n,": ").concat(t.name),children:(0,r.jsx)(L,{...e,column:t})},n))]})})},L=e=>{var t,n,i,s,o,l;let{column:{name:a,type:c}}=e,d=(0,k.Xv)(),h=null!==(n=null===(t=e.visual.options)||void 0===t?void 0:t.columns)&&void 0!==n?n:[],m=h.find(e=>e.name===a),p=t=>{let{visual:n}=e;t.forEach(e=>{let{option:t,value:r}=e;n=(0,u.ZP)(n,e=>{var n,i;e.options=null!==(n=e.options)&&void 0!==n?n:{},e.options.columns=null!==(i=e.options.columns)&&void 0!==i?i:[];let s=h.findIndex(e=>{let{name:t}=e;return t===(null==m?void 0:m.name)});s>=0?e.options.columns[s][t]=r:e.options.columns.push({name:a,[t]:r})})}),d(n)};return(0,r.jsxs)(G,{size:"xs",children:[(0,r.jsx)(x.Qy,{label:"Title",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"Price",value:null!==(i=null==m?void 0:m.title)&&void 0!==i?i:"",onChange:e=>p([{option:"title",value:e.target.value}]),size:"sm",border:"none"})}),(0,r.jsx)(x.Qy,{label:"Align",size:"xs",children:(0,r.jsxs)(g.JD,{value:null!==(s=null==m?void 0:m.alignContent)&&void 0!==s?s:"",onChange:e=>p([{option:"alignContent",value:e.target.value}]),size:"sm",border:"none",children:[(0,r.jsx)("option",{value:"left",children:"Left"}),(0,r.jsx)("option",{value:"center",children:"Center"}),(0,r.jsx)("option",{value:"right",children:"Right"})]})}),(0,r.jsx)(x.Qy,{label:"Format",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"0.0",value:null!==(o=null==m?void 0:m.numberFormat)&&void 0!==o?o:"",onChange:e=>p([{option:"numberFormat",value:e.target.value}]),size:"sm",border:"none"})}),"float"===c&&(0,r.jsx)(x.Qy,{label:"Type",size:"xs",children:(0,r.jsxs)(g.JD,{value:null!==(l=null==m?void 0:m.type)&&void 0!==l?l:"normal",onChange:e=>{p([{option:"coloredPositiveValues",value:!1},{option:"coloredNegativeValues",value:!1},{option:"type",value:e.target.value}])},size:"sm",border:"none",children:[(0,r.jsx)("option",{value:"normal",children:"Normal"}),(0,r.jsx)("option",{value:"progressbar",children:"Progress bar"})]})}),(0,r.jsx)(g.o2,{checked:!!(null==m?void 0:m.isHidden),onChange:e=>p([{option:"isHidden",value:e.target.checked}]),size:"sm",border:"none",children:"Hide column"}),"float"===c&&(null==m?void 0:m.type)!=="progressbar"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.o2,{checked:!!(null==m?void 0:m.coloredPositiveValues),onChange:e=>p([{option:"coloredPositiveValues",value:e.target.checked}]),size:"sm",border:"none",children:"Colored positive values"}),(0,r.jsx)(g.o2,{checked:!!(null==m?void 0:m.coloredNegativeValues),onChange:e=>p([{option:"coloredNegativeValues",value:e.target.checked}]),size:"sm",border:"none",children:"Colored negative values"})]}),"float"===c&&(null==m?void 0:m.type)==="progressbar"&&(0,r.jsx)(g.o2,{checked:!!(null==m?void 0:m.coloredNegativeValues)||!!(null==m?void 0:m.coloredPositiveValues),onChange:e=>{p([{option:"coloredPositiveValues",value:e.target.checked},{option:"coloredNegativeValues",value:e.target.checked}])},size:"sm",border:"none",children:"Colored positive/negative values"})]})},A=e=>{var t,n,i,s,o,l,a,c,d,h,m;let p=(0,k.Xv)(),v=null!==(n=e.result.columns.map(e=>e.name))&&void 0!==n?n:[],f=t=>n=>{p((0,u.ZP)(e.visual,e=>{e.options[t]=n.target.value}))};return(0,r.jsx)("form",{onSubmit:_.P,children:(0,r.jsxs)(U,{children:[(0,r.jsx)($,{}),(0,r.jsx)(X,{title:"Counter options",children:(0,r.jsxs)(G,{size:"xs",children:[(0,r.jsx)(x.Qy,{label:"Title",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"24h volume",value:null!==(i=e.visual.name)&&void 0!==i?i:"",onChange:t=>{p({...e.visual,name:t.target.value})},size:"sm",border:"none"})}),(0,r.jsx)(x.Qy,{label:"Description",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:null!==(s=null===(t=e.visual.query_details)||void 0===t?void 0:t.description)&&void 0!==s?s:"",value:null!==(o=e.visual.description)&&void 0!==o?o:"",onChange:t=>{p({...e.visual,description:t.target.value})},size:"sm",border:"none"})}),(0,r.jsx)(H,{label:"Column",values:["",...v],value:null!==(l=e.visual.options.counterColName)&&void 0!==l?l:"",onChange:t=>{p((0,u.ZP)(e.visual,e=>{e.options.counterColName=t.target.value}))}}),(0,r.jsx)(x.Qy,{label:"Row number",size:"xs",children:(0,r.jsx)(g.oH,{min:1,placeholder:"1",value:null!==(a=e.visual.options.rowNumber)&&void 0!==a?a:"",onChange:t=>{p((0,u.ZP)(e.visual,e=>{e.options.rowNumber=(0,b.YX)(t.target.value,1)}))},size:"sm",border:"none"})}),(0,r.jsx)(g.o2,{checked:!!e.visual.options.coloredPositiveValues,onChange:t=>{p((0,u.ZP)(e.visual,e=>{var n;e.options=null!==(n=e.options)&&void 0!==n?n:{},e.options.coloredPositiveValues=t.target.checked}))},size:"sm",border:"none",children:"Colored positive values"}),(0,r.jsx)(g.o2,{checked:!!e.visual.options.coloredNegativeValues,onChange:t=>{p((0,u.ZP)(e.visual,e=>{var n;e.options=null!==(n=e.options)&&void 0!==n?n:{},e.options.coloredNegativeValues=t.target.checked}))},size:"sm",border:"none",children:"Colored negative values"})]})}),(0,r.jsx)(X,{title:"Formatting",children:(0,r.jsxs)(G,{size:"xs",children:[(0,r.jsx)(x.Qy,{label:"Prefix",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"$",value:null!==(c=e.visual.options.stringPrefix)&&void 0!==c?c:"",onChange:f("stringPrefix"),size:"sm",border:"none"})}),(0,r.jsx)(x.Qy,{label:"Suffix",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"M",value:null!==(d=e.visual.options.stringSuffix)&&void 0!==d?d:"",onChange:f("stringSuffix"),size:"sm",border:"none"})}),(0,r.jsx)(x.Qy,{label:"Label",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"Current price",value:null!==(h=e.visual.options.counterLabel)&&void 0!==h?h:"",onChange:f("counterLabel"),size:"sm",border:"none"})}),(0,r.jsx)(x.Qy,{label:"Decimals",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"0",value:null!==(m=e.visual.options.stringDecimal)&&void 0!==m?m:"0",onChange:t=>{p((0,u.ZP)(e.visual,e=>{e.options.stringDecimal=(0,b.k5)(t.target.value,0,9)}))},size:"sm",border:"none"})})]})})]})})},R=e=>{var t,n,i,s,o,l,a,c;let d=(0,k.Xv)(),h=J(e.visual,e.result),m=(null===(t=e.visual.options.series)||void 0===t?void 0:t.stacking)==="stack",p=(null===(n=e.visual.options.series)||void 0===n?void 0:n.showTotal)===!0,v="scatter"===e.visual.options.globalSeriesType,f="line"===e.visual.options.globalSeriesType,y="pie"===e.visual.options.globalSeriesType;return(0,r.jsx)("form",{onSubmit:_.P,children:(0,r.jsxs)(U,{children:[(0,r.jsx)($,{}),(0,r.jsx)(X,{title:"Chart options",children:(0,r.jsxs)(G,{size:"xs",children:[(0,r.jsx)(x.Qy,{label:"Title",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"My chart",value:null!==(l=e.visual.name)&&void 0!==l?l:"",onChange:t=>{d({...e.visual,name:t.target.value})},size:"sm",border:"none"})}),(0,r.jsx)(x.Qy,{label:"Description",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:null!==(a=null===(i=e.visual.query_details)||void 0===i?void 0:i.description)&&void 0!==a?a:"",value:null!==(c=e.visual.description)&&void 0!==c?c:"",onChange:t=>{d({...e.visual,description:t.target.value})},size:"sm",border:"none"})}),(0,r.jsx)(g.o2,{checked:!!(null===(s=e.visual.options.legend)||void 0===s?void 0:s.enabled),onChange:t=>{d((0,u.ZP)(e.visual,e=>{e.options.legend={enabled:t.target.checked}}))},size:"sm",border:"none",children:"Show chart legend"}),(0,r.jsx)(g.o2,{checked:m,onChange:t=>{d((0,u.ZP)(e.visual,e=>{e.options.series=e.options.series||{},e.options.series.stacking=t.target.checked?"stack":null}))},disabled:v||f||y,size:"sm",border:"none",children:"Enable stacking"}),(0,r.jsx)(g.o2,{checked:p,onChange:t=>{d((0,u.ZP)(e.visual,e=>{e.options.series=e.options.series||{},e.options.series.showTotal=t.target.checked}))},disabled:!m,size:"sm",border:"none",children:"Show Total in tooltip"}),(0,r.jsx)(g.o2,{checked:!!(null===(o=e.visual.options.series)||void 0===o?void 0:o.percentValues),onChange:t=>{d((0,u.ZP)(e.visual,e=>{e.options.series=e.options.series||{},e.options.series.percentValues=t.target.checked}))},disabled:y,size:"sm",border:"none",children:"Normalize to percentage"}),(0,r.jsx)(g.o2,{checked:!!e.visual.options.showDataLabels,onChange:t=>{d((0,u.ZP)(e.visual,e=>{e.options.showDataLabels=t.target.checked}))},disabled:m,size:"sm",border:"none",children:"Show data labels"})]})}),(0,r.jsx)(D,{visual:e.visual,columns:h}),(0,r.jsx)(T,{visual:e.visual}),(0,r.jsx)("hr",{}),(0,r.jsx)(O,{visual:e.visual,result:e.result,columns:h}),"pie"===e.visual.options.globalSeriesType&&(0,r.jsx)(B,{visual:e.visual,result:e.result,columns:h})]})})},T=e=>{var t,n,i,s,o,l,a,c,d,h,m,p,v,f,y,j,b;let _=(0,k.Xv)(),C=e.visual.options.xAxis,S=null===(t=e.visual.options.yAxis)||void 0===t?void 0:t[0],E=null===(n=e.visual.options.yAxis)||void 0===n?void 0:n[1],I=t=>{_((0,u.ZP)(e.visual,e=>{e.options.sortX=t.target.checked}))},q=t=>{_((0,u.ZP)(e.visual,e=>{e.options.reverseX=t.target.checked}))},P=t=>{_((0,u.ZP)(e.visual,e=>{e.options.xAxis=t}))},z=(t,n)=>{_((0,u.ZP)(e.visual,e=>{e.options.yAxis=e.options.yAxis||[],e.options.yAxis[n]=t}))},M=(e,t)=>(0,u.ZP)(e,e=>{e.title?e.title.text=t.target.value:e.title={text:t.target.value}}),N=(e,t)=>(0,u.ZP)(e,e=>{e.type=t.target.checked?"logarithmic":"-"}),F=(e,t)=>(0,u.ZP)(e,e=>{e.tickFormat=t.target.value}),L=t=>{_((0,u.ZP)(e.visual,e=>{e.options.numberFormat=t.target.value}))};if(!C)throw Error("Missing required x-axis.");if(!S)throw Error("Missing required left y-axis.");return"pie"===e.visual.options.globalSeriesType?(0,r.jsx)(X,{title:"Pie options",children:(0,r.jsx)(G,{size:"xs",children:(0,r.jsx)(x.Qy,{label:"Label format",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"0.0",value:null!==(d=e.visual.options.numberFormat)&&void 0!==d?d:"",onChange:L,size:"sm",border:"none"})})})}):(0,r.jsxs)("div",{children:[(0,r.jsx)(X,{title:"X-axis options",children:(0,r.jsxs)(G,{size:"xs",children:[(0,r.jsx)(x.Qy,{label:"Axis title",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"Date",value:null!==(h=null==C?void 0:null===(i=C.title)||void 0===i?void 0:i.text)&&void 0!==h?h:"",onChange:e=>P(M(C,e)),size:"sm",border:"none"})}),(0,r.jsx)(g.o2,{checked:!!e.visual.options.sortX,onChange:e=>I(e),size:"sm",border:"none",children:"Sort values"}),(0,r.jsx)(g.o2,{checked:!!e.visual.options.reverseX,onChange:e=>q(e),size:"sm",border:"none",children:"Reverse values"}),(0,r.jsx)(g.o2,{checked:"logarithmic"===e.visual.options.xAxis.type,onChange:e=>P(N(C,e)),size:"sm",border:"none",children:"Logarithmic"}),(0,r.jsx)(x.Qy,{label:"Tick format",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:(null===(s=e.visual.options.series)||void 0===s?void 0:s.percentValues)?w.sX.percentage:w.sX.number,value:null!==(m=C.tickFormat)&&void 0!==m?m:"",onChange:e=>P(F(C,e)),size:"sm",border:"none"})})]})}),(0,r.jsx)(X,{title:E?"Left y-axis options":"Y-axis options",children:(0,r.jsxs)(G,{size:"xs",children:[(0,r.jsx)(x.Qy,{label:"Axis title",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"Price",value:null!==(p=null==S?void 0:null===(o=S.title)||void 0===o?void 0:o.text)&&void 0!==p?p:"",onChange:e=>z(M(S,e),0),size:"sm",border:"none"})}),(0,r.jsx)(g.o2,{checked:"logarithmic"===S.type,onChange:e=>z(N(S,e),0),size:"sm",border:"none",children:"Logarithmic"}),(0,r.jsx)(x.Qy,{label:"Tick format",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:(null===(l=e.visual.options.series)||void 0===l?void 0:l.percentValues)?w.sX.percentage:w.sX.number,value:null!==(v=S.tickFormat)&&void 0!==v?v:"",onChange:e=>z(F(S,e),0),size:"sm",border:"none"})}),(0,r.jsx)(x.Qy,{label:"Label format",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"0.0",value:null!==(f=e.visual.options.numberFormat)&&void 0!==f?f:"",onChange:L,size:"sm",border:"none"})}),(0,r.jsx)(g.o2,{checked:!!E,onChange:()=>{_((0,u.ZP)(e.visual,e=>{E?(e.options.yAxis=[S],e.options.numberFormatRightYAxisSeries=void 0):e.options.yAxis=[S,{type:"linear"}]}))},size:"sm",border:"none",children:"Enable right y-axis"})]})}),E&&(0,r.jsx)(X,{title:"Right y-axis options",children:(0,r.jsxs)(G,{size:"xs",children:[(0,r.jsx)(x.Qy,{label:"Axis title",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:"Price",value:null!==(y=null==E?void 0:null===(a=E.title)||void 0===a?void 0:a.text)&&void 0!==y?y:"",onChange:e=>z(M(E,e),1),size:"sm",border:"none"})}),(0,r.jsx)(g.o2,{checked:"logarithmic"===E.type,onChange:e=>z(N(S,e),1),size:"sm",border:"none",children:"Logarithmic"}),(0,r.jsx)(x.Qy,{label:"Tick format",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:(null===(c=e.visual.options.series)||void 0===c?void 0:c.percentValues)?w.sX.percentage:w.sX.number,value:null!==(j=E.tickFormat)&&void 0!==j?j:"",onChange:e=>z(F(E,e),1),size:"sm",border:"none"})}),(0,r.jsx)(x.Qy,{label:"Label format",size:"xs",children:(0,r.jsx)(g.oH,{placeholder:e.visual.options.numberFormat||"0.0",value:null!==(b=e.visual.options.numberFormatRightYAxisSeries)&&void 0!==b?b:"",onChange:t=>{_((0,u.ZP)(e.visual,e=>{e.options.numberFormatRightYAxisSeries=t.target.value}))},size:"sm",border:"none"})})]})})]})},D=e=>{var t,n,i,s,o;let l=(0,k.Xv)(),a=null!==(s=e.visual.options.columnMapping)&&void 0!==s?s:{},c=e.columns.columns.map(e=>e.name),d=e.columns.columns.filter(e=>{let{type:t}=e;return"float"===t}).map(e=>e.name),h=null===(t=e.columns.group)||void 0===t?void 0:t.name,m=null===(n=e.columns.x)||void 0===n?void 0:n.name,p=null===(i=e.columns.z)||void 0===i?void 0:i.name,v=["",...c],x=["",...d],f=t=>{l((0,u.ZP)(e.visual,e=>{e.options.columnMapping=M()(t,c)}))},g=e=>(0,u.ZP)(a,t=>{m&&delete t[m],t[e.target.value]="x"}),y=(e,t)=>(0,u.ZP)(a,n=>{e&&delete n[e],n[t.target.value]="y"}),j=e=>(0,u.ZP)(a,t=>{p&&delete t[p],e.target.value&&(t[e.target.value]="z")}),b=e=>(0,u.ZP)(a,t=>{h&&delete t[h],e.target.value&&(t[e.target.value]="series")}),_=e=>(0,u.ZP)(a,t=>{t[e.target.value]="y"});return(0,r.jsx)(X,{title:"Result data",children:(0,r.jsxs)(G,{size:"xs",children:[(0,r.jsx)(H,{label:"X column",values:v,value:null!=m?m:"",onChange:e=>f(g(e))}),e.columns.ys.map((e,t)=>(0,r.jsx)(H,{label:"Y column ".concat(t+1),values:v,value:null!==(o=e.name)&&void 0!==o?o:"",onChange:t=>f(y(e.name,t))},e.name)),(0,r.jsx)(H,{label:"Y column ".concat(e.columns.ys.length+1),values:v,value:"",onChange:e=>f(_(e))}),(0,r.jsx)(H,{label:"Group by",values:v,value:null!=h?h:"",onChange:e=>f(b(e))}),"scatter"===e.visual.options.globalSeriesType&&(0,r.jsx)(H,{label:"Circle radius",values:x,value:null!=p?p:"",onChange:e=>f(j(e))})]})})},O=e=>{var t;let{pairedOptions:n,options:i}=Y(e.visual,e.result,e.columns),s=null===(t=e.visual.options.yAxis)||void 0===t?void 0:t[1];return 0===n.length?null:n.length>1e3?(0,r.jsx)(K,{children:"Too many chart series (max 1k)."}):(0,r.jsx)(X,{className:m().series,children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Series"}),(0,r.jsx)("th",{children:"Chart type"}),s&&(0,r.jsx)("th",{children:"Y-axis"}),(0,r.jsx)("th",{children:"Color"}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{children:n.map((t,s)=>{var o,l;let[a]=t;return(0,r.jsx)(Z,{visual:e.visual,name:a,rows:i,prev:null===(o=n[s-1])||void 0===o?void 0:o[0],next:null===(l=n[s+1])||void 0===l?void 0:l[0]},a)})})]})})},Z=e=>{var t,n,i,s;let o=(0,k.Xv)(),l=null===(t=e.visual.options.yAxis)||void 0===t?void 0:t[1],a=e.rows[null!==(n=e.prev)&&void 0!==n?n:""],c=e.rows[null!==(i=e.next)&&void 0!==i?i:""],d=e.rows[e.name],h=t=>{o((0,u.ZP)(e.visual,e=>{e.options.seriesOptions=t}))},p=()=>(0,u.ZP)(e.rows,t=>{void 0!==e.prev&&void 0!==a&&(t[e.prev].zIndex=d.zIndex,t[e.name].zIndex=a.zIndex)}),v=()=>(0,u.ZP)(e.rows,t=>{void 0!==e.next&&void 0!==c&&(t[e.next].zIndex=d.zIndex,t[e.name].zIndex=c.zIndex)}),x=t=>(0,u.ZP)(e.rows,n=>{n[e.name]=t}),y=e=>(0,u.ZP)(d,t=>{t.name=e.target.value}),b=e=>(0,u.ZP)(d,t=>{t.type=e.target.value}),_=e=>(0,u.ZP)(d,t=>{t.yAxis=parseInt(e.target.value,10)}),C=e=>(0,u.ZP)(d,t=>{t.color=e});return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(g.oH,{placeholder:"0x","aria-label":"Series name",icon:"text",value:null!==(s=d.name)&&void 0!==s?s:e.name,onChange:e=>h(x(y(e))),size:"sm",border:"none"})}),(0,r.jsx)("td",{children:(0,r.jsxs)(g.JD,{"aria-label":"Chart type",icon:(0,j.Ln)(d.type),value:d.type,onChange:e=>h(x(b(e))),disabled:"pie"===e.visual.options.globalSeriesType,size:"sm",border:"none",children:[(0,r.jsx)("option",{value:"column",children:"Column"}),(0,r.jsx)("option",{value:"area",children:"Area"}),(0,r.jsx)("option",{value:"scatter",children:"Scatter"}),(0,r.jsx)("option",{value:"line",children:"Line"}),(0,r.jsx)("option",{value:"pie",children:"Pie"})]})}),l&&(0,r.jsx)("td",{children:(0,r.jsxs)(g.JD,{"aria-label":"Y-axis",value:d.yAxis,onChange:e=>h(x(_(e))),disabled:"pie"===e.visual.options.globalSeriesType,size:"sm",border:"none",children:[(0,r.jsx)("option",{value:"0",children:"Left"}),(0,r.jsx)("option",{value:"1",children:"Right"})]})}),(0,r.jsx)("td",{children:(0,r.jsx)(V,{visual:e.visual,value:d.color,onChange:e=>h(x(C(e))),disabled:"pie"===e.visual.options.globalSeriesType})}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:m().order,children:[(0,r.jsx)("button",{type:"button",disabled:void 0===e.prev,onClick:()=>h(p()),children:(0,r.jsx)(f.J,{icon:"arrow-up","aria-label":"Move up"})}),(0,r.jsx)("button",{type:"button",disabled:void 0===e.next,onClick:()=>h(v()),children:(0,r.jsx)(f.J,{icon:"arrow-down","aria-label":"Move down"})})]})})]})},B=e=>{var t,n;let s=null!==(n=e.result.rows)&&void 0!==n?n:[],o=null===(t=e.columns.x)||void 0===t?void 0:t.name;return o&&0!==s.length?s.length>1e3?(0,r.jsx)(K,{children:"Too many chart values (max 1k)."}):(0,r.jsx)(X,{className:m().series,children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:m().values,children:"Values"}),(0,r.jsx)("th",{children:"Color"})]})}),(0,r.jsx)("tbody",{children:s.map((t,n)=>(0,i.createElement)(Q,{...e,key:n,column:String(e.result.rows[n][o])}))})]})}):null},Q=e=>{var t,n;let i=(0,k.Xv)(),s=null!==(n=null===(t=e.visual.options.valuesOptions)||void 0===t?void 0:t[e.column])&&void 0!==n?n:{},o=t=>{i((0,u.ZP)(e.visual,n=>{var r;n.options.valuesOptions=null!==(r=n.options.valuesOptions)&&void 0!==r?r:{},n.options.valuesOptions[e.column]=t}))},l=e=>(0,u.ZP)(s,t=>{t.color=e});return s?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(g.oH,{placeholder:"Dune","aria-label":"Value title",icon:"text",value:e.column,disabled:!0,size:"sm",border:"none"})}),(0,r.jsx)("td",{children:(0,r.jsx)(V,{visual:e.visual,value:s.color,onChange:e=>o(l(e))})})]}):null},V=e=>{let t=i.useRef(null),n=i.useRef(null),[s,o]=i.useState(!1);return i.useEffect(()=>{function e(e){n.current&&!n.current.contains(e.target)&&o(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),(0,r.jsxs)("div",{className:m().color,children:[(0,r.jsxs)("div",{className:m().popover,children:[(0,r.jsx)("button",{ref:t,onClick:()=>{e.disabled||o(!0)},className:m().colorTile,style:e.disabled?{backgroundColor:"#FFFFFF",cursor:"not-allowed"}:{backgroundColor:e.value,cursor:"pointer"}}),(0,r.jsx)(I.ZP,{hidden:!s,targetRef:t,position:I.MN,children:(0,r.jsxs)("div",{ref:n,className:m().picker,children:[(0,r.jsx)(E.gW,{color:e.value||"FFFFFF",onChange:a()(e.onChange,100)}),(0,r.jsx)(E.ZE,{color:e.value||"FFFFFF",prefixed:!0,onChange:a()(e.onChange,100),className:m().colorInput})]})})]}),(0,r.jsx)("button",{type:"button",disabled:!e.value,onClick:t=>{t.stopPropagation(),e.onChange()},children:(0,r.jsx)(f.J,{icon:"x","aria-label":"Reset"})})]})},H=e=>(0,r.jsx)(x.Qy,{label:e.label,size:"xs",children:(0,r.jsx)(g.JD,{value:e.value,onChange:e.onChange,size:"sm",border:"none",children:e.values.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})}),W=e=>{let t=e.visualUpdatingState.error,n=e.visualUpdatingState.isLoading;return t?(0,r.jsx)("p",{className:m().error,children:"Failed to update options: ".concat(e.visualUpdatingState.error)}):n?(0,r.jsx)("div",{className:m().loadingIcon,children:(0,r.jsx)(f.J,{icon:"running"})}):null},$=()=>{let e=(0,k._r)(),t=(0,k.hC)(),n=(0,k.XU)(),i=!(null==e?void 0:e.id)||t;return e?(0,r.jsx)("header",{className:m().header,children:(0,r.jsxs)(S.r,{className:m().grid,children:[(0,r.jsx)(v.h,{className:m().leftItem,children:(0,r.jsx)(y.k,{item:e,disabled:i})}),n&&(0,r.jsx)(W,{visualUpdatingState:n})]})}):null},U=e=>(0,r.jsx)("div",{className:o()(m().options,e.className),children:e.children}),X=e=>(0,r.jsx)(p.x,{className:e.className,title:e.title,size:"sm",color1:!0,children:e.children}),K=e=>(0,r.jsx)(p.x,{className:m().error,title:"Error",size:"sm",color1:!0,children:e.children}),G=e=>(0,r.jsx)(x.Iv,{horizontal:e.horizontal,size:e.size,children:e.children}),J=(e,t)=>{var n,r;let i=null!==(n=e.options.columnMapping)&&void 0!==n?n:{},s=null!==(r=t.columns)&&void 0!==r?r:[],o=s.filter(e=>"x"===i[e.name]),l=s.filter(e=>"y"===i[e.name]),a=s.filter(e=>"z"===i[e.name]),u=s.filter(e=>"series"===i[e.name]);return{columns:s,x:o[0],z:a[0],ys:l,group:u[0]}},Y=(e,t,n)=>{var r,i,s;let o=null!==(i=t.rows)&&void 0!==i?i:[],l=null!==(s=null===(r=n.group)||void 0===r?void 0:r.name)&&void 0!==s?s:"",a=n.group?[...new Set(o.map(e=>(0,C.iM)(e[l])))]:n.ys.map(e=>e.name),u=d()(a,t=>{var n,r;return(null===(n=e.options.seriesOptions)||void 0===n?void 0:n[null!=t?t:""])?null===(r=e.options.seriesOptions)||void 0===r?void 0:r[null!=t?t:""].zIndex:a.length}),c=u.map((t,n)=>{var r,i;return[null!=t?t:"",(null===(r=e.options.seriesOptions)||void 0===r?void 0:r[null!=t?t:""])?{...null===(i=e.options.seriesOptions)||void 0===i?void 0:i[null!=t?t:""],zIndex:n}:{type:e.options.globalSeriesType,zIndex:n,yAxis:0}]});return{pairedOptions:c,options:P()(c)}}},57295:function(e,t,n){"use strict";n.d(t,{G:function(){return D},N:function(){return A}});var r=n(85893),i=n(67294),s=n(18172),o=n(97674),l=n.n(o),a=n(31544),u=n.n(a),c=n(96740),d=n(95552),h=n(10398),m=n(53947),p=n(7675),v=n(76350),x=n(25147),f=n(11893),g=n(61451),y=n(10933),j=n(68357),b=n(80949),_=n(41118),C=n(15560),w=n(41982),k=n(28174),S=n(39561),E=n(83787),I=n(51577),q=n(94832),P=n(61575),z=n(45186),M=n(32613),N=n(78528),F=n(61800),L=n(46509);let A=e=>(0,r.jsx)(c.u,{size:"M",label:"Edit",content:t=>{let{close:n}=t;return(0,r.jsx)(R,{...e,close:n})},trigger:e=>{let{onClick:t}=e;return(0,r.jsx)(y.h,{size:"S",theme:"ghost",onClick:t,children:(0,r.jsx)(b.J,{icon:"gear"})})}}),R=e=>{var t,n,o,a,c;let[d,b]=i.useState(e.parameter),[w]=i.useState(!1),I=(0,E.Ds)(d),{enumOptions:A}=(0,q.h)({parameter:d,optionsFromResultResultConfig:new F.$({limit:1,offset:0})}),[R,O]=i.useState(()=>(0,E.qV)(e.parameter.enumOptions)),Z=(()=>{if(!d.key)return"Parameter name required";let t=e.parameter.key!==d.key&&e.parameters.some(e=>e.key===d.key);if(t)return"Parameter name taken"})(),B=function(e){var t;let{value:n="",values:r=[]}=e,{enumOptions:s,search:o,queryResultType:l,isLoadingMore:a}=(0,q.h)({parameter:e,optionsFromResultResultConfig:new F.$({limit:1e3,offset:0})}),u=i.useRef(o);u.current=o;let c=(0,L.v)(()=>void 0!==e.isMultiselect?r:[n],[n,r,e.isMultiselect]);if((0,i.useEffect)(()=>{var t,n;"V2"===l&&(null===(t=e.enumFromResults)||void 0===t?void 0:t.queryId)!==void 0&&c.length>0&&(null===(n=u.current)||void 0===n||n.call(u,c))},[c,l,null===(t=e.enumFromResults)||void 0===t?void 0:t.queryId,u]),"enum"===e.type){let{isMultiselect:t=!1}=e;if(t){if(0===r.length)return"Select a default value";if(s&&r.some(e=>!s.includes(e))&&!a)return"Invalid value"}else{if(""===n)return"Select a default value";if(s&&!s.includes(n)&&!a)return"Invalid value"}}}(d),Q=d.enumFromResults&&d.enumFromResults.queryId===D?"Provide the id of a query to get list options from":void 0,V=d.enumFromResults&&void 0===Q?""===d.enumFromResults.columnName?"Provide the name of the column that contains the list options":void 0===A||0===A.length?'Column "'.concat(d.enumFromResults.columnName,'" was not found on query ').concat(d.enumFromResults.queryId):void 0:void 0;function H(){return void 0!==Z||void 0!==Q||void 0!==V||void 0!==B}let W=i.useRef({enumFromResults:null!==(t=d.enumFromResults)&&void 0!==t?t:{queryId:D,columnName:""}});!function(){var e;let{current:t}=W;t.enumFromResults=null!==(e=d.enumFromResults)&&void 0!==e?e:t.enumFromResults}();let $=e=>{"enum"===e?b({...d,type:"enum",value:"",values:void 0,isMultiselect:!1,enumOptions:(0,E.p8)(R)}):b({...d,type:e,value:"",values:void 0,isMultiselect:void 0,enumOptions:void 0})};function U(e){if("enum"!==d.type)throw Error('Cannot set "enumFromResults" for parameter of type "'.concat(d.type,'"'));if(e){let{enumFromResults:e}=W.current;b({...d,enumFromResults:e,enumOptions:void 0})}else b({...d,enumFromResults:void 0,enumOptions:(0,E.p8)(R)})}let X=e=>{switch(e){case"enum":return"List";case"number":return"Number";case"datetime":return"Date";default:return"Text"}};return(0,r.jsxs)("div",{className:u().body,children:[(0,r.jsx)("div",{className:u().header,children:(0,r.jsxs)("div",{className:u().titleRow,children:[(0,r.jsx)("h2",{children:"Edit parameter"}),(0,r.jsx)(y.h,{size:"XS",theme:"ghost",onClick:e.close,children:(0,r.jsx)(_.IconCross,{})})]})}),(0,r.jsxs)("form",{className:u().subBody,onSubmit:t=>{if(t.preventDefault(),!H()){var n;null===(n=e.onReplace)||void 0===n||n.call(e,d),e.close()}},children:[(0,r.jsxs)(k.Iv,{children:[(0,r.jsx)(h.U,{size:"M",style:"outlined",label:"Parameter name",placeholder:"",required:!0,value:d.key,onChange:e=>{let t=e.target.value;b({...d,key:t})},error:Z,hint:void 0===Z&&d.key&&"Wrap your parameter in single quotes to use as a value '".concat(I,"' in SQL.")}),(0,r.jsx)(h.U,{size:"M",style:"outlined",label:"Parameter description",placeholder:"",value:null!==(n=d.description)&&void 0!==n?n:"",onChange:e=>{let t=e.target.value;b({...d,description:t})}}),(0,r.jsx)(z.f,{position:"below-align-left",renderInPortal:!0,content:e=>{let{close:t}=e;return(0,r.jsx)(M.s_,{children:(0,r.jsxs)(M.$0,{children:[(0,r.jsx)(M.ys,{selected:"text"===d.type,onClick:()=>{$("text"),t()},children:"Text"},"text"),(0,r.jsx)(M.ys,{selected:"number"===d.type,onClick:()=>{$("number"),t()},children:"Number"},"number"),(0,r.jsx)(M.ys,{selected:"datetime"===d.type,onClick:()=>{$("datetime"),t()},children:"Date"},"datetime"),(0,r.jsx)(M.ys,{selected:"enum"===d.type,onClick:()=>{$("enum"),t()},children:"List"},"enum")]})})},children:(0,r.jsx)("div",{children:(0,r.jsx)(p.W,{size:"M",label:"Parameter type",style:"outlined",className:l().field,renderInput:e=>(0,r.jsxs)("button",{className:l().trigger,type:"button",...e,children:[(0,r.jsx)("span",{children:X(d.type)}),(0,r.jsx)(N.IconChevronDown,{})]})})})}),(0,r.jsx)(T,{parameter:d,onChange:b,parameterValInputError:B}),"enum"===d.type&&(0,r.jsx)(m.o,{label:"Freeform",checked:null!==(o=d.isFreeformAllowed)&&void 0!==o&&o,onChange:function(e){if("enum"!==d.type)throw Error('Cannot set "isFreeformAllowed" for parameter of type "'.concat(d.type,'"'));b({...d,isFreeformAllowed:e.target.checked})},children:"Allow selecting any value, not just specified options"}),"enum"===d.type&&(0,r.jsx)(m.o,{label:"Multiselect list",checked:null!==(a=d.isMultiselect)&&void 0!==a&&a,onChange:function(e){if("enum"!==d.type)throw Error('Cannot set "isMultiselect" for parameter of type "'.concat(d.type,'"'));if(e.target.checked)b({...d,isMultiselect:!0,value:void 0,values:[d.value].filter(e=>void 0!==e&&""!==e)});else{var t,n;b({...d,isMultiselect:!1,value:null!==(n=null===(t=d.values)||void 0===t?void 0:t[0])&&void 0!==n?n:"",values:void 0})}},children:"Allow selecting multiple options from the list"}),"enum"===d.type&&(0,r.jsxs)(v.t,{size:"M",fillWidth:!0,marginBottom:!1,children:[(0,r.jsx)(f.O,{active:void 0===d.enumFromResults,onClick:()=>U(!1),children:"Manually specify list options"}),(0,r.jsx)(f.O,{active:"object"==typeof d.enumFromResults,onClick:()=>U(!0),children:"Get list options from a query"})]}),(0,r.jsx)(x.I,{active:"enum"===d.type&&!!(null!==(c=d.enumFromResults)&&void 0!==c?c:d.enumOptions),children:d.enumFromResults?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.U,{size:"M",style:"outlined",label:"Query id",required:!0,placeholder:"",hint:(0,P.Rq)(d.enumFromResults.queryId)?(0,r.jsxs)(j.L,{size:"M",theme:"tertiary",insideText:!0,href:"/queries/".concat(d.enumFromResults.queryId),target:"_blank",children:["Open query",(0,r.jsx)(C.IconArrowSquareOut,{})]}):void 0,value:d.enumFromResults.queryId===D?"":String(d.enumFromResults.queryId),onChange:function(e){if("enum"!==d.type)throw Error('Cannot set "enumFromResults" for parameter of type "'.concat(d.type,'"'));let t=""===e.target.value?D:parseInt(e.target.value);Number.isNaN(t)||b((0,s.Uy)(e=>{e.enumFromResults.queryId=t}))},error:Q}),(0,r.jsx)(h.U,{size:"M",style:"outlined",label:"Column name",required:!0,placeholder:"",value:d.enumFromResults.columnName,onChange:function(e){if("enum"!==d.type)throw Error('Cannot set "enumFromResults" for parameter of type "'.concat(d.type,'"'));let t=e.target.value;b((0,s.Uy)(e=>(e.enumFromResults.columnName=t,e)))},error:V})]}):(0,r.jsx)(k.Qy,{label:"List options",caption:"Separate options with newlines.",children:(0,r.jsx)(S.zg,{value:R,onChange:e=>{var t;let n=e.target.value,r=(0,E.p8)(n),i=null!==(t=r[0])&&void 0!==t?t:"";O(n),b({...d,enumOptions:r,value:i})}})})})]}),(0,r.jsxs)("div",{className:u().buttons,children:[e.onRemove&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.z,{size:"M",theme:"danger",type:"button",onClick:e.onRemove.bind(null,e.parameter),loading:w,children:"Remove"}),(0,r.jsx)("hr",{className:u().gapFillMiddle})]}),(0,r.jsx)(g.z,{size:"M",theme:"tertiary",type:"button",loading:w,onClick:e.close,children:"Cancel"}),(0,r.jsx)(g.z,{size:"M",theme:"primary",type:"submit",loading:w,disabled:H(),children:"Save"})]})]})]})},T=e=>{let{value:t="",values:n=[]}=e.parameter,{parameterValInputError:i}=e,s=t=>{e.onChange({...e.parameter,value:t})};if("text"===e.parameter.type)return(0,r.jsx)(h.U,{size:"M",style:"outlined",label:"Default text",placeholder:"",required:!0,value:t,onChange:e=>s(e.target.value)});if("number"===e.parameter.type)return(0,r.jsx)(h.U,{size:"M",style:"outlined",label:"Default number",placeholder:"",required:!0,type:"number",value:t,onChange:e=>s(e.target.value)});if("datetime"===e.parameter.type)return(0,r.jsx)(p.W,{id:e.parameter.key,size:"M",style:"outlined",label:e.parameter.key,renderInput:e=>(0,r.jsx)(w.a,{kind:"dialog",onChange:s,value:t,required:!0,wrapperClassNameOverride:l().dateParameterField,customInput:(0,r.jsx)("input",{...e,value:t,type:"string"})})});if("enum"===e.parameter.type){let{isMultiselect:s=!1}=e.parameter;return s?(0,r.jsx)(d._,{parameter:e.parameter,parameterValues:n,onChange:e.onChange,renderFormField:e=>{let{renderButton:t,disabled:n}=e;return(0,r.jsx)(p.W,{size:"M",style:"outlined",label:"Default selection",disabled:n,renderInput:t,error:i})}}):(0,r.jsx)(d._,{parameter:e.parameter,parameterValues:""===t?[]:[t],onChange:e.onChange,renderFormField:e=>{let{renderButton:t,disabled:n}=e;return(0,r.jsx)(p.W,{size:"M",style:"outlined",label:"Default selection",disabled:n,renderInput:t,error:i})}})}return I.k.warn("unsupported parameter type",e.parameter.type),null},D=0},17479:function(e,t,n){"use strict";n.d(t,{d:function(){return F},a:function(){return N}});var r=n(85893);n(67294);var i=n(8950),s=n.n(i),o=n(21647),l=n(57295),a=n(20518),u=n.n(a),c=n(94184),d=n.n(c),h=n(68357),m=n(7675),p=n(41982),v=n(10398),x=n(95552),f=n(6791),g=n(67929),y=n(63943),j=n(5717),b=n(51577),_=n(57831),C=n(7659),w=n(61575),k=n(71909),S=n(57322);function E(e){let t=(0,_.kP)(),{parameter:n,disabled:i=!1,hasFocusTooltip:s=!1}=e,l=(0,k.J)(),a=(0,S.Y)(),c=(0,r.jsx)("div",{className:d()(i&&u().disabled),children:(0,r.jsx)(q,{...e})});return t?(0,w.HH)(n.description)?(0,r.jsx)(o.n,{renderInPortal:!0,closeOn:s?"focus":void 0,position:"above-center",content:()=>n.description,children:c}):c:(0,r.jsx)(o.n,{renderInPortal:!0,closeOn:s?"focus":void 0,position:"above-center",content:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.L,{size:"M",theme:"primary",href:l,children:"Sign in"})," ","or"," ",(0,r.jsx)(h.L,{size:"M",theme:"primary",href:a,children:"sign up"})," ","to use parameters"]}),children:c})}let I=[];function q(e){var t,n,i,s;let{parameter:o,override:l,onChange:a,disabled:c=!1,onKeyDown:h,onApply:_,editParameterButton:w}=e,{value:k="",values:S=I}=null!=l?l:{},E=null!==(t=o.values)&&void 0!==t?t:[];(0,C.b)({delayMs:500},c?()=>{}:()=>null==_?void 0:_(),[k,S]);let q=e=>{null==a||a({...o,value:e})};switch(o.type){case"text":return(0,r.jsx)(v.U,{className:u().parameterField,size:"M",style:"contained",inputType:"text",id:o.key,prefix:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.IconText,{}),(0,r.jsx)("label",{htmlFor:o.key,children:o.key})]}),suffix:w,placeholder:null!==(n=o.value)&&void 0!==n?n:"",value:k===o.default_value?"":k,onChange:e=>q(e.target.value),disabled:c||!a,onKeyDown:h});case"number":return(0,r.jsx)(v.U,{className:u().parameterField,size:"M",style:"contained",inputType:"number",id:o.key,prefix:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.IconNumberSquare,{}),(0,r.jsx)("label",{htmlFor:o.key,children:o.key})]}),suffix:w,placeholder:null!==(i=o.value)&&void 0!==i?i:"",value:k===o.default_value?"":k,onChange:e=>q(e.target.value),disabled:c||!a,onKeyDown:h});case"datetime":return(0,r.jsx)("div",{children:(0,r.jsx)(m.W,{size:"M",style:"contained",id:o.key,prefix:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.IconCalendarBlank,{}),(0,r.jsx)("label",{htmlFor:o.key,children:o.key})]}),suffix:w,disabled:c||!a,renderInput:e=>(0,r.jsx)(p.a,{kind:"parameter",placeholder:o.value,value:k,onChange:q,disabled:e.disabled,required:!1,onKeyDown:h,wrapperClassNameOverride:u().dateParameterField,customInput:(0,r.jsx)("input",{...e,value:k===o.default_value?"":k,type:"string"})})})});case"enum":{let{isMultiselect:t=!1}=o;if(!t)return(0,r.jsx)(x._,{renderInPortal:!0,parameter:o,parameterValues:""===k?[null!==(s=o.value)&&void 0!==s?s:""]:[k],onChange:a,disabled:c,renderFormField:t=>{let{renderButton:n,disabled:i}=t;return(0,r.jsx)(m.W,{size:"M",style:"contained",className:d()("query"===e.pageType&&u().enumField),id:o.key,prefix:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.IconList,{}),(0,r.jsx)("label",{htmlFor:o.key,children:o.key})]}),suffix:w,disabled:i,renderInput:n})},onKeyDown:h});return(0,r.jsx)(x._,{renderInPortal:!0,parameter:o,parameterValues:S.length>0?S:E,onChange:a,disabled:c,renderFormField:t=>{let{renderButton:n,disabled:i}=t;return(0,r.jsx)(m.W,{size:"M",style:"contained",className:d()("query"===e.pageType&&u().enumField),id:o.key,prefix:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.IconList,{}),(0,r.jsx)("label",{htmlFor:o.key,children:o.key})]}),suffix:w,disabled:i,renderInput:n})},onKeyDown:h})}default:return b.k.warn("unsupported parameter type",o.type),null}}var P=n(83787),z=n(74157),M=n(32613);let N=e=>{if(0===e.parameters.length)return null;let t=t=>{if(document.activeElement===t.target&&"Enter"===t.key){var n;null===(n=e.onApply)||void 0===n||n.call(e)}};return(0,r.jsx)("form",{onSubmit:z.P,className:s().parameters,children:e.parameters.map((n,i)=>(0,r.jsx)(E,{pageType:"query",parameter:n,override:(0,P.lO)(e.overrides,(0,P.Fh)(n)),onChange:e.onOverride,onKeyDown:t,onApply:e.onApply,disabled:e.disabled,editParameterButton:e.onReplace&&(0,r.jsx)(l.N,{...e,parameter:n,onReplace:e.onReplace.bind(null,i)})},(0,P.Fh)(n)))})},F=e=>(0,r.jsx)(o.n,{position:"above-center",openOn:"focus",content:()=>(0,r.jsxs)(r.Fragment,{children:["Hit ",(0,r.jsx)(M.z9,{shortcut:"enter"})," to run"]}),renderInPortal:!0,children:(0,r.jsx)("div",{children:(0,r.jsx)(E,{pageType:"dashboard",parameter:e.parameter,override:(0,P.lO)(e.parameters.overrides,(0,P.Fh)(e.parameter)),onChange:e.parameters.onOverride,onKeyDown:t=>{if(document.activeElement===t.target&&"Enter"===t.key){var n;null===(n=e.onApply)||void 0===n||n.call(e),e.openRunModal&&setTimeout(e.openRunModal,0)}},onApply:e.onApply,disabled:e.disabled,hasFocusTooltip:!0})})})},20948:function(e,t,n){"use strict";n.d(t,{f6:function(){return u},vK:function(){return d},gh:function(){return l},Fg:function(){return c}});var r=n(85893),i=n(67294),s=JSON.parse('{"dune":{"axis_legend_color":"var(--text--primary)","axis_text_color":"var(--text--secondary)","axis_zero_color":"var(--text--primary)","background_color":"transparent","chart_title_color":"var(--text--primary)","created_by_color":"var(--gray-600)","description_color":"var(--text-primary)","grid_lines_color":"var(--gray-200)","series_legend_color":"var(--text--secondary)","username_color":"var(--blue-500)"},"theblock":{"axis_legend_color":"var(--gray-900)","axis_text_color":"var(--gray-600)","axis_zero_color":"var(--gray-900)","background_color":"transparent","chart_title_color":"black","created_by_color":"var(--gray-600)","description_color":"black","grid_lines_color":"var(--gray-200)","series_legend_color":"var(--gray-800)","username_color":"var(--blue-500)","chart_colors":["#29225c","#ef4266","#3bbcb2","#b7b1e1","#fcdd4e","#ef5fa7","#006199","#0d8b7c","#37881a","#b09b04"]},"messari-dark-8fsafy8":{"axis_legend_color":"#6D727F","axis_text_color":"#6D727F","axis_zero_color":"#2A2F37","background_color":"#16181D","chart_title_color":"#F3F4F6","created_by_color":"#94B0C0","description_color":"#16181D","grid_lines_color":"transparent","series_legend_color":"#F3F4F6","username_color":"#3E91E3","chart_colors":["#AECEFF","#A8FCCA","#A4FFFA","#F4A299","#FCBE85","#FFEDBB","#DEA8F8","#F6A8F8","#E5E5E5","#3C6BB6","#2DAA61","#05D7CA","#FF4A37","#F48319","#F8CE5E","#AA42EA","#E742EA","#808080","#104293","#0D7538","#0C9D95","#CF2412","#BD6009","#DCA206","#761CBD","#BB1CBD","#464446"]},"messari-light-8fsafy8":{"axis_legend_color":"#9098AC","axis_text_color":"#9098AC","axis_zero_color":"#F1F3F8","background_color":"#F8F9FC","chart_title_color":"#171D2B","created_by_color":"#9098AC","description_color":"#16181D","grid_lines_color":"transparent","series_legend_color":"#171D2B","username_color":"#3E91E3","chart_colors":["rgba(174, 206, 255, 0.65)","rgba(168, 252, 202, 0.65)","rgba(164, 255, 250, 0.65)","rgba(244, 162, 153, 0.65)","rgba(252, 190, 133, 0.65)","rgba(255, 237, 187, 0.65)","rgba(222, 168, 248, 0.65)","rgba(246, 168, 248, 0.65)","rgba(229, 229, 229, 0.65)","rgba(60, 107, 182, 0.65)","rgba(45, 170, 97, 0.65)","rgba(5, 215, 202, 0.65)","rgba(255, 74, 55, 0.65)","rgba(244, 131, 25, 0.65)","rgba(248, 206, 94, 0.65)","rgba(170, 66, 234, 0.65)","rgba(231, 66, 234, 0.65)","rgba(128, 128, 128, 0.65)","rgba(16, 66, 147, 0.65)","rgba(13, 117, 56, 0.65)","rgba(12, 157, 149, 0.65)","rgba(207, 36, 18, 0.65)","rgba(189, 96, 9, 0.65)","rgba(220, 162, 6, 0.65)","rgba(118, 28, 189, 0.65)","rgba(187, 28, 189, 0.65)","rgba(70, 68, 70, 0.65)"]}}');let o=s.dune,l=e=>e in s?s[e]:o,a=i.createContext(o),u=e=>(0,r.jsx)(a.Provider,{value:e.theme,children:e.children}),c=()=>i.useContext(a),d=["#56569b","#f4603e","#909090","#cc61b0","#f2b701","#5d69b1","#52bca3","#99c945","#24796c","#e68310","#2f8ac4","#764e9f","#ed645a","#cc3a8e","#a5aa99","#66c5cc","#f6cf71","#f89c74","#dcb0f2","#87c55f","#9eb9f3","#fe88b1","#c9db74","#8be0a4","#b497e7","#d3b484","#b3b3b3","#7f3c8d","#11a579","#3969ac","#e73f74","#80ba5a","#008695","#cf1c90","#f97b72","#4b4b8f","#e58606","#5f4690","#1d6996","#38a6a5","#0f8554","#73af48","#edad08","#e17c05","#cc503e","#94346e","#6f4070","#994e95","#666666","#009392","#39b185","#9ccb86","#e9e29c","#eeb479","#e88471","#cf597e","#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#882255","#661100","#6699CC","#888888","#fcde9c","#faa476","#f0746e","#e34f6f","#dc3977","#b9257a","#7c1d6f","#fbe6c5","#f5ba98","#ee8a82","#dc7176","#c8586c","#9c3f5d","#70284a","#5a8a89","#f49a4a","#6f6f6f","#ba89c0","#ffb400","#4278a7","#3cb393","#a1d85d","#2c7d6e","#e7701c","#479bd3","#8056ab","#f2675c","#ba4d92","#95a28e","#7dd3d9","#f9d77d","#fb9d7f","#e3c2f6","#98c978","#a7bdef","#ff7db9","#d5e074","#a7e3b2","#bf9be8","#d8c89c","#c2c2c2","#8b3f89","#14aa86","#4d73b1","#ea567a","#7eba69","#006a80","#d442a2","#fc8a82","#695aa6"]},71429:function(e,t,n){"use strict";n.d(t,{II:function(){return j},bM:function(){return f},rI:function(){return g},wr:function(){return y}});var r=n(85893),i=n(67294),s=n(35180),o=n.n(s),l=n(13120),a=n.n(l),u=n(83412),c=n.n(u),d=n(39612),h=n(14514),m=n.n(h),p=n(51196),v=n.n(p),x=n(52502);let f=e=>{let t=g({now:j(),time:e.children,counter:e.counter});return t?(0,r.jsx)("time",{dateTime:t.abs,title:t.abs,className:e.className,children:t.rel}):null};function g(e){let{now:t,time:n,counter:r}=e;if(!n)return;let i=b(n),s=c()(i);if(r)return{iso:i,abs:s,rel:(0,d.NE)(o()(t,i))};let l=a()(i,t,{addSuffix:!0}),u=l.includes("second")?"Just now":l;return{rel:u,abs:s,iso:i}}function y(e){let{now:t,date:n}=e,r=a()(n,t);return r.includes("second")?"Now":r.replace(" minutes","min").replace(" minute","min").replace(" hours","h").replace(" hour","h").replace(" days","d").replace(" day","d").replace(" months","mo").replace(" month","mo").replace(" years","y").replace(" year","y")}let j=()=>{let e=(0,x.N)();return i.useEffect(()=>{let t=setInterval(e,1e3);return()=>clearInterval(t)},[e]),Date.now()},b=e=>"string"==typeof e?v()(e):"number"==typeof e?m()(e):m()(e.getTime()/1e3)},98972:function(e,t,n){"use strict";n.r(t),n.d(t,{IconArrowCounterClockwise:function(){return i}});var r=n(85893);let i=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",viewBox:"0 0 256 256",children:(0,r.jsx)("path",{d:"M224,128a96,96,0,0,1-94.71,96H128A95.38,95.38,0,0,1,62.1,197.8a8,8,0,0,1,11-11.63A80,80,0,1,0,71.43,71.39a3.07,3.07,0,0,1-.26.25L44.59,96H72a8,8,0,0,1,0,16H24a8,8,0,0,1-8-8V56a8,8,0,0,1,16,0V85.8L60.25,60A96,96,0,0,1,224,128Z"})})},15560:function(e,t,n){"use strict";n.r(t),n.d(t,{IconArrowSquareOut:function(){return i}});var r=n(85893);function i(e){return(0,r.jsxs)("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",width:"192",height:"192",fill:"currentColor",viewBox:"0 0 256 256",children:[(0,r.jsx)("rect",{width:"256",height:"256",fill:"none"}),(0,r.jsx)("polyline",{points:"216 100 216 40 156 40",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),(0,r.jsx)("line",{x1:"144",y1:"112",x2:"216",y2:"40",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),(0,r.jsx)("path",{d:"M184,144v64a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8h64",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})}},5717:function(e,t,n){"use strict";n.r(t),n.d(t,{IconCalendarBlank:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H13C13.2761 13.5 13.5 13.2761 13.5 13V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M11 1.5V3.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M5 1.5V3.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M2.5 5.5H13.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})}},5153:function(e,t,n){"use strict";n.r(t),n.d(t,{IconCamera:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M13 13H3C2.73478 13 2.48043 12.8946 2.29289 12.7071C2.10536 12.5196 2 12.2652 2 12V5C2 4.73478 2.10536 4.48043 2.29289 4.29289C2.48043 4.10536 2.73478 4 3 4H5L6 2.5H10L11 4H13C13.2652 4 13.5196 4.10536 13.7071 4.29289C13.8946 4.48043 14 4.73478 14 5V12C14 12.2652 13.8946 12.5196 13.7071 12.7071C13.5196 12.8946 13.2652 13 13 13Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8 10.5C9.24264 10.5 10.25 9.49264 10.25 8.25C10.25 7.00736 9.24264 6 8 6C6.75736 6 5.75 7.00736 5.75 8.25C5.75 9.49264 6.75736 10.5 8 10.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})}},88812:function(e,t,n){"use strict";n.r(t),n.d(t,{IconChevronBarExpand:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.64645 10.1464C3.84171 9.95118 4.15829 9.95118 4.35355 10.1464L8 13.7929L11.6464 10.1464C11.8417 9.95118 12.1583 9.95118 12.3536 10.1464C12.5488 10.3417 12.5488 10.6583 12.3536 10.8536L8.35355 14.8536C8.15829 15.0488 7.84171 15.0488 7.64645 14.8536L3.64645 10.8536C3.45118 10.6583 3.45118 10.3417 3.64645 10.1464Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.64645 5.85355C3.84171 6.04882 4.15829 6.04882 4.35355 5.85355L8 2.20711L11.6464 5.85355C11.8417 6.04882 12.1583 6.04882 12.3536 5.85355C12.5488 5.65829 12.5488 5.34171 12.3536 5.14645L8.35355 1.14645C8.15829 0.951184 7.84171 0.951184 7.64645 1.14645L3.64645 5.14645C3.45118 5.34171 3.45118 5.65829 3.64645 5.85355Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 8C1 7.72386 1.22386 7.5 1.5 7.5L14.5 7.5C14.7761 7.5 15 7.72386 15 8C15 8.27614 14.7761 8.5 14.5 8.5L1.5 8.5C1.22386 8.5 1 8.27614 1 8Z",fill:"currentColor"})]})}},84982:function(e,t,n){"use strict";n.r(t),n.d(t,{IconCircleWavyCheck:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M2.55469 9.44531C2.12344 9.01406 2.40938 8.10937 2.18906 7.57969C1.96875 7.05 1.125 6.58594 1.125 6C1.125 5.41406 1.95938 4.96875 2.18906 4.42031C2.41875 3.87188 2.12344 2.98594 2.55469 2.55469C2.98594 2.12344 3.89063 2.40938 4.42031 2.18906C4.95 1.96875 5.41406 1.125 6 1.125C6.58594 1.125 7.03125 1.95938 7.57969 2.18906C8.12812 2.41875 9.01406 2.12344 9.44531 2.55469C9.87656 2.98594 9.59063 3.89063 9.81094 4.42031C10.0313 4.95 10.875 5.41406 10.875 6C10.875 6.58594 10.0406 7.03125 9.81094 7.57969C9.58125 8.12812 9.87656 9.01406 9.44531 9.44531C9.01406 9.87656 8.10937 9.59063 7.57969 9.81094C7.05 10.0313 6.58594 10.875 6 10.875C5.41406 10.875 4.96875 10.0406 4.42031 9.81094C3.87188 9.58125 2.98594 9.87656 2.55469 9.44531Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8.0625 4.875L5.31094 7.5L3.9375 6.1875",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})}},76679:function(e,t,n){"use strict";n.r(t),n.d(t,{IconDownloadSimple:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M5.375 6.875L8 9.5L10.625 6.875",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8 2.5V9.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M13.5 9.5V13C13.5 13.1326 13.4473 13.2598 13.3536 13.3536C13.2598 13.4473 13.1326 13.5 13 13.5H3C2.86739 13.5 2.74021 13.4473 2.64645 13.3536C2.55268 13.2598 2.5 13.1326 2.5 13V9.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})}},20951:function(e,t,n){"use strict";n.r(t),n.d(t,{IconLightning:function(){return i}});var r=n(85893);function i(){return(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M6 15L7 10L3 8.5L10 1L9 6L13 7.5L6 15Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}},67929:function(e,t,n){"use strict";n.r(t),n.d(t,{IconNumberSquare:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M13.9091 2.5H2.09091C1.76456 2.5 1.5 2.72386 1.5 3V13C1.5 13.2761 1.76456 13.5 2.09091 13.5H13.9091C14.2354 13.5 14.5 13.2761 14.5 13V3C14.5 2.72386 14.2354 2.5 13.9091 2.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M7.0125 7.875L5 11.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M5.5 8.75C6.4665 8.75 7.25 7.9665 7.25 7C7.25 6.0335 6.4665 5.25 5.5 5.25C4.5335 5.25 3.75 6.0335 3.75 7C3.75 7.9665 4.5335 8.75 5.5 8.75Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8.9873 8.375L10.9998 5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M10.5 11C11.4665 11 12.25 10.2165 12.25 9.25C12.25 8.2835 11.4665 7.5 10.5 7.5C9.5335 7.5 8.75 8.2835 8.75 9.25C8.75 10.2165 9.5335 11 10.5 11Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})}},71913:function(e,t,n){"use strict";n.r(t),n.d(t,{IconPencilLine:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M6 13.4999H3C2.86739 13.4999 2.74022 13.4473 2.64645 13.3535C2.55268 13.2597 2.5 13.1326 2.5 12.9999V10.2062C2.49978 10.1413 2.51236 10.0769 2.53702 10.0169C2.56169 9.95682 2.59796 9.90222 2.64375 9.85619L10.1438 2.3562C10.1903 2.30895 10.2457 2.27144 10.3069 2.24583C10.3681 2.22022 10.4337 2.20703 10.5 2.20703C10.5663 2.20703 10.632 2.22022 10.6931 2.24583C10.7543 2.27144 10.8097 2.30895 10.8563 2.3562L13.6438 5.1437C13.691 5.19022 13.7285 5.24568 13.7541 5.30684C13.7797 5.368 13.7929 5.43364 13.7929 5.49995C13.7929 5.56625 13.7797 5.63189 13.7541 5.69305C13.7285 5.75421 13.691 5.80967 13.6438 5.85619L6 13.4999Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8.5 4L12 7.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M13.5 13.5H6L2.53125 10.0312",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M10.25 5.75L4.25 11.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})}},11483:function(e,t,n){"use strict";n.r(t),n.d(t,{IconPlusSquare:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M4.5 8H11.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8 4.5V11.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M12.5 1.5H3.5C2.39543 1.5 1.5 2.39543 1.5 3.5V12.5C1.5 13.6046 2.39543 14.5 3.5 14.5H12.5C13.6046 14.5 14.5 13.6046 14.5 12.5V3.5C14.5 2.39543 13.6046 1.5 12.5 1.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})}},47021:function(e,t,n){"use strict";n.r(t),n.d(t,{IconStackThree:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M2 11L8 14.5L14 11",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M2 8L8 11.5L14 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M2 5L8 8.5L14 5L8 1.5L2 5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})}},45681:function(e,t,n){"use strict";n.r(t),n.d(t,{IconTimer:function(){return i}});var r=n(85893);function i(){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M8 13.5C11.0376 13.5 13.5 11.0376 13.5 8C13.5 4.96243 11.0376 2.5 8 2.5C4.96243 2.5 2.5 4.96243 2.5 8C2.5 11.0376 4.96243 13.5 8 13.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8 8.00002L10.475 5.52502",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M6.5 0.5H9.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})}},7675:function(e,t,n){"use strict";n.d(t,{W:function(){return d}});var r=n(85893),i=n(24293),s=n.n(i),o=n(94184),l=n.n(o),a=n(10969),u=n(67294),c=n(34668);let d=e=>{var t;let n=(0,u.useId)(),i=(0,u.useMemo)(()=>null!==(t=e.id)&&void 0!==t?t:n,[e.id]),{size:o,style:d,label:h,hint:m,disabled:p=!1,error:v,prefix:x,suffix:f,inputWrapperClassName:g}=e;return(0,r.jsxs)("div",{className:e.className,children:[void 0!==h&&(0,r.jsx)(c._,{htmlFor:i,children:h}),(0,r.jsxs)("div",{className:l()(s().input,s()["size-".concat(o)],s()["style-".concat(d)],p&&s().disabled,void 0!==v&&s().inputError,g),children:[void 0!==x&&(0,r.jsx)("span",{className:s().prefix,children:x}),e.renderInput({id:i,disabled:p}),void 0!==f&&(0,r.jsx)("span",{className:s().suffix,children:f})]}),void 0!==v&&(0,r.jsxs)("div",{className:s().error,role:"alert",children:[(0,r.jsx)(a.Z,{}),v]}),void 0!==m&&(0,r.jsx)("div",{className:s().hint,"aria-describedby":i,children:m})]})}},11893:function(e,t,n){"use strict";n.d(t,{O:function(){return d}});var r=n(85893),i=n(19738),s=n.n(i),o=n(94184),l=n.n(o),a=n(67294),u=n(10933),c=n(41118);let d=(0,a.forwardRef)((e,t)=>{let{active:n,children:i,onClick:o,onDismiss:a,className:d,...h}=e;return(0,r.jsxs)("div",{role:"button",tabIndex:0,className:l()(s().tab,n&&s().active,a&&s().dismissible,d),onClick:o,ref:t,...h,children:[i,a&&(0,r.jsx)(u.h,{theme:"ghost",size:"XS",onClick:e=>{e.stopPropagation(),a()},"aria-label":"Remove",children:(0,r.jsx)(c.IconCross,{})})]})})},25147:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});let r=e=>e.active?e.children:null},76350:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(85893),i=n(19738),s=n.n(i),o=n(94184),l=n.n(o);let a=e=>{let{size:t,fillWidth:n=!1,marginBottom:i=!0}=e;return(0,r.jsx)("div",{className:l()(s().tabsList,s()["size-".concat(t)],n&&s().fillWidth,i&&s().marginBottom,e.className),children:e.children})}},46068:function(e,t,n){"use strict";n.d(t,{q:function(){return b}});var r=n(85893),i=n(67294),s=n(4564),o=n(46392),l=n(45172),a=n(54173),u=n(10933),c=n(41118),d=n(31544),h=n.n(d),m=n(61451);function p(e){let{queryId:t,close:n}=e;return(0,i.useEffect)(()=>(l.Z.trackEvent("API Query Modal Opened",{query_id:t,authed:!1}),()=>{l.Z.trackEvent("API Query Modal Closed",{query_id:t,authed:!1})}),[]),(0,r.jsxs)("div",{className:h().body,children:[(0,r.jsxs)("div",{className:h().header,children:[(0,r.jsxs)("div",{className:h().titleRow,children:[(0,r.jsx)("h3",{children:"Create an API endpoint out of any SQL query"}),(0,r.jsx)(u.h,{size:"XS",theme:"ghost",onClick:n,children:(0,r.jsx)(c.IconCross,{})})]}),(0,r.jsx)("p",{className:h().description,style:{marginTop:"4rem"},children:"To create an API endpoint and bring this chart and its data into your own system, first log in or create a Dune account."})]}),(0,r.jsxs)("div",{className:h().buttons,children:[(0,r.jsx)(m.z,{size:"M",theme:"tertiary",onClick:n,children:"Cancel"}),(0,r.jsx)("hr",{className:h().gapFillMiddle}),(0,r.jsx)(a.A,{type:"submit",theme:"secondary-light",size:"M",href:"/auth/login?next=%2Fqueries%2F".concat(t),onOpen:()=>l.Z.trackEvent("API Query Modal Open Signin",{query_id:t,authed:!1}),children:"Sign in"}),(0,r.jsx)(a.A,{type:"submit",theme:"secondary",size:"M",href:"/auth/register?next=%2Fqueries%2F".concat(t),onOpen:()=>l.Z.trackEvent("API Query Modal Open Signup",{query_id:t,authed:!1}),children:"Sign up"})]})]})}var v=n(47730),x=n(49871),f=n.n(x),g=n(82209),y=n(61575),j=n(57831);let b=e=>{let{queryId:t}=e,n=(0,j.kP)();return(0,r.jsx)(s.u_,{size:"L",label:"Create an API endpoint out of any SQL query",trigger:e=>{let{onClick:t}=e;return(0,r.jsx)(v.u,{label:"API",position:"above-center",children:(0,r.jsx)(u.h,{className:f().refreshButton,theme:"ghost",size:"XS",onClick:t,"aria-label":"Log in to take visualization screenshot",children:(0,r.jsx)(g.IconPlug,{})})})},content:e=>{let{close:i}=e;return(0,y.$K)(n)?(0,r.jsx)(o.r,{queryId:t,close:i}):(0,r.jsx)(p,{queryId:t,close:i})}})}},31992:function(e,t,n){"use strict";n.d(t,{u:function(){return d}});var r=n(85893),i=n(41664),s=n.n(i);n(67294);var o=n(10004),l=n.n(o),a=n(46166),u=n(20948),c=n(30297);let d=e=>{let t=(0,u.Fg)();return e.owner?(0,r.jsxs)("div",{className:l().owner,children:[(0,r.jsx)("span",{style:{color:t.created_by_color},children:(0,r.jsx)(s(),{href:"/".concat(e.owner.handle),children:(0,r.jsx)(c.q,{src:e.owner.profile_image_url,ownerId:e.owner.id,handle:e.owner.handle,type:e.owner.type,size:12})})}),(0,r.jsxs)("span",{className:l()["owner-label"],children:[(0,r.jsx)("span",{style:{color:"var(--text-secondary)"},children:(0,r.jsxs)(s(),{href:"/".concat(e.owner.handle),children:["@",e.owner.handle]})}),e.queryId&&e.iframe&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:" with "}),(0,r.jsx)(s(),{href:(0,a.WJ)(e.queryId,e.visual.id),style:{color:t.username_color},target:"_blank",children:"Dune"})]})]})]}):null}},85949:function(e,t,n){"use strict";n.d(t,{H:function(){return d}});var r=n(85893),i=n(20819),s=n.n(i),o=n(21154),l=n(68357),a=n(530),u=n(11969),c=n(85361);function d(){var e,t;let n=(0,c._0)(),{canSelectPerformance:i,performance:d,performanceTiers:h}=(0,a.C)();if(!i||!n)return null;let m=null===(e=h.slice(-1)[0])||void 0===e?void 0:e.publicPerformanceTierKey,p=null===(t=h.slice().reverse().find(e=>!("disabled"in e)))||void 0===t?void 0:t.publicPerformanceTierKey;return d===m?null:(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["Try using a larger query engine for better performance."," ",(0,r.jsx)(l.L,{size:"S",theme:"secondary",insideText:!0,href:"https://dune.com/docs/query/query-executions/?h=medium#query-engine-size",target:"_blank",children:"Learn more here"}),"."]}),d===p&&(0,r.jsx)("div",{className:s().upgradeOrSwitchContext,children:(0,r.jsxs)("p",{children:["To gain access to the ",(0,r.jsx)("em",{children:"Large"})," query engine,"," ",(0,r.jsx)(l.L,{size:"S",theme:"secondary",insideText:!0,href:"/pricing",target:"_blank",children:"upgrade"})," ","to a paid team plan, or"," ",(0,r.jsx)(o.V,{size:"S",theme:"secondary",insideText:!0,onClick:()=>(0,u.MD)(!0),children:"switch"})," ","to a paid team if you already have one."]})})]})}},60734:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(85893),i=n(85949),s=n(71429);function o(e){let t=(0,s.II)(),n=e.executionStartedAt,o=Math.floor((t-n.valueOf())/1e3);return o<60?null:(0,r.jsx)(i.H,{})}},80879:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(85893),i=n(64995),s=n(44914),o=n(59085),l=n(57831);function a(e){let{queryDetails:t}=e,n=null==t?void 0:t.query_id,a=t&&(t.team?{type:"team",id:t.team.id}:t.user?{type:"user",id:t.user.id}:void 0),u=(0,s.Kz)(a),c=(0,l.qy)(),d=(0,o.nG)(null!=n?n:-1,c);return void 0!==n&&u?(0,r.jsx)(i.f,{size:"M",querySchedule:d.schedule}):null}},9825:function(e,t,n){"use strict";n.d(t,{E:function(){return j},x:function(){return y}});var r,i=n(85893);n(67294);var s=n(57831),o=n(85361),l=n(41685),a=n(93836),u=n(83787),c=n(75546),d=n(79440),h=n(76138),m=n(61575),p=n(40802),v=n(47730),x=n(49871),f=n.n(x),g=n(98972);let y=(r=e=>{var t,n;let{isResultReady:r,queryDetails:c}=e,d=(0,s.kP)(),h=(0,o._0)(),p=(0,l.m)(h),x=null==c?void 0:c.dataset_id,y=null===(t=e.queryDetails)||void 0===t?void 0:t.query_id,j=null===(n=p(x).find(e=>{let{credits:t}=e;return t>0}))||void 0===n?void 0:n.publicPerformanceTierKey,b=(0,a.vQ)(e.dashboard);if(!d||!h||!(0,m.$K)(y)||!(0,m.$K)(j)||!r)return null;let _=(0,a.ZX)(y,b);return(0,i.jsx)(v.u,{label:"Refresh results",position:"above-center",children:(0,i.jsx)("button",{className:f().refreshButton,onClick:()=>{e.onRefreshQuery({queryId:y,parameters:_,can_refresh:_.every(u.in),apiKey:void 0,session:d,activeContext:h,performance:j})},children:(0,i.jsx)(g.IconArrowCounterClockwise,{})})})},e=>(0,m.$K)(e.dashboard)?(0,i.jsx)(r,{...e,dashboard:e.dashboard}):null);function j(e){var t;let{queryId:n,parameters:r,session:i,activeContext:s,performance:o}=e,l=(0,c.q)({queryId:n,parameters:r,can_refresh:null!==(t=null==r?void 0:r.every(u.in))&&void 0!==t&&t,apiKey:void 0,session:i});(0,d.d)({queryId:n,parameters:l.variables.parameters,requestContext:l.context,activeContext:s,performance:o,executionType:"interactive"}).then(()=>{h.bj.query({query:l.queryDoc,variables:l.variables,context:l.context,fetchPolicy:"network-only"})}).catch(e=>{p.Tb(Error("Error ".concat(e," while refreshing the query with id ").concat(n)),{extra:{type:null==s?void 0:s.type,id:null==s?void 0:s.id,performance:o}})})}},60403:function(e,t,n){"use strict";n.d(t,{G:function(){return w},R:function(){return k}});var r=n(85893),i=n(8134),s=n.n(i),o=n(54179),l=n(47730),a=n(10933),u=n(84541),c=n(5153),d=n(14080),h=n(76679),m=n(75805),p=n(96981),v=n(67294),x=n(43965),f=n(57903),g=n(57831),y=n(71909),j=n(45172),b=n(40802),_=n(73874),C=n(61575);function w(e){let{visualElement:t,queryId:n,visualizationId:i}=e,_=(0,g.kP)(),C=(0,y.J)(),[w,E]=(0,v.useState)({status:"idle"});return((0,v.useEffect)(()=>{"success"===w.status&&setTimeout(()=>E({status:"idle"}),1e3)},[w]),_)?"loading"===w.status?(0,r.jsx)(a.h,{className:s().screenshotButton,theme:"ghost",size:"XS",loading:!0,children:(0,r.jsx)(m.IconLoading,{})}):"success"===w.status?(0,r.jsx)(l.u,{label:w.message,position:"below-center",forceOpen:!0,children:(0,r.jsx)(a.h,{className:s().screenshotButton,theme:"ghost",size:"XS","aria-label":w.message,children:(0,r.jsx)(p.IconCheckmark,{})})}):(0,r.jsx)(o.c,{position:"cover-anchor-top-right",content:e=>{let{close:o}=e;return(0,r.jsxs)("div",{className:s().buttonGroup,children:[(0,r.jsx)(l.u,{label:"Copy screenshot to clipboard",position:"above-center",children:(0,r.jsx)(a.h,{className:s().screenshotButton,theme:"primary",size:"XS",onClick:()=>{E({status:"loading"}),(function(e,t){let{queryId:n,visualizationId:i}=t;return(0,x.P)(e,{domtoimageOptions:{scale:2,filter(e){var t;return!(null===(t=e.classList)||void 0===t?void 0:t.contains(k))}}}).then(()=>{j.Z.trackEvent("Visualization Screenshot Copied",{query_id:n,visualization_id:i})},e=>{throw e instanceof Error&&(e.message="Copy visualization screenshot: "+e.message),b.Tb(e,{extra:{queryId:n,visualizationId:i}}),(0,f.Bh)({level:"error",title:"Could not copy screenshot",description:(0,r.jsx)(r.Fragment,{children:"Something went wrong when trying to copy screenshot of visualization."})}),e})})(t,{queryId:n,visualizationId:i}).then(()=>E({status:"success",message:"Copied!"}),()=>E({status:"idle"}))},"aria-label":"Copy visualization screenshot to clipboard",children:(0,r.jsx)(d.IconCopy,{})})}),(0,r.jsx)(l.u,{label:"Save screenshot",position:"above-center",children:(0,r.jsx)(a.h,{className:s().screenshotButton,theme:"primary",size:"XS",onClick:()=>{o(),E({status:"loading"}),S(t,{queryId:n,visualizationId:i}).then(()=>E({status:"success",message:"Saved!"}),()=>E({status:"idle"}))},"aria-label":"Save visualization screenshot",children:(0,r.jsx)(h.IconDownloadSimple,{})})})]})},wrapperClassName:s().hoverPopoverWrapper,renderInPortal:!0,children:(0,r.jsx)(a.h,{className:s().screenshotButton,theme:"ghost",size:"XS","aria-label":"Take visualization screenshot",children:(0,r.jsx)(c.IconCamera,{})})}):(0,r.jsx)(l.u,{label:"Log in to take screenshot",position:"above-center",children:(0,r.jsx)(u.w,{className:s().screenshotButton,theme:"ghost",size:"XS",href:C,"aria-label":"Log in to take visualization screenshot",children:(0,r.jsx)(c.IconCamera,{})})})}let k="hide-in-screenshots";async function S(e,t){let{queryId:n,visualizationId:i}=t,s=await (0,_.sj)(i);return(0,x.d)(e,{fileName:(0,C.$K)(s)?s.name:"dune",domtoimageOptions:{scale:2,filter(e){var t;return!(null===(t=e.classList)||void 0===t?void 0:t.contains(k))}}}).then(()=>{j.Z.trackEvent("Visualization Screenshot Saved",{query_id:n,visualization_id:i})},e=>{throw e instanceof Error&&(e.message="Save visualization screenshot: "+e.message),b.Tb(e,{extra:{queryId:n,visualizationId:i}}),(0,f.Bh)({level:"error",title:"Could not save screenshot",description:(0,r.jsx)(r.Fragment,{children:"Something went wrong when trying to save screenshot of visualization."})}),e})}},13886:function(e,t,n){"use strict";n.d(t,{a:function(){return f}});var r=n(85893),i=n(41664),s=n.n(i),o=n(11163),l=n(67294),a=n(85101),u=n(20948),c=n(10933),d=n(54179),h=n(70342),m=n(46166),p=n(34968),v=n(10004),x=n.n(v);let f=e=>{let t=(0,u.Fg)();return(0,r.jsx)("header",{className:x().header,children:(0,r.jsxs)("div",{className:x().details,children:[(0,r.jsx)("div",{className:x().title,style:{color:t.chart_title_color},children:(0,r.jsx)(g,{...e})}),(0,r.jsx)(y,{...e})]})})},g=e=>{let t={pathname:(0,m.xT)(e.queryId,e.visual.id),query:function(e){let t=(0,o.useRouter)(),n=function(e){if(!e)return[];let{parameters:t,query_id:n}=e;return t.map(e=>({query_id:n,default_value:e.value,default_values:e.values,...e}))}(e);return Object.fromEntries(n.map(e=>{let n=(0,p.QY)(e),r=t.query[n],i=(0,p.QY)({...e,query_id:void 0,default_value:void 0,default_values:void 0});return[i,r]}).filter(e=>{let[t,n]=e;return void 0!==n}))}(e.visual.query_details)},n=e.visual.name||"",i=e.title,l="";return i||("Chart"!==n&&"Table"!==n&&n?(i=n,l=e.queryName||""):i=e.queryName),(0,r.jsxs)(s(),{href:t,target:e.iframe?"_blank":void 0,className:x().link,children:[(0,r.jsx)("span",{children:i}),l&&(0,r.jsx)("span",{children:l})]})},y=e=>{var t;let n=(0,u.Fg)(),i=(0,l.useRef)(null),s=function(e){let[t,n]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let t=e.current;if(null===t)return;let r=()=>{let{x:e,y:r}={x:t.scrollWidth-t.clientWidth,y:t.scrollHeight-t.clientHeight};n(e>0||r>0)},i=new ResizeObserver(r);i.observe(t);let s=new MutationObserver(r);return s.observe(t,{childList:!0,subtree:!0}),()=>{i.disconnect(),s.disconnect()}},[e]),t}(i);if(!(null===(t=e.queryDescription)||void 0===t?void 0:t.formatted))return null;let o=e.queryDescription.formatted;return(0,r.jsxs)("div",{className:x().descriptionContainer,children:[(0,r.jsx)(a.U,{ref:i,className:x().description,style:{color:n.description_color},children:o}),s&&(0,r.jsx)(d.c,{position:"left-of-center",content:()=>(0,r.jsx)(a.U,{className:x().descriptionPopoverContent,children:o}),children:(0,r.jsx)(c.h,{theme:"secondary-light",size:"XS",children:(0,r.jsx)(h.IconThreeDots,{})})})]})}},51414:function(e,t,n){"use strict";n.d(t,{J:function(){return g},H:function(){return y}});var r=n(85893),i=n(71429),s=n(67165),o=n(67294),l=n(91688),a=n.n(l),u=n(70353),c=n(41664),d=n.n(c);let h=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["If you want these results to be fresher, you can always"," ",(0,r.jsx)(d(),{href:"/docs/query/query-executions/#__tabbed_1_1",target:"_blank",children:"refresh"})," ","this dashboard or query, by clicking the Run button."]}),(0,r.jsxs)("p",{children:["If you are the owner, you can also"," ",(0,r.jsx)(d(),{href:"/docs/query/query-executions/#__tabbed_1_4",target:"_blank",children:"schedule it"})," ","to run periodically."]}),(0,r.jsxs)("p",{children:["See the"," ",(0,r.jsx)(d(),{href:"/docs/query/query-executions/",target:"_blank",children:"docs"})," ","for more info."]})]});var m=n(1801),p=n(84982),v=n(99134),x=n(75805),f=n(45681);let g=e=>{var t,n,s,o,l,a,u,c,d,h;let{resultSet:m,iframe:p,loadingError:v}=e,x=m.statusType();if("unknown"===x)return null;let f=Date.now();if("errorWithStaleResult"===x){let e=(0,i.rI)({now:f,time:null===(t=m.mostRecentSuccessfulExec)||void 0===t?void 0:t.createdAt}),l=(0,i.rI)({now:f,time:null===(n=m.recentError)||void 0===n?void 0:n.createdAt});return(0,r.jsx)(j,{resultTimeRelative:e,errorTimeRelative:l,erroMessage:null!==(o=null==m?void 0:null===(s=m.recentError)||void 0===s?void 0:s.message)&&void 0!==o?o:null==v?void 0:v.message,iframe:p})}{let e=(null===(l=m.pendingExecution)||void 0===l?void 0:l.status)==="queued"?"Currently queued.":(null===(a=m.pendingExecution)||void 0===a?void 0:a.status)==="running"?"Currently running.":void 0,t=(null===(u=m.pendingExecution)||void 0===u?void 0:u.status)==="queued"?"clock":(null===(c=m.pendingExecution)||void 0===c?void 0:c.status)==="running"?"running":void 0!==m.recentError||void 0!==v?"exclamation-circle":"check",n=(0,i.rI)({now:f,time:(null===(d=m.resultToShow())||void 0===d?void 0:d.createdAt)||(null===(h=m.recentError)||void 0===h?void 0:h.createdAt)});return(0,r.jsx)(b,{statusText:e,iframe:p,statusIcon:t,timeRelative:n})}},y=e=>{var t,n,o,l,a,u,c,d,h,m,p,v;let x=(0,s.zf)(e.result);if("unknown"===x)return null;let f=Date.now();if("errorWithStaleResult"===x){let s=(0,i.rI)({now:f,time:null===(n=e.result)||void 0===n?void 0:null===(t=n.meta)||void 0===t?void 0:t.generated_at}),h=(0,i.rI)({now:f,time:null===(l=e.result)||void 0===l?void 0:null===(o=l.error)||void 0===o?void 0:o.generated_at});return(0,r.jsx)(j,{resultTimeRelative:s,errorTimeRelative:h,erroMessage:null!==(d=null===(u=e.result)||void 0===u?void 0:null===(a=u.error)||void 0===a?void 0:a.message)&&void 0!==d?d:null===(c=e.result.fetchError)||void 0===c?void 0:c.message,iframe:e.iframe})}{let t=(0,s.BQ)(e.result),n=(0,s.GZ)(e.result),o=(0,i.rI)({now:f,time:(null===(m=e.result)||void 0===m?void 0:null===(h=m.meta)||void 0===h?void 0:h.generated_at)||(null===(v=e.result)||void 0===v?void 0:null===(p=v.error)||void 0===p?void 0:p.generated_at)});return(0,r.jsx)(b,{statusText:t,iframe:e.iframe,statusIcon:n,timeRelative:o})}},j=e=>{let{resultTimeRelative:t,erroMessage:n,errorTimeRelative:l,iframe:c}=e,[d,p]=o.useState(!1),x=(0,i.II)(),f=null==t?void 0:t.rel.toLocaleLowerCase(),g=null==l?void 0:l.rel.toLocaleLowerCase(),y=f&&"Last updated ".concat(f,".");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:a().status,children:[(0,r.jsx)("button",{onClick:()=>p(e=>!e),children:(0,r.jsxs)(m.C,{size:"M",variant:"filled",color:"warning",children:[t&&(0,i.wr)({now:x,date:t.iso}),(0,r.jsx)(v.IconWarning,{})]})}),c&&(0,r.jsx)("img",{src:"/assets/glyph.svg",alt:"Dune logo",className:a().duneLogo})]}),(0,r.jsxs)(u.o,{icon:"exclamation-circle",isOpen:d,className:a().dialog,onDismiss:()=>p(e=>!e),label:"Result status",size:"sm",children:[(0,r.jsx)("ul",{children:(0,r.jsx)("li",{children:(0,r.jsx)("strong",{children:y})},y)}),(0,r.jsxs)("p",{children:["The most recent execution, ",g,", failed with the following error:"]}),(0,r.jsx)("p",{className:a().errorMessage,children:(0,s.zO)(n)}),(0,r.jsxs)("p",{children:["Showing the most recent successful result from:"," ",(0,r.jsx)("strong",{children:f})]}),(0,r.jsx)("p",{children:(0,r.jsx)(h,{})})]})]})},b=e=>{let{statusText:t,timeRelative:n,statusIcon:s,iframe:l}=e,[c,d]=o.useState(!1),v=(0,i.II)(),g=n&&"Last updated ".concat(n.rel.toLowerCase(),"."),y=[g,t].filter(Boolean);return 0===y.length?null:l?(0,r.jsx)("span",{title:y.join(" "),className:a().status,children:(0,r.jsx)("img",{src:"/assets/glyph.svg",alt:"Dune logo",className:a().duneLogo})}):void 0===n?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:a().status,children:(0,r.jsx)("button",{onClick:()=>d(e=>!e),children:"running"===s?(0,r.jsxs)(m.C,{size:"M",variant:"filled",color:"brand-orange",children:["Running",(0,r.jsx)(x.IconLoading,{})]}):"clock"===s?(0,r.jsxs)(m.C,{size:"M",variant:"filled",color:"brand-orange",children:["Queued",(0,r.jsx)(f.IconTimer,{})]}):(0,r.jsxs)(m.C,{size:"M",variant:"filled",color:"success",children:[(0,i.wr)({now:v,date:n.iso}),(0,r.jsx)(p.IconCircleWavyCheck,{})]})})}),(0,r.jsxs)(u.o,{icon:s,className:a().dialog,isOpen:c,onDismiss:()=>d(e=>!e),label:"Result status",size:"sm",children:[(0,r.jsx)("ul",{children:y.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)("strong",{children:e})},e))}),(0,r.jsx)("p",{children:(0,r.jsx)(h,{})})]})]})}},26832:function(e,t,n){"use strict";n.d(t,{k:function(){return M}});var r=n(85893),i=n(41664),s=n.n(i),o=n(67294),l=n(35542),a=n.n(l),u=n(32037),c=n(15183),d=n(36889),h=n(17946),m=n(59999),p=n(80949),v=n(39561),x=n(15490),f=n(76138),g=n(91155),y=n(96752),j=n(46166),b=n(73874),_=n(74157),C=n(79478),w=n(45765),k=n(57831),S=n(47730),E=n(61451),I=n(45172),q=n(24357),P=n(84937),z=n(45466);let M=e=>{let t=A(e.item)?"Add visualization":"Add to dashboard",n=e.item;return n&&n.is_archived?(0,r.jsx)(S.u,{position:"below-center",label:"Archived dashboards cannot be updated",children:(0,r.jsx)(E.z,{size:"M",disabled:!0,theme:"tertiary",children:t})}):(0,r.jsx)(m.Qd,{label:t,disabled:e.disabled,size:"lg",children:t=>(0,r.jsx)(N,{...e,onDismiss:t})})},N=e=>{var t,n,i;let s=(0,k.Xd)(),l=A(e.item)?"queries":"dashboards",[d,m]=o.useState({page_size:25,order:"updated_at",time_range:"Desc"}),[x,f]=o.useState(!1),[g,y]=o.useState("authored"),j="authored"===g,b="Search ".concat(j?"your":"everyone's"," ").concat(l,"..."),S=null===(t=(0,z.hx)(s))||void 0===t?void 0:t.map(e=>e.id),E=(0,C.Di)(l,(0,q.c)({delayMs:300},d),g,S),I=(0,k.Ck)(),P=(0,w.c)();if(E.error)throw E.error;return(0,r.jsxs)("form",{onSubmit:_.P,className:a().form,children:[(0,r.jsx)(v.oH,{type:"search","aria-label":"Search ".concat(l),placeholder:b,value:null!==(i=d.q)&&void 0!==i?i:"",onChange:e=>{let t=e.target.value;m(e=>({...e,q:t}))}}),(0,r.jsx)(F,{item:e.item,entries:null===(n=E.data)||void 0===n?void 0:n.results,onToggle:(t,n)=>{f(!0),T(t,n,s).then(()=>E.mutate()).then(()=>{var t;return null===(t=e.refresh)||void 0===t?void 0:t.call(e)}).then(()=>f(!1)).catch(P)},loading:x}),(0,r.jsxs)(c.h,{children:[(0,r.jsx)(u.lr,{onClick:e.onDismiss,size:"sm",color2:!0,children:"Done"}),(0,r.jsx)(h.m,{redirect:A(e.item),refresh:E.mutate}),A(e.item)&&(0,r.jsxs)(u.lr,{onClick:()=>{y(e=>"authored"===e?void 0:"authored")},size:"sm",color2:!0,light:j,children:["Show queries from other users",!j&&(0,r.jsx)(p.J,{icon:"check"})]})]}),I&&(0,r.jsxs)("p",{className:a().warning,children:["Adding a visualization from a ",(0,r.jsx)("strong",{children:"private query"})," to a public dashboard will make the visualization available to everyone. If you wish to keep the visualization private, make the dashboard private first."]})]})},F=e=>{let{item:t}=e;if(!e.entries)return(0,r.jsx)("div",{className:a().entries,children:(0,r.jsx)(x.g,{})});if(0===e.entries.length)return(0,r.jsx)("div",{className:a().entries,children:(0,r.jsx)(d.M,{children:"No results found."})});if(A(t)){var n;return(0,r.jsx)("ul",{className:a().entries,children:e.entries.filter(y.Xh).map(i=>(null!==(n=i.visualizations)&&void 0!==n?n:[]).map(n=>(0,r.jsx)(L,{entry:i,dashboard:t,visual:n,onToggle:e.onToggle,loading:e.loading},"".concat(i.id,"-").concat(n.id))))})}return(0,r.jsx)("ul",{className:a().entries,children:e.entries.filter(y._C).map(n=>(0,r.jsx)(L,{entry:n,dashboard:n,visual:t,onToggle:e.onToggle,loading:e.loading},n.id))})},L=e=>{let t=R(e.dashboard,e.visual),n=t.length>0,i=e.entry.is_private?"lock":(0,y.Xh)(e.entry)?(0,b.RQ)(e.visual):(0,y.xA)((0,y.fs)(e.entry));return(0,r.jsxs)("li",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)(p.J,{icon:i}),(0,r.jsxs)(s(),{href:(0,j.wY)(e.entry),children:["@",e.entry.owner.handle,"/",e.entry.name]}),(0,y.Xh)(e.entry)&&(0,r.jsx)("span",{className:a().visual,children:(0,b.VJ)(e.visual)})]}),(0,r.jsx)(E.z,{theme:n?"secondary":"primary",size:"S",type:"button",onClick:e.onToggle.bind(null,e.dashboard,e.visual),disabled:e.loading,"aria-selected":n,"aria-busy":e.loading,"aria-live":"polite",children:n?"Added":"Add"})]})},A=e=>"slug"in e,R=(e,t)=>{var n;return(null!==(n=e.visualization_widgets)&&void 0!==n?n:[]).filter(e=>{var n;return(null===(n=e.visualization)||void 0===n?void 0:n.id)===t.id})},T=async(e,t,n)=>{let r=R(e,t);if(!t.id)throw Error("missing widget visualization id");if(r.length>0){let t=await Promise.all(r.map(e=>f.bj.mutate({mutation:P.j4U,context:{session:n},variables:{deleteVisualizationWidgetId:e.id}})));return I.Z.trackEvent("Dashboard Widget Removed",{dashboard_id:e.id}),t}let i=await f.bj.mutate({mutation:P.NUJ,context:{session:n},variables:{input:{dashboardId:e.id,visualizationId:t.id,options:(0,g.z)()}}});return I.Z.trackEvent("Dashboard Widget Added",{dashboard_id:e.id}),i}},49996:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(8419),i=n(43740),s=n(10475);function o(){let e=(0,r.Wd)("query-result-type-v2-ff",{validValues:["enabled"]}),{loading:t,enabled:n}=(0,i.T)("use-new-query-execution-service");return(0,s.s$)()?"UNKNOWN":"enabled"===e?"V2":t?"UNKNOWN":n?"V2":"LEGACY"}},94832:function(e,t,n){"use strict";n.d(t,{h:function(){return j}});var r=n(67294),i=n(75546),s=n(31269),o=n(49996),l=n(12637),a=n(13538),u=n(46509),c=n(83787),d=n(57831),h=n(61800),m=n(31510),p=n(14522),v=n(18446),x=n.n(v);let f=e=>{var t;let{executionService:n,queryId:i,skip:s=!0,resultConfig:o}=e,l=(0,u.v)(()=>(0,c.PM)(null!==(t=e.parameters)&&void 0!==t?t:[]),e.parameters),v=(0,a.p)({queryId:i,parameters:l,skip:s,executionService:n,resultSetOptions:{preferSuccessfulExecs:!0}}),f=null==v?void 0:v.mostRecentSuccessfulExec,g=function(e){var t,n,i,s;let{executionMeta:o,executionService:l,skip:a=!1,resultConfig:v}=e,f=(0,d.oI)(),[g,y]=(0,r.useState)(),j={executionId:null!==(n=null==o?void 0:o.executionId)&&void 0!==n?n:"",queryId:null!==(i=null==o?void 0:o.queryId)&&void 0!==i?i:-1,parameters:(0,c.PM)(null!==(s=e.parameters)&&void 0!==s?s:[]),requestContext:{session:f.current},resultConfig:v},b=(0,u.v)(()=>j,(0,m.I)(j)),{executionResponse:_,nextPage:C}=function(e){let{executionService:t,getExecutionProps:n}=e,[i,s]=(0,r.useState)({executionResponse:{requestStatus:"init"},nextPage:void 0}),o=(0,u.v)(()=>n,(0,m.I)(n));return(0,r.useEffect)(()=>{var e;let n=t.cache.subscribe((e={executionService:t,getExecutionProps:o},t=>{var n,r,i;let s=e.getExecutionProps,o=s.resultConfig.paginationConfig(),l={requestStatus:"init"},a=s,u=null!==(n=t.executionRequests.get((0,m.z)(a)))&&void 0!==n?n:{requestStatus:"init"},c=0;for(;(0,p.D)(u)&&!(++c>10)&&void 0!==(l=function(e,t){let n="success"===e.requestStatus?e.responsePayload.data.rows.concat(t.responsePayload.data.rows):t.responsePayload.data.rows,r="success"===e.requestStatus?e.responsePayload.data.columns:t.responsePayload.data.columns,i={...t,responsePayload:{...t.responsePayload,data:{...t.responsePayload.data,rows:n,columns:r}}};return i}(l,u)).responsePayload.data.hasMore&&l.responsePayload.data.hasMore;){let e=null!==(r=a.resultConfig.config.offset)&&void 0!==r?r:0;a={...a,resultConfig:new h.$({...a.resultConfig.config,offset:e+o.limit})},u=null!==(i=t.executionRequests.get((0,m.z)(a)))&&void 0!==i?i:{requestStatus:"init"}}return{executionResponse:l,nextPage:a.resultConfig.paginationConfig()}}),s,{equalityFn:x(),fireImmediately:!0});return n},[o]),i}({executionService:l,getExecutionProps:{...b,resultConfig:new h.$({...v.config,whereClause:g})}}),w="success"===_.requestStatus&&(null===(t=_.responsePayload)||void 0===t?void 0:t.status)==="success"&&!0===_.responsePayload.data.hasMore;(0,r.useEffect)(()=>{if(!a&&""!==b.executionId){let e=l.pollForCompletedExecution(b);return e.pollToCompletion(),e.stopPolling}},[b,l,a]);let k=async()=>{w&&await l.getExecution({...b,resultConfig:new h.$({...v.config,...C,whereClause:g})})},S=async e=>{let t=new h.$({...null==v?void 0:v.config,whereClause:e});y(e),l.getExecution({...b,resultConfig:t})};return a?{result:void 0,loadNextPage:async()=>{},isLoadingPage:!1,loadingPageError:void 0,search:async()=>{}}:{result:"success"===_.requestStatus?_.responsePayload:"loading"===_.requestStatus?_.responsePayload:void 0,loadNextPage:k,isLoadingPage:"loading"===_.requestStatus,loadingPageError:"error"!==_.requestStatus?void 0:_.error instanceof Error?_.error:Error(String(_.error)),search:S}}({executionMeta:f,skip:s,resultConfig:o,executionService:n});return(0,r.useMemo)(()=>{var e;let t=(null===(e=g.result)||void 0===e?void 0:e.status)==="success"?g.result:void 0;return{...g,result:t}},[g])};var g=n(46367),y=n(57295);function j(e){var t,n,a;let{parameter:u,optionsFromResultResultConfig:c=new h.$({limit:50,offset:0,outputColums:(0,g.n)(null===(t=e.parameter.enumFromResults)||void 0===t?void 0:t.columnName)?[e.parameter.enumFromResults.columnName]:void 0})}=e,d=t=>{var n;let r=null===(n=e.parameter.enumFromResults)||void 0===n?void 0:n.columnName;void 0!==r&&(Array.isArray(t)?C(t.map(e=>"".concat(r," ILIKE '%").concat(e.replace("'","\\'"),"%'")).join(" OR ")):C('"'.concat(r,"\" ILIKE '%").concat(t.replace("'","\\'"),"%'")))},{enumFromResults:m}=u,p=(0,o.Y)(),v=void 0===m?"UNKNOWN":p,x=(0,i.b)(null==m?void 0:m.queryId,[],{can_refresh:!1,skip:"LEGACY"!==v||void 0===u.enumFromResults}),{result:j,loadNextPage:b,isLoadingPage:_,search:C}=f({queryId:null==m?void 0:m.queryId,parameters:[],skip:"V2"!==v||(null==m?void 0:m.queryId)===void 0||m.queryId===y.G,executionService:l.T,resultSetOptions:{preferSuccessfulExecs:!0},subscribeForUpdates:!1,resultConfig:c}),w="V2"===v?_:!!x.loading,k=null!==(a=x.matrix)&&void 0!==a?a:null==j?void 0:j.data;return(0,r.useMemo)(()=>{var e;if("enum"!==u.type)return{enumOptions:void 0,isLoadingMore:!1,hasMore:!1,queryResultType:v};if(void 0===u.enumFromResults)return{queryResultType:v,enumOptions:u.enumOptions,loadMore:()=>{},isLoadingMore:!1,hasMore:!1};if(!k)return{queryResultType:v,enumOptions:void 0,loadMore:()=>{},isLoadingMore:w,hasMore:!1};let{columns:t,rows:n}=k,{columnName:r}=u.enumFromResults,i=t.some(e=>e.name===r);if(!i)return{enumOptions:[],isLoadingMore:!1,hasMore:!1,queryResultType:v,search:d};let o=n.map(e=>e[r]).map(String);return"LEGACY"===v?{enumOptions:o.length<1e4?o.filter(s.Tw):o,loadMore:()=>{},isLoadingMore:w,hasMore:!1,queryResultType:v,search:()=>{}}:{enumOptions:o.length<1e4?o.filter(s.Tw):o,loadMore:b,isLoadingMore:w,hasMore:null!==(e=k.hasMore)&&void 0!==e&&e,queryResultType:v,search:d}},[k,u.type,void 0===u.enumFromResults,null===(n=u.enumFromResults)||void 0===n?void 0:n.columnName,u.enumOptions,b,w,C,v])}},59019:function(e,t,n){"use strict";n.d(t,{C:function(){return a},i:function(){return u}});var r=n(67294),i=n(35560),s=n(83959),o=n(85361),l=n(76872);function a(e){let{queryId:t="default",datasetId:n,getDefaultPerformanceKey:r=s.g}=e,i=(0,o._0)(),{performanceTiers:a}=u(i,n),c=(0,l.LU)(t),d=(0,l.PT)(t);function h(e){return a.some(t=>t.publicPerformanceTierKey===e&&!("disabled"in t&&t.disabled))}function m(){return h(c)?c:function(){var e;let t=(0,l.OE)();return h(t)?t:null!==(e=r(i,a))&&void 0!==e?e:"free"}()}let p=a.length>0;return p?{canSelectPerformance:p,performance:m(),setPerformance:d,updateLastExecutedPerformance:function(){(0,l.s8)("default",m())},performanceTiers:a}:{canSelectPerformance:p}}function u(e,t){let{data:n,error:s,loading:o}=(0,i.Z)(e);(0,r.useEffect)(()=>{s&&console.error(s)},[s]);let l=[];if(n&&void 0!==t){var a;l=null!==(a=n[t])&&void 0!==a?a:[]}return{loading:o,performanceTiers:l}}},76872:function(e,t,n){"use strict";n.d(t,{LU:function(){return h},OE:function(){return c},PT:function(){return m},s8:function(){return d}});var r=n(73445),i=n(18172),s=n(67294);let o="lastPerformanceMap",l={get(){try{let e=localStorage.getItem(o);if(null===e)return{};let t=JSON.parse(e);if("object"!=typeof t&&null===t)return{};return t}catch(e){return{}}},set(e){localStorage.setItem(o,JSON.stringify(e))},setOne(e,t){let{get:n,set:r}=l;r({...n(),[e]:t})}},a=(0,r.Ue)(()=>l.get());function u(e,t){if(void 0===t)return;let n=e[t];if(void 0!==n)return n}function c(){return u(a.getState(),"default")}function d(e,t){a.setState((0,i.Uy)(n=>{n[e]=t})),l.setOne(e,t)}function h(e){let t=(0,s.useCallback)(t=>u(t,e),[e]);return a(t)}function m(e){return(0,s.useCallback)(t=>{void 0!==e&&d(e,t)},[e])}},74075:function(e,t,n){"use strict";n.d(t,{G:function(){return i},d:function(){return r}});class r{toGetExecParams(){return{}}get key(){var e;return this.configs.map(t=>"".concat(t.columnName,"-").concat(t.aggregateFn,"-").concat(null!==(e=t.aggregateColumnName)&&void 0!==e?e:"")).join("-")}constructor(e){this.configs=e}}function i(e){return e instanceof r}},43921:function(e,t,n){"use strict";n.d(t,{k:function(){return s},w:function(){return i}});var r=n(61800);class i{toGetExecParams(){return this.config.toGetExecParams()}get key(){return this.config.key}constructor(){this.config=new r.$({limit:1})}}function s(e){return e instanceof i}},61800:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(46367);class i{get key(){var e,t,n,r;let i=(null!==(t=this.config.outputColums)&&void 0!==t?t:[]).sort().join(",");return"".concat(this.config.limit,"-").concat(this.config.offset,"-").concat(i,"-").concat(null!==(n=this.config.whereClause)&&void 0!==n?n:"","-").concat(null!==(r=null===(e=this.config.sortBy)||void 0===e?void 0:e.sort((e,t)=>e.column.localeCompare(t.column)).map(e=>"".concat(e.column,"-").concat(e.direction)).join("-"))&&void 0!==r?r:"")}nextPage(){return void 0===this.config.offset||void 0===this.config.limit?this:new i({...this.config,offset:this.config.offset+this.config.limit})}paginationConfig(){if(void 0===this.config.limit||void 0===this.config.offset)throw Error("Limit and offset must be defined");return{limit:this.config.limit,offset:this.config.offset}}toGetExecParams(){let e={};if((0,r.n)(this.config.limit)||(0,r.n)(this.config.offset)){var t,n;e.pagination={limit:null!==(t=this.config.limit)&&void 0!==t?t:1e3,offset:null!==(n=this.config.offset)&&void 0!==n?n:0}}return(0,r.n)(this.config.outputColums)&&(e.output_columns=this.config.outputColums),(0,r.n)(this.config.whereClause)&&(e.filters={where_clause:this.config.whereClause}),(0,r.n)(this.config.sampleSize)&&(e.sampling={count:this.config.sampleSize}),(0,r.n)(this.config.sortBy)&&this.config.sortBy.length>0&&(e.order_by={order_by_clauses:this.config.sortBy.map(e=>'"'.concat(e.column,'" ').concat(e.direction))}),e}constructor(e){this.config=e}}},28257:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(46367);function i(e){let t;let{executions:n,status:r,afterExec:i}=e,s=n.filter(e=>void 0!==e);if(0!==s.length){for(let e of s)(void 0===r||r.includes(e.status))&&(void 0===t||e.executionId>t.executionId)&&(void 0===i||e.executionId>i.executionId)&&(t=e);return t}}class s{resultToShow(){return this.options.preferSuccessfulExecs&&(0,r.n)(this.mostRecentSuccessfulExec)?this.mostRecentSuccessfulExec:i({executions:[this.pendingExecution,this.recentError,this.mostRecentSuccessfulExec]})}pendingExecutionOwned(e){var t,n;return null!==(n=(0,r.n)(e))&&void 0!==n?n:(null===(t=this.pendingExecution)||void 0===t?void 0:t.executedByUserId)===e}isEmptyResults(){let e=this.resultToShow();return(null==e?void 0:e.status)==="success"&&(null==e?void 0:e.totalRowCount)===0}noExecutions(){return void 0===this.mostRecentSuccessfulExec&&void 0===this.recentError&&void 0===this.pendingExecution}resultToShowPending(){var e,t;return["running","queued"].includes(null!==(t=null===this||void 0===this?void 0:null===(e=this.resultToShow())||void 0===e?void 0:e.status)&&void 0!==t?t:"")}pendingExecutionRequiresBackgroundRefresh(){if((0,r.n)(this.pendingExecution)){var e;return this.pendingExecution.executionId!==(null===(e=this.resultToShow())||void 0===e?void 0:e.executionId)}return!1}isEqualTo(e){return void 0!==e&&e.mostRecentSuccessfulExec===this.mostRecentSuccessfulExec&&e.recentError===this.recentError&&e.pendingExecution===this.pendingExecution&&e.queryId===this.queryId&&e.paramaters===this.paramaters&&e.isFetching===this.isFetching&&e.fetchError===this.fetchError}statusType(){if(void 0!==this.pendingExecution){if("queued"===this.pendingExecution.status)return void 0!==this.mostRecentSuccessfulExec?"queuedWithStaleResult":"queued";if("running"===this.pendingExecution.status)return void 0!==this.mostRecentSuccessfulExec?"runningWithStaleResult":"running"}return void 0!==this.recentError?void 0!==this.mostRecentSuccessfulExec?"errorWithStaleResult":"error":void 0!==this.mostRecentSuccessfulExec?"complete":void 0!==this.fetchError?"error":"unknown"}canBeRefreshed(){return"complete"===this.statusType()||"error"===this.statusType()||"errorWithStaleResult"===this.statusType()}static fromExecutions(e){var t;let{executions:n,options:r}=e;n.sort((e,t)=>t.executionId.localeCompare(e.executionId));let o=i({executions:n,status:["success"]}),l=i({executions:n,status:["running","queued"],afterExec:o}),a=i({executions:n,status:["failed"],afterExec:o});return new s({mostRecentSuccessfulExec:o,options:r,isFetching:null!==(t=e.isFetching)&&void 0!==t&&t,fetchError:e.fetchError,recentError:a,pendingExecution:l,queryId:e.queryId,paramaters:e.parameters})}constructor(e){var t;this.mostRecentSuccessfulExec=e.mostRecentSuccessfulExec,this.recentError=e.recentError,this.pendingExecution=e.pendingExecution,this.queryId=e.queryId,this.paramaters=e.paramaters,this.options=e.options,this.fetchError=e.fetchError,this.isFetching=null!==(t=e.isFetching)&&void 0!==t&&t}}},25137:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(82729),i=n(76138),s=n(39137),o=n(84937);function l(){let e=(0,r._)(["\n  mutation CancelExecution(\n    $executionId: String!\n    $queryId: Int!\n    $parameters: [ExecutionParameterInput!]!\n  ) {\n    cancelExecution(\n      executionId: $executionId\n      queryId: $queryId\n      parameters: $parameters\n    ) {\n      id\n    }\n  }\n"]);return l=function(){return e},e}async function a(e){let{executionId:t,query:n,session:r}=e;await i.bj.mutate({mutation:o.mAx,variables:{executionId:t,queryId:n.id,parameters:n.parameters},context:{session:r,fetchOptions:{signal:e.abortSignal}},fetchPolicy:"no-cache"})}(0,s.Z)(l())},12637:function(e,t,n){"use strict";n.d(t,{T:function(){return T}});var r=n(18172),i=n(96008),s=n(74075),o=n(46367),l=n(28257),a=n(51443);let u=Error("Execution not found");var c=n(73406),d=n(83787);async function h(e){var t,n;let r=await (0,c._)({queryId:e.query.id,parameters:(0,d.PM)(e.query.parameters),requestContext:e.requestContext,executionContext:e.executionContext,executionType:e.executionType,performance:e.performance,metadata:e.metadata}),i=null===(n=r.data)||void 0===n?void 0:null===(t=n.executeQuery)||void 0===t?void 0:t.job_id;if(!(0,o.n)(i))throw Error("No data returned from execute_query_v3");return i}var m=n(25137),p=n(56223),v=n(31510),x=n(31792),f=n(83966);function g(e){let{fn:t,keyGenerator:n,abortSignalGetter:r,cache:i}=e;return async s=>{let o;let l=n(s),a=i.get(l);if(void 0!==a){o=a;let e=null==r?void 0:r(s);o=void 0!==e?(0,f.S)(a,e):a}else o=t(s),i.set(l,o);try{return await o}catch(n){let t=null==r?void 0:r(s);if((0,x.D_)(n)&&(null==t?void 0:t.aborted)===!1)return g(e)(s);throw n}finally{i.delete(l)}}}var y=n(32182);async function j(e){var t,n;let{executionId:r,queryId:i,parameters:s,requestContext:l,resultConfig:a}=e,c={};(0,o.n)(null===(t=l.session)||void 0===t?void 0:t.token)&&(c.Authorization="Bearer ".concat(l.session.token)),(0,o.n)(l.apiKey)&&(c["x-dune-api-key"]=l.apiKey);let d=null!==(n=null==a?void 0:a.toGetExecParams())&&void 0!==n?n:{};return(0,p.NT)("".concat("https://core-api.dune.com/public","/execution"),{method:"POST",headers:{...c,"Content-Type":"application/json"},signal:e.abortSignal,credentials:"include",body:JSON.stringify({execution_id:r,query_id:i,parameters:s,...d})}).then(e=>(function(e){var t,n,r,i,s,l,a,c,d,h,m,p,v,x;let{res:f,queryId:g,parameters:j}=e;if(f.execution_queued)return{status:"queued",queuePosition:f.execution_queued.position,createdAt:new Date(f.execution_queued.created_at),executionId:f.execution_queued.execution_id,executionType:f.execution_queued.execution_type,executedByUserId:null!==(t=f.execution_queued.execution_user_id)&&void 0!==t?t:void 0,queryId:g,parameters:j};if(f.execution_running)return{status:"running",createdAt:new Date(f.execution_running.created_at),executionId:f.execution_running.execution_id,queryId:g,executedByUserId:null!==(n=f.execution_running.execution_user_id)&&void 0!==n?n:void 0,parameters:j,executionType:f.execution_running.execution_type,startedAt:new Date(f.execution_running.started_at),progressPercentage:null!==(r=f.execution_running.progressPercentage)&&void 0!==r?r:void 0};if(f.execution_succeeded)return{status:"success",createdAt:new Date(f.execution_succeeded.generated_at),executionId:f.execution_succeeded.execution_id,queryId:g,parameters:j,completedAt:new Date(f.execution_succeeded.generated_at),maxResultSizeReachedBytes:null!==(c=f.execution_succeeded.max_result_size_reached_bytes)&&void 0!==c?c:void 0,requestMaxResultSizeBytes:null!==(d=f.execution_succeeded.request_max_result_size_bytes)&&void 0!==d?d:void 0,runtimeSeconds:f.execution_succeeded.runtime_seconds,data:f.execution_succeeded.data,columns:null!==(h=null===(i=f.execution_succeeded)||void 0===i?void 0:i.columns)&&void 0!==h?h:[],columnsMetadata:function(e){var t;if(void 0!==e.columns_metadata&&e.columns_metadata.every(e=>""!==e.type))return e.columns_metadata;let n=null===(t=e.data)||void 0===t?void 0:t[0];return"object"==typeof n&&null!==n?Object.entries(n).map(e=>{let[t,n]=e,r={name:t,type:function(e){if(null===e)return"unknown";switch(typeof e){case"boolean":return"boolean";case"number":if(!Number.isInteger(e))return"double";if(e>=-128&&e<=127)return"tinyint";if(e>=-32768&&e<=32767)return"smallint";if(e>=-2147483648&&e<=2147483647)return"integer";return"bigint";case"object":return"json";case"string":try{return JSON.parse(e),"json"}catch(n){let t=new Date(e);if(!isNaN(t.getTime())){if(e.includes("Z")||e.includes("+"))return"timestamp with time zone";return e.includes("T")?"timestamp":"date"}}return"varchar";default:return"varchar"}}(n)};return r}):[]}(f.execution_succeeded),resultSetSizeBytes:null!==(p=f.execution_succeeded.result_set_size_bytes)&&void 0!==p?p:(null!==(m=null===(s=f.execution_succeeded.data)||void 0===s?void 0:s.length)&&void 0!==m?m:0)*(0,y.Q)(null===(l=f.execution_succeeded.data)||void 0===l?void 0:l[0]),totalRowCount:null!==(x=null!==(v=f.execution_succeeded.total_row_count)&&void 0!==v?v:null===(a=f.execution_succeeded.data)||void 0===a?void 0:a.length)&&void 0!==x?x:0};if(f.execution_failed)return{status:"failed",createdAt:new Date(f.execution_failed.generated_at),executionId:f.execution_failed.execution_id,message:f.execution_failed.message,queryId:g,runtimeSeconds:f.execution_failed.runtime_seconds,metadata:(0,o.n)(f.execution_failed.metadata)?{line:f.execution_failed.metadata.line,position:f.execution_failed.metadata.column,hint:f.execution_failed.metadata.hint}:void 0,parameters:j};throw u})({res:e,queryId:i,parameters:s}))}let b=new Map,_=g({fn:j,cache:b,abortSignalGetter:e=>e.abortSignal,keyGenerator:v.z});var C=n(82729),w=n(76138),k=n(77780),S=n(39137),E=n(84937);function I(){let e=(0,C._)(["\nquery GetLatestResultSetIds($canRefresh: Boolean!, $queryId: Int!, $parameters: [ExecutionParameterInput!]) {\n  resultSetForQuery(canRefresh: $canRefresh, queryId: $queryId, parameters: $parameters) {\n    completedExecutionId\n    failedExecutionId\n    pendingExecutionId\n  }\n}"]);return I=function(){return e},e}async function q(e){var t;let{queryId:n,parameters:r,session:i,apiKey:s,canRefresh:o}=e,{data:l}=await w.bj.query({query:E.v3k,variables:{queryId:n,parameters:r,canRefresh:o},context:{session:i,apiKey:s,fetchOptions:{signal:e.abortSignal}},fetchPolicy:"no-cache"}),a=null!==(t=l.resultSetForQuery)&&void 0!==t?t:null;if(null===a)throw Error("Response from 'get_result_v4' was empty");return{mostRecentSuccessfulExecutionId:a.completedExecutionId,errorExecutionId:a.failedExecutionId,pendingExecutionId:a.pendingExecutionId}}let P=new Map,z=g({fn:q,cache:P,abortSignalGetter:e=>e.abortSignal,keyGenerator:k.J});(0,S.Z)(I());var M=n(43973),N=n(782),F=n(59105),L=n(51550),A=n(43921);let R=(0,M.M)()((0,N.XR)(()=>({executionsMeta:{},executionIdsForQuery:{},executionRequests:new L.z({limit:1e4,maxSize:2e8,sizeCalculation:e=>"success"===e.requestStatus&&"success"===e.responsePayload.status?e.responsePayload.resultSetSizeBytes:0}),resultSetRequests:{}}))),T=new class{async getResultSet(e){let t=(0,k.J)(e);this.cache.setState(e=>(0,r.Uy)(e,e=>{e.resultSetRequests[t]={requestStatus:"loading"}}));let n=await this.callGetResultSetIds(e).catch(e=>{if(!(0,x.D_)(e))throw this.cache.setState(n=>(0,r.Uy)(n,n=>{n.resultSetRequests[t]={requestStatus:"error",error:e}})),e});if(void 0===n)return;let{mostRecentSuccessfulExecutionId:i,errorExecutionId:s,pendingExecutionId:a}=n,u=[],c={queryId:e.queryId,parameters:e.parameters,requestContext:{session:e.session,apiKey:e.apiKey},resultConfig:new A.w,abortSignal:e.abortSignal},d=[];try{(0,o.n)(i)&&u.push(this.getExecution({...c,executionId:i})),(0,o.n)(s)&&u.push(this.getExecution({...c,executionId:s})),(0,o.n)(a)&&u.push(this.getExecution({...c,executionId:a})),d=(await Promise.all(u)).filter(o.n)}catch(e){if(!(0,x.D_)(e))throw this.cache.setState(n=>(0,r.Uy)(n,n=>{n.resultSetRequests[t]={requestStatus:"error",error:e}})),e;return}let h=l.Z.fromExecutions({executions:d,options:e.resultSetOptions,queryId:e.queryId,parameters:e.parameters});return this.cache.setState(e=>(0,r.Uy)(e,e=>{e.resultSetRequests[t]={requestStatus:"success",responsePayload:h}})),h}async executeQuery(e){let t=await this.callExecuteQuery(e);return this.getExecution({executionId:t,queryId:e.query.id,parameters:e.query.parameters,requestContext:e.requestContext,resultConfig:new A.w})}async cancelExecution(e){let{query:t}=e;await this.callCancelExecution(e),this.removeExecution({query:t,executionId:e.executionId})}async getExecution(e){let t=(0,v.z)(e),n=this.cache.getState().executionRequests.get(t);if(void 0!==n&&"success"===n.requestStatus&&"success"===n.responsePayload.status)return n.responsePayload;this.setExecutionRequestState(t,{requestStatus:"loading"});try{let n=await this.callGetExecution(e),r=this.processExecutionWithResults(n,e.resultConfig);return this.setExecutionRequestState(t,{requestStatus:"success",responsePayload:r}),(0,A.k)(e.resultConfig)&&this.updateExecutionsMetaStore(r),r}catch(e){if((0,x.D_)(e))this.setExecutionRequestState(t,{requestStatus:"init"});else throw this.setExecutionRequestState(t,{requestStatus:"error",error:e}),e}}pollForCompletedExecution(e){var t;let n=null!==(t=e.abortController)&&void 0!==t?t:new AbortController;async function*r(t){try{let r=await t.getExecution({...e,abortSignal:n.signal});if(void 0===r)return;for(yield r;["running","queued"].includes(r.status);){if(await (0,f.S)(function(e){return new Promise(t=>{setTimeout(t,e)})}(t.pollingConfig.minPollingDelay),n.signal),r=await t.getExecution({...e,abortSignal:n.signal}),void 0===r)return;yield r}}catch(e){if(e===u||e instanceof x._L||e instanceof DOMException&&"AbortError"===e.name)return;throw e}}return{results:r(this),pollToCompletion:async()=>{for await(let e of r(this));},stopPolling:()=>{n.abort()}}}setExecutionRequestState(e,t){this.cache.setState(n=>(0,r.Uy)(n,r=>{let i=n.executionRequests.clone();i.set(e,t),r.executionRequests=i}))}updateExecutionsMetaStore(e){this.cache.setState(t=>(0,r.Uy)(t,t=>{var n;t.executionsMeta[(0,F.N)(e)]=e;let r=(0,a.I)(e.queryId,e.parameters),i=null!==(n=t.executionIdsForQuery[r])&&void 0!==n?n:[];!1===i.some(t=>t===e.executionId)&&(i.push(e.executionId),t.executionIdsForQuery[r]=i.sort((e,t)=>t.localeCompare(e)))}))}processExecutionWithResults(e,t){if("success"===e.status){let n=function e(t,n,r){if(null===t)return console.error("No data in result payload",t),{rows:[],columns:[]};let l=(0,i.f0)(t);n.length>0&&(0,i.$Q)(l,n);let a={rows:t,columns:l,hasMore:t.length>0};if(void 0!==r&&(0,s.G)(r)){let t=function(e,t){let n=[e.rows.reduce((e,n)=>{for(let r of t.configs){let t=e[r.aggregateColumnName],s=(0,i.iM)(n[r.columnName]);if((0,o.n)(s)){if("number"!=typeof s)throw Error("Cannot perform aggregates on column ".concat(r.columnName," of type ").concat(typeof s));switch(r.aggregateFn){case"max":(!(0,o.n)(t)||t<s)&&(e[r.aggregateColumnName]=s);break;case"min":(!(0,o.n)(t)||t>s)&&(e[r.aggregateColumnName]=s);break;default:throw Error("".concat(r.aggregateFn," not yet supported"))}}}return e},{})];return n}(a,r);return{...e(t,Object.keys(t[0])),hasMore:!1}}return a}(e.data,e.columns,t);return{...e,data:n}}return e}removeExecution(e){let{query:t,executionId:n}=e;this.cache.setState(e=>(0,r.Uy)(e,e=>{delete e.executionsMeta[F.N({queryId:t.id,parameters:t.parameters,executionId:n})];let r=(0,a.I)(t.id,t.parameters),i=e.executionIdsForQuery[r];(0,o.n)(i)&&(e.executionIdsForQuery[r]=i.filter(e=>e!==n))}))}getExecutionsForQuery(e){let{query:t}=e,n=(0,a.I)(t.id,t.parameters),r=this.cache.getState().executionIdsForQuery[n];return void 0===r?[]:r.map(e=>this.cache.getState().executionsMeta[(0,F.N)({executionId:e,queryId:t.id,parameters:t.parameters})])}getResultSetForQuery(e){let t=this.getExecutionsForQuery(e);return l.Z.fromExecutions({executions:t,options:e.resultSetOptions,queryId:e.query.id,parameters:e.query.parameters})}constructor(e){this.pollingConfig=e.pollingConfig||{minPollingDelay:1e3},this.cache=e.cache,this.callCancelExecution=e.callCancelExecution,this.callExecuteQuery=e.callExecuteQuery,this.callGetExecution=e.callGetExecution,this.callGetResultSetIds=e.callGetResultSetIds}}({cache:R,callExecuteQuery:h,callCancelExecution:m.q,callGetExecution:_,callGetResultSetIds:z})},13538:function(e,t,n){"use strict";n.d(t,{p:function(){return p}});var r=n(67294),i=n(46367),s=n(46509),o=n(83787),l=n(57831),a=n(28257),u=n(51443),c=n(59105),d=n(77780),h=n(31510),m=n(43921);let p=e=>{let{executionService:t,queryId:n=-1,parameters:p=[],skip:v=!0,apiKey:x,resultSetOptions:f}=e,g=(0,l.kP)(),y={queryId:n,parameters:(0,o.PM)(null!=p?p:[]),resultSetOptions:f,session:g,apiKey:x,canRefresh:p.every(o.in)},j=(0,s.v)(()=>y,(0,d.J)(y)),b=function(e){let{executionService:t}=e,[n,i]=(0,r.useState)(),o=(0,s.v)(()=>e,(0,d.J)(e));return(0,r.useEffect)(()=>{var e;let n=t.cache.subscribe(function(e){let{queryId:t,parameters:n,resultSetOptions:r}=e,i=(0,u.I)(t,n),s=(0,d.J)(e);return e=>{var o,l;let u=e.resultSetRequests[s],d=(null==u?void 0:u.requestStatus)==="error"?u.error instanceof Error?u.error:Error(String(u.error)):void 0;return a.Z.fromExecutions({queryId:t,options:r,parameters:n,isFetching:(null==u?void 0:u.requestStatus)==="loading",fetchError:d,executions:null!==(l=null===(o=e.executionIdsForQuery[i])||void 0===o?void 0:o.map(r=>e.executionsMeta[(0,c.N)({executionId:r,queryId:t,parameters:n})]))&&void 0!==l?l:[]})}}(o),i,{equalityFn:(t,n)=>null!==(e=null==t?void 0:t.isEqualTo(n))&&void 0!==e&&e,fireImmediately:!0});return n},[o,t]),n}({...j,executionService:t});return!function(e){var t,n,a;let{executionService:u,apiKey:c,executionMeta:d,skip:p=!0}=e,v=(0,l.oI)(),[x,f]=(0,r.useState)(),g=(0,r.useRef)(),y=new m.w,j={executionId:null!==(t=null==d?void 0:d.executionId)&&void 0!==t?t:"",queryId:null!==(n=null==d?void 0:d.queryId)&&void 0!==n?n:-1,parameters:(0,o.PM)(null!==(a=null==d?void 0:d.parameters)&&void 0!==a?a:[]),requestContext:{session:v.current,apiKey:c},resultConfig:y},b=(0,s.v)(()=>j,(0,h.I)(j));(0,r.useEffect)(()=>((async function(){if((0,i.n)(null==d?void 0:d.executionId)&&!p){var e;for await(let t of(null===(e=g.current)||void 0===e||e.stopPolling(),g.current=u.pollForCompletedExecution(b),g.current.results))f(t)}})(),()=>{var e;null===(e=g.current)||void 0===e||e.stopPolling()}),[p,b,u,null==d?void 0:d.executionId])}({executionMeta:null==b?void 0:b.pendingExecution,executionService:t,skip:(null==b?void 0:b.pendingExecution)===void 0}),(0,r.useEffect)(()=>{(0,i.n)(j.queryId)&&(v||t.getResultSet(j).catch(()=>{}))},[j,t,v]),v?void 0:b}},59105:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(51443);function i(e){let{executionId:t,queryId:n,parameters:i}=e;return"".concat(t,"_").concat((0,r.I)(n,i))}},51443:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(83787);function i(e,t){return"".concat(e,"_").concat(JSON.stringify((0,r.PM)(t).sort((e,t)=>e.key.localeCompare(t.key))))}},31510:function(e,t,n){"use strict";n.d(t,{I:function(){return l},z:function(){return o}});var r=n(83787),i=n(2568),s=n.n(i);function o(e){var t,n;let{executionId:i,queryId:o,parameters:l,requestContext:a,resultConfig:u}=e;return[i,o,s()((0,r.KC)(l)),s()(null!==(n=null===(t=a.session)||void 0===t?void 0:t.name)&&void 0!==n?n:""),a.apiKey,null==u?void 0:u.key].join("-")}function l(e){var t,n;let{requestContext:r}=e;return[o(e),s()(null!==(n=null===(t=r.session)||void 0===t?void 0:t.token)&&void 0!==n?n:"")].join("-")}},77780:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(83787),i=n(2568),s=n.n(i);function o(e){var t;let{queryId:n,parameters:i,session:o,apiKey:l,canRefresh:a}=e;return[n,s()((0,r.KC)(i)),a,s()(null!==(t=null==o?void 0:o.name)&&void 0!==t?t:""),l].join("-")}},14522:function(e,t,n){"use strict";function r(e){var t;return"success"===e.requestStatus&&(null===(t=e.responsePayload)||void 0===t?void 0:t.status)==="success"}n.d(t,{D:function(){return r}})},36278:function(e,t,n){"use strict";n.d(t,{M:function(){return s}});var r=n(67294),i=n(45172);let s=(e,t,n,s)=>{let[o]=(0,r.useState)(new Date),[l,a]=(0,r.useState)(.02>Math.random()),[u,c]=(0,r.useState)();(0,r.useEffect)(()=>{["chart","counter","table"].includes(e.type)&&("complete"===t&&void 0===u&&void 0!==o&&l&&(i.Z.trackEvent("Visualisation Rendered",{visualisation_id:e.id,dashboard_id:null!=s?s:-1,query_id:null!=n?n:-1,duration_ms:new Date().getTime()-o.getTime()}),c(new Date)),["error","queued","running"].includes(t))},[e.id,e.type,t,o,l,u])}},89126:function(e,t,n){"use strict";n.d(t,{FW:function(){return u},cX:function(){return l},vJ:function(){return a}});var r=n(22205),i=n.n(r),s=n(96008),o=n(61575);let l=e=>e.options.counterLabel||e.name||"",a=(e,t)=>{var n,r;let i=null!==(n=t.rows)&&void 0!==n?n:[],l=c(null!==(r=e.options.rowNumber)&&void 0!==r?r:0,i.length),{countRow:a=!1,counterColName:u}=e.options,d=a&&(0,o.$K)(u)?i.length:(0,o.$K)(i[l])&&(0,o.$K)(u)&&(0,o.$K)((0,s.iM)(i[l][u]))?(0,s.iM)(i[l][u]):null;return d},u=(e,t)=>{var n,r;if(null===t)return"";if("string"==typeof t)return t;let s=i()({},d,e.options),o=(null!==(n=s.stringPrefix)&&void 0!==n?n:"").trimLeft(),l=(null!==(r=s.stringSuffix)&&void 0!==r?r:"").trimRight();if(s.stringDecimal||s.stringDecChar||s.stringThouSep){let e=Math.max(s.stringDecimal,0),n=t.toFixed(e).split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,s.stringThouSep),t=n.join(s.stringDecChar||".")}return o+t+l},c=(e,t)=>e>=0?e-1:(Math.abs(e)>t&&(e%=t),t+e),d={counterColName:"counter",rowNumber:1,targetRowNumber:1,stringDecimal:0,stringDecChar:".",stringThouSep:",",defaultColumns:2,defaultRows:5}},74157:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});let r=e=>{e.preventDefault()}},33315:function(e,t,n){"use strict";n.d(t,{Oy:function(){return c},o9:function(){return u}});var r=n(83787);let i=e=>{let t;let n=[],r=/(\{{.*?}})/g;for(;null!==(t=r.exec(e));){let e=t[0],r=e.substring(2,e.length-2);n.push(r)}return n},s=(e,t)=>e.findIndex(e=>e===t),o=(e,t)=>e.find(e=>e.key===t),l=(e,t)=>e.splice((0,r.kZ)(e,t),1),a=(e,t)=>{let n=t.filter(t=>!e.includes(t)),r=e.filter(e=>!t.includes(e));return[...new Set(n.concat(r))]},u=(e,t)=>{let n=i(e),r=i(t),s=a(n,r);return{prevKeys:n,nextKeys:r,difference:s}},c=e=>{let t,n,{difference:r,nextCode:i,nextKeys:s,parameters:o,prevKeys:l}=e;if(s.length>l.length)t=d(r,o);else if(s.length<l.length)t=h(r,o);else{let e=m({difference:r,nextCode:i,nextKeys:s,prevKeys:l,parameters:o});n=e.updatedCode,t=e.nextParameters}return{nextParameters:t,updatedCode:n}},d=(e,t)=>{let n=[...t.defaults],i=[...t.removed];for(let t of e){let e=o(i,t);if(e)l(i,e),n.push(e);else{let{parameter:e}=(0,r.yi)(n,t);n.push(e)}}return t.removed.length!==i.length&&t.setRemoved(i),(0,r.bp)(n)},h=(e,t)=>{let n=[...t.defaults],r=[];for(let t of e){let e=o(n,t);e&&(l(n,e),r.push(e))}return r.length>0&&t.setRemoved(r),n},m=e=>{let{difference:t,nextCode:n,nextKeys:r,prevKeys:i,parameters:a}=e,u=[...a.defaults];for(let e of t){let t=s(r,e),n=o(u,i[t]);if(n){let t={...n,key:e};u.push(t)}else{let t=s(i,e),n=o(u,i[t]);n&&l(u,n)}}return{nextParameters:u,updatedCode:n}}},67165:function(e,t,n){"use strict";n.d(t,{BQ:function(){return a},GZ:function(){return c},NV:function(){return o},UH:function(){return l},X0:function(){return s},_q:function(){return r},hc:function(){return i},zO:function(){return d},zf:function(){return u}});let r=e=>!s(e)&&!o(e),i=e=>r(e)&&(null==e?void 0:e.loading)===!1,s=e=>{var t;return"number"==typeof(null==e?void 0:null===(t=e.job)||void 0===t?void 0:t.queue_position)},o=e=>{var t;return!!(null==e?void 0:null===(t=e.job)||void 0===t?void 0:t.is_running)},l=(e,t)=>{var n;return!!(t&&t.user.id===(null==e?void 0:null===(n=e.job)||void 0===n?void 0:n.user_id))},a=e=>s(e)?"Currently queued.":o(e)?"Currently running.":void 0,u=e=>{if(e){var t,n,r;if(s(e))return e.matrix?"queuedWithStaleResult":"queued";if(o(e))return e.matrix?"runningWithStaleResult":"running";if(e.error)return e.matrix?"errorWithStaleResult":"error";if(e.fetchError)return"error";if(null===(t=e.matrix)||void 0===t?void 0:t.rows)return(null===(r=e.matrix)||void 0===r?void 0:null===(n=r.rows)||void 0===n?void 0:n.length)>0?"complete":"emptyResults";if(e.loading)return"loading"}return"unknown"},c=e=>{var t,n,r;return s(e)?"clock":o(e)?"running":d(null!==(r=null==e?void 0:null===(t=e.error)||void 0===t?void 0:t.message)&&void 0!==r?r:null==e?void 0:null===(n=e.fetchError)||void 0===n?void 0:n.message)?"exclamation-circle":"check"},d=e=>{if(e)return e.endsWith(".")?"Error: ".concat(h(e)):"Error: ".concat(h(e),".")},h=e=>e.charAt(0).toUpperCase()+e.slice(1)},43965:function(e,t,n){"use strict";n.d(t,{P:function(){return f},d:function(){return x}});var r=n(51577);let i=function(){let e;return{escape:function(e){return e.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){let n=t(e).toLowerCase();return function(){let e="application/font-woff",t="image/jpeg";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:t,jpeg:t,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[n]||""},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return -1!==e.search(/^(data:)/)},canvasToBlob:function(e){return new Promise(e.toBlob?function(t){e.toBlob(t)}:function(t){let n=window.atob(e.toDataURL().split(",")[1]),r=n.length,i=new Uint8Array(r);for(let e=0;e<r;e++)i[e]=n.charCodeAt(e);t(new Blob([i],{type:"image/png"}))})},resolveUrl:function(e,t){let n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);let i=n.createElement("a");return n.body.appendChild(i),r.href=t,i.href=e,i.href},getAndEncode:n,uid:(e=0,function(){return"u"+("0000"+(1679616*Math.random()<<0).toString(36)).slice(-4)+e++}),delay:function(e){return function(t){return new Promise(function(n){setTimeout(function(){n(t)},e)})}},asArray:function(e){let t=[],n=e.length;for(let r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/%22/g,"").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise(function(t,n){let i=new Image;i.onload=function(){t(i)},i.onerror=(e,t,i,s,o)=>{r.k.error("makeImage onerror:",e,t,i,s,o),"object"==typeof e&&r.k.error("event.composedPath()",e.composedPath()),n(Error("Could not make image from uri"))},i.src=e})},width:function(e){let t=i(e,"border-left-width"),n=i(e,"border-right-width");return e.scrollWidth+t+n},height:function(e){let t=i(e,"border-top-width"),n=i(e,"border-bottom-width");return e.scrollHeight+t+n}};function t(e){let t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}async function n(e){u.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let t=await fetch(e,{cache:"no-cache"}),n=await t.blob();return await new Promise(e=>{let t=new FileReader;t.onloadend=function(){let n=t.result,r=n.split(/,/)[1];e(r)},t.readAsDataURL(n)})}function i(e,t){let n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),s=function(){let e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,i,s){return t(e)?Promise.resolve(e).then(n).then(function(t){let n=Promise.resolve(e);return t.forEach(function(e){n=n.then(function(t){return r(t,e,i,s)})}),n}):Promise.resolve(e)},shouldProcess:t,impl:{readUrls:n,inline:r}};function t(t){return -1!==t.search(e)}function n(t){let n;let r=[];for(;null!==(n=e.exec(t));)r.push(n[1]);return r.filter(function(e){return!i.isDataUrl(e)})}function r(e,t,n,r){return Promise.resolve(t).then(function(e){return n?i.resolveUrl(e,n):e}).then(r||i.getAndEncode).then(function(e){return i.dataAsUrl(e,i.mimeType(t))}).then(function(n){return e.replace(RegExp("(url\\(['\"]?)("+i.escape(t)+")(['\"]?\\))","g"),"$1"+n+"$3")})}}(),o=function(){return{resolveAll:function(){return e().then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join("\n")})},impl:{readAll:e}};function e(){return Promise.resolve(i.asArray(document.styleSheets)).then(function(e){let t=[];return e.forEach(function(e){try{i.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(t){throw Error("Error while reading CSS rules from "+e.href+"\n"+t)}}),t}).then(function(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return s.shouldProcess(e.style.getPropertyValue("src"))})}).then(function(t){return t.map(e)});function e(e){return{resolve:function(){let t=(e.parentStyleSheet||{}).href;return s.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),l=function(){return{inlineAll:function t(n){return n instanceof Element?(function(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return Promise.resolve(e);let t=e.style.getPropertyValue("background");return t?s.inlineAll(t).then(function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))}).then(function(){return e}):Promise.resolve(e)})(n).then(function(){return n instanceof HTMLImageElement?e(n).inline().catch(e=>{}):Promise.all(i.asArray(n.childNodes).map(function(e){return t(e)}))}):Promise.resolve(n)},impl:{newImage:e}};function e(e){return{inline:function(t){return i.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t=>t.startsWith("/")||t.includes("dune-media.s3.")?t:"/_next/image?"+new URLSearchParams({url:t,w:""+function(){var t;let n=2*e.width;return null!==(t=[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840].find(e=>e>=n))&&void 0!==t?t:1920}(),q:"75"})).then(t||i.getAndEncode).then(function(t){return i.dataAsUrl(t,i.mimeType(e.src))}).then(function(t){return new Promise(function(n,r){e.onload=n,e.onerror=r,e.src=t})})}}}}(),a={imagePlaceholder:void 0,cacheBust:!1},u={};function c(e,t){var n,r,s,o;return(r=n=(n=t)||{},u.imagePlaceholder=null!==(s=r.imagePlaceholder)&&void 0!==s?s:a.imagePlaceholder,u.cacheBust=null!==(o=r.cacheBust)&&void 0!==o?o:a.cacheBust,Promise.resolve(e).then(function(e){return function e(t,n,r){return r||!n||n(t)?Promise.resolve(t).then(function(e){return e instanceof HTMLCanvasElement?i.makeImage(e.toDataURL()):e.cloneNode(!1)}).then(function(r){return function(t,n,r){var s;let o;let l=t.childNodes;return 0===l.length?Promise.resolve(n):(s=i.asArray(l),o=Promise.resolve(),s.forEach(function(t){o=o.then(function(){return e(t,r)}).then(function(e){e&&n.appendChild(e)})}),o).then(function(){return n})}(t,r,n)}).then(function(e){return e instanceof Element?Promise.resolve().then(function(){var n,r;n=window.getComputedStyle(t),r=e.style,n.cssText?r.cssText=n.cssText:function(e,t){i.asArray(e).forEach(function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}(n,r)}).then(function(){[":before",":after"].forEach(function(n){(function(n){let r=window.getComputedStyle(t,n),s=r.getPropertyValue("content");if(""===s||"none"===s)return;let o=i.uid();e.className=e.className+" "+o;let l=document.createElement("style");l.appendChild(function(e,t,n){let r=n.cssText?function(e){let t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(n):i.asArray(n).map(function(e){return e+": "+n.getPropertyValue(e)+(n.getPropertyPriority(e)?" !important":"")}).join("; ")+";";return document.createTextNode("."+e+":"+t+"{"+r+"}")}(o,n,r)),e.appendChild(l)})(n)})}).then(function(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}).then(function(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach(function(t){let n=e.getAttribute(t);n&&e.style.setProperty(t,n)}))}).then(function(){return e}):e}):Promise.resolve()}(e,n.filter,!0)}).then(d).then(h).then(function(e){return n.bgcolor&&(e.style.backgroundColor=n.bgcolor),n.width&&(e.style.width=n.width+"px"),n.height&&(e.style.height=n.height+"px"),n.style&&Object.keys(n.style).forEach(function(t){e.style[t]=n.style[t]}),e}).then(function(t){var r,s;return r=n.width||i.width(e),s=n.height||i.height(e),Promise.resolve(t).then(function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(e)}).then(i.escapeXhtml).then(function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"}).then(function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+r+'" height="'+s+'">'+e+"</svg>"}).then(function(e){return"data:image/svg+xml;charset=utf-8,"+e})})).then(i.makeImage).then(i.delay(100)).then(function(n){let r=function(e){var n,r;let s=document.createElement("canvas"),{scale:o=1}=t;if(s.width=null!==(n=t.width)&&void 0!==n?n:i.width(e)*o,s.height=null!==(r=t.height)&&void 0!==r?r:i.height(e)*o,1!==o){let e=s.getContext("2d");e.scale(o,o)}if(t.bgcolor){let e=s.getContext("2d");e.fillStyle=t.bgcolor,e.fillRect(0,0,s.width,s.height)}return s}(e);return r.getContext("2d").drawImage(n,0,0),r})}function d(e){return o.resolveAll().then(function(t){let n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e})}function h(e){return l.inlineAll(e).then(function(){return e})}function m(e){let t=[];try{t.push(function(){let t=[...e.querySelectorAll("img[srcset]")],n=t.map(e=>({img:e,srcset:e.getAttribute("srcset")}));return n.forEach(e=>{let{img:t}=e;t.removeAttribute("srcset")}),function(){n.forEach(e=>{let{img:t,srcset:n}=e;null!==n&&t.setAttribute("srcset",n)})}}())}catch(e){}finally{return()=>{t.forEach(e=>null==e?void 0:e())}}}let p=e=>{let{fileName:t,fileExt:n}=e;return e=>{let r=document.createElement("a");r.download="".concat(t,".").concat(n),r.href=e,r.click()}};function v(e){return navigator.clipboard.write([new ClipboardItem({"image/png":e})])}async function x(e){let{fileName:t="Dune",domtoimageOptions:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=()=>{};try{r=m(e),await c(e,n||{}).then(function(e){return e.toDataURL()}).then(p({fileName:t,fileExt:"png"}))}finally{r()}}async function f(e){let{domtoimageOptions:t={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=()=>{};try{n=m(e),await c(e,t||{}).then(i.canvasToBlob).then(v)}finally{n()}}},97600:function(e){e.exports={scheduleBadge:"ScheduleBadge_scheduleBadge__FfPCV",badgeLabel:"ScheduleBadge_badgeLabel__tZv3n"}},64452:function(e){e.exports={fieldWrapper:"ParameterEnum_fieldWrapper___AuaW",disabled:"ParameterEnum_disabled__oDVxy",button:"ParameterEnum_button__BPJUL",badges:"ParameterEnum_badges__KpVJh",badge:"ParameterEnum_badge__DJV8p",menuPanel:"ParameterEnum_menuPanel___dVcc",menuSectionTitleWithSearchAndTabs:"ParameterEnum_menuSectionTitleWithSearchAndTabs__GBcUL",menuSectionTitleWithButton:"ParameterEnum_menuSectionTitleWithButton__gPqy8",loadingMoreText:"ParameterEnum_loadingMoreText___If6R",menuText:"ParameterEnum_menuText__afy01"}},58627:function(e){e.exports={wrapper:"Progress_wrapper__la8Pz",green:"Progress_green__N3Lpc",orange:"Progress_orange__MEQio",info:"Progress_info__ZaO4k",detail:"Progress_detail__FNoyJ"}},71327:function(e){e.exports={off:"animate_off__wNP_X",up:"animate_up__piY6r",down:"animate_down__Ol0uv"}},19324:function(e){e.exports={box:"box_box__Sp1NE",sm:"box_sm__gjJx_",light:"box_light__yi_Hy",gray:"box_gray__BsM_v",color1:"box_color1__Qd3DT",color2:"box_color2__LzrkO",border:"box_border__8lw0M",icon:"box_icon__lpuSM",background:"box_background__dz8td",title:"box_title__8Ygrc",text:"box_text__kKNnI",children:"box_children__8bH71"}},71944:function(e){e.exports={grid:"axis_grid__mBo1g",zero:"axis_zero__M32VL",label:"axis_label__kOU44",line:"axis_line__7UnC1",tick:"axis_tick__P5SMG"}},88185:function(e){e.exports={chart:"chart_chart__et7_9",watermark:"chart_watermark__ZG4os"}},56492:function(e){e.exports={text:"labels_text__bDZRK"}},51249:function(e){e.exports={legend:"legend_legend__l3M8g",selected:"legend_selected__MyuR7",text:"legend_text__Gugdp"}},96328:function(e){e.exports={column:"shapes_column__fCAo0",many:"shapes_many__CawFx",area:"shapes_area__Lmb6W",stack:"shapes_stack__ISxDd",line:"shapes_line__YFfLO"}},26330:function(e){e.exports={tooltip:"tooltip_tooltip__q35TC",title:"tooltip_title__nfhW3",noColor:"tooltip_noColor__Zs4vl",crosshair:"tooltip_crosshair__W8sam"}},7022:function(e){e.exports={datepicker:"datepicker_datepicker__UAwqn",parameter:"datepicker_parameter__mxz_s",popper:"datepicker_popper__yuATT","button-secondary":"datepicker_button-secondary__JmSA0","button-primary":"datepicker_button-primary__AJ3nj","button-group":"datepicker_button-group__KAwZO"}},89290:function(e){e.exports={text:"text_text__PnX6J"}},47799:function(e){e.exports={grid:"grid_grid__0qxT_",gaps:"grid_gaps__odHaF"}},12896:function(e){e.exports={curlDisplay:"EditorAPIEndpointButton_curlDisplay__2jaZF",curlBlock:"EditorAPIEndpointButton_curlBlock__ft89Z"}},2829:function(e){e.exports={options:"visuals-options_options__7Gpky",header:"visuals-options_header__ASAp_",grid:"visuals-options_grid__8VvYW",leftItem:"visuals-options_leftItem__aTbJa",error:"visuals-options_error__X73Mk",loadingIcon:"visuals-options_loadingIcon__kRt8H",loading:"visuals-options_loading__uXoDy",series:"visuals-options_series__Y52Oh",values:"visuals-options_values__Cm4Iu",order:"visuals-options_order__KC2yJ",color:"visuals-options_color__FMnI2",picker:"visuals-options_picker__4Iv2E",popover:"visuals-options_popover__DoLsF",colorTile:"visuals-options_colorTile___OY9a",colorInput:"visuals-options_colorInput__QSQfK"}},20518:function(e){e.exports={parameterField:"InlineParameterField_parameterField__7jUy5",dateParameterField:"InlineParameterField_dateParameterField__gw3fN",disabled:"InlineParameterField_disabled__HUtL_",enumField:"InlineParameterField_enumField__0_VHS"}},97674:function(e){e.exports={dateParameterField:"dialog_dateParameterField__UnfBU",field:"dialog_field__AX5FR",trigger:"dialog_trigger__pwJyG"}},8950:function(e){e.exports={parameters:"parameters_parameters__z6R9h",select:"parameters_select__PRFQH"}},19738:function(e){e.exports={tabsList:"Tab_tabsList__aJngs",marginBottom:"Tab_marginBottom__AGFhv",content:"Tab_content__56Qfq",fillWidth:"Tab_fillWidth__sWpQ7",tab:"Tab_tab__iUeae","size-S":"Tab_size-S__QdgWE","size-M":"Tab_size-M__qqyz1","size-L":"Tab_size-L__P0fFg",active:"Tab_active__N7xE0",dismissible:"Tab_dismissible__wzIm_",iconTab:"Tab_iconTab__3Z_4_"}},20819:function(e){e.exports={upgradeOrSwitchContext:"PerformanceUpsellParagraph_upgradeOrSwitchContext__udly1"}},49871:function(e){e.exports={refreshButton:"RefreshQueryButton_refreshButton__mXfJn"}},8134:function(e){e.exports={screenshotButton:"ScreenshotVisualButton_screenshotButton__3iw1B",buttonGroup:"ScreenshotVisualButton_buttonGroup__4ZlVT",hoverPopoverWrapper:"ScreenshotVisualButton_hoverPopoverWrapper__WpOGL"}},10004:function(e){e.exports={header:"header_header__ovdBi",title:"header_title__m8c3F",link:"header_link__NKrbV",descriptionContainer:"header_descriptionContainer__IZBsr",description:"header_description__dKnvA",descriptionPopoverContent:"header_descriptionPopoverContent__LHXeq",details:"header_details__TEZlM",owner:"header_owner__AZzF0","owner-label":"header_owner-label__YfHsE"}},91688:function(e){e.exports={status:"status_status__Td79J",duneLogo:"status_duneLogo__t1JwS",dialog:"status_dialog__27_Jw",iconError:"status_iconError__Aa75D",errorMessage:"status_errorMessage__vaCfQ"}},35542:function(e){e.exports={form:"entries_form__WRoXd",entries:"entries_entries__Yg0GX",visual:"entries_visual__b8E_P",warning:"entries_warning__tINEG",table:"entries_table__AVeTW",tr:"entries_tr__SzlEZ",th:"entries_th__ODfky",td:"entries_td__zp1XV",tipsButton:"entries_tipsButton__QSd07",buttonGroup:"entries_buttonGroup__dST8Y",search:"entries_search__onJch",entryButton:"entries_entryButton__KQCAh"}},9557:function(){}}]);
//# sourceMappingURL=1434-2060e4c8ad281a87.js.map