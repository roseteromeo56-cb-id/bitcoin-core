(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7889],{63770:function(e,i,t){"use strict";t.d(i,{N:function(){return a}});var s=t(85893),r=t(46166),d=t(41664),n=t.n(d);let a=e=>{let{dashboard:i}=e;return i.forked_dashboard?(0,s.jsxs)("span",{children:["forked from ",(0,s.jsxs)(n(),{href:(0,r.Yh)(i.forked_dashboard.owner_handle,i.forked_dashboard.dashboard_slug),children:["@",i.forked_dashboard.owner_handle,"/",i.forked_dashboard.dashboard_name]})]}):null}},35470:function(e,i,t){"use strict";t.d(i,{C:function(){return j},x:function(){return f}});var s=t(85893),r=t(67294),d=t(41664),n=t.n(d),a=t(32037),l=t(15183),o=t(59999),u=t(28174),c=t(39561),h=t(45765),v=t(57831),m=t(45172),p=t(28311),x=t(35542),g=t.n(x);let j=e=>{let i=e.textWidget;return(0,s.jsx)(o.mj,{label:"Edit dashboard",icon:"edit",size:"md",children:void 0!==i?t=>(0,s.jsx)(_,{dashboard:e.dashboard,textWidget:i,refresh:e.refresh,onDismiss:t}):i=>(0,s.jsx)(b,{dashboard:e.dashboard,visualizationWidget:e.visualizationWidget,refresh:e.refresh,onDismiss:i})})},_=e=>{var i;let[t,d]=r.useState(!1),[n,o]=r.useState(null!==(i=e.textWidget.text)&&void 0!==i?i:""),c=(0,v.Xd)(),x=(0,h.c)(),g=()=>{d(!0),(0,p.R_)(e.textWidget.id,c).then(()=>{var i;return m.Z.trackEvent("Dashboard Widget Removed",{dashboard_id:e.dashboard.id}),null===(i=e.refresh)||void 0===i?void 0:i.call(e)}).then(()=>e.onDismiss()).catch(x)};return(0,s.jsx)("form",{onSubmit:i=>{i.preventDefault(),d(!0),(0,p.b9)(e.textWidget.id,n,e.textWidget.options,c).then(()=>{var i;return null===(i=e.refresh)||void 0===i?void 0:i.call(e)}).then(()=>e.onDismiss()).catch(x)},children:(0,s.jsxs)(u.Iv,{children:[(0,s.jsx)(f,{text:n,setText:o}),(0,s.jsxs)(u.o_,{children:[(0,s.jsx)(a.lr,{type:"submit",loading:t,disabled:!n,color2:!0,size:"sm",children:"Save"}),(0,s.jsxs)(l.h,{children:[(0,s.jsx)(a.lr,{onClick:()=>g(),loading:t,color2:!0,light:!0,size:"sm",children:"Remove this widget"}),(0,s.jsx)(a.lr,{onClick:e.onDismiss,disabled:t,color2:!0,light:!0,size:"sm",children:"Cancel"})]})]})]})})},b=e=>{let[i,t]=r.useState(!1),d=(0,v.Xd)(),n=(0,h.c)(),o=()=>{t(!0),(0,p.rh)(e.visualizationWidget.id,d).then(()=>{var i;return m.Z.trackEvent("Dashboard Widget Removed",{dashboard_id:e.dashboard.id}),null===(i=e.refresh)||void 0===i?void 0:i.call(e)}).then(()=>e.onDismiss()).catch(n)};return(0,s.jsx)(u.Iv,{children:(0,s.jsx)(u.o_,{children:(0,s.jsxs)(l.h,{children:[(0,s.jsx)(a.lr,{onClick:()=>o(),loading:i,color2:!0,light:!0,size:"sm",children:"Remove this widget"}),(0,s.jsx)(a.lr,{onClick:e.onDismiss,disabled:i,color2:!0,light:!0,size:"sm",children:"Cancel"})]})})})},f=e=>(0,s.jsx)(u.Qy,{label:"Text widget context",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(c.zg,{value:e.text,onChange:i=>e.setText(i.target.value)}),(0,s.jsx)(u.F5,{label:"Some markdown is supported",initialState:"closed",children:y})]})}),y=(0,s.jsx)("div",{children:(0,s.jsx)("table",{className:g().table,children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Bold"}),(0,s.jsx)("td",{className:g().td,children:(0,s.jsx)("b",{children:"**text**"})})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Italic"}),(0,s.jsx)("td",{className:g().td,children:(0,s.jsx)("i",{children:"_text_"})})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Heading 1"}),(0,s.jsx)("td",{className:g().td,children:"# Text"})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Heading 2"}),(0,s.jsx)("td",{className:g().td,children:"## Text"})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Heading 3"}),(0,s.jsx)("td",{className:g().td,children:"### Text"})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Anchor Links"}),(0,s.jsxs)("td",{className:g().td,children:[(0,s.jsx)("p",{children:"[Heading 1](#heading-1)"}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:(0,s.jsx)("i",{children:"How to enable anchor links:"})}),(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:"Hover over a Heading to see a \uD83D\uDD17."}),(0,s.jsx)("li",{children:"Click the \uD83D\uDD17 to copy the hashtag link from URL."}),(0,s.jsxs)("li",{children:["Paste it inside parentheses like"," ",(0,s.jsx)("code",{children:"[Heading 1](#heading-1)"})," to create a clickable link."]})]})]})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Link"}),(0,s.jsxs)("td",{className:g().td,children:["[Link]",(0,s.jsx)(n(),{href:"https://dune.com",children:"(https://dune.com)"})]})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Image or GIF"}),(0,s.jsxs)("td",{className:g().td,children:["![image]",(0,s.jsx)("a",{href:"https://cutt.ly/1AKJVWx",children:"(https://cutt.ly/1AKJVWx)"})]})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Inline code"}),(0,s.jsxs)("td",{className:g().td,children:["`",(0,s.jsx)("code",{children:"code"}),"`"]})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Code block"}),(0,s.jsxs)("td",{className:g().td,children:["```",(0,s.jsx)("br",{}),(0,s.jsx)("code",{children:"code block"}),(0,s.jsx)("br",{}),"```"]})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Horizontal rule"}),(0,s.jsx)("td",{className:g().td,children:"---"})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"Ordered list"}),(0,s.jsx)("td",{className:g().td,children:(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:"First item"}),(0,s.jsx)("li",{children:"Second item"}),(0,s.jsx)("li",{children:"Third item"})]})})]}),(0,s.jsxs)("tr",{className:g().tr,children:[(0,s.jsx)("th",{className:g().th,children:"List"}),(0,s.jsx)("td",{className:g().td,children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"- First item"}),(0,s.jsx)("li",{children:"- Second item"}),(0,s.jsx)("li",{children:"- Third item"})]})})]})]})})})},28311:function(e,i,t){"use strict";t.d(i,{R_:function(){return j},TB:function(){return y},Zo:function(){return b},b9:function(){return f},rh:function(){return _}});var s=t(82729),r=t(91155),d=t(73874),n=t(76138),a=t(45172),l=t(46367),o=t(39137),u=t(84937),c=t(30990);function h(){let e=(0,s._)(["\n  mutation DeleteParamWidgets($id: UUID!) {\n    deleteParamWidget(id: $id) {\n      ok\n    }\n  }\n"]);return h=function(){return e},e}function v(){let e=(0,s._)(["\n  mutation CreateVisualizationWidget($input: CreateVisualizationWidgetInput!) {\n    createVisualizationWidget(input: $input) {\n      id\n    }\n  }\n"]);return v=function(){return e},e}function m(){let e=(0,s._)(["\n  mutation DeleteVisualizationWidget($deleteVisualizationWidgetId: Int!) {\n    deleteVisualizationWidget(id: $deleteVisualizationWidgetId) {\n      ok\n    }\n  }\n"]);return m=function(){return e},e}function p(){let e=(0,s._)(["\nmutation CreateTextWidget($object: CreateTextWidgetInput!) {\n  createTextWidget(input: $object) {\n    id\n    dashboardId\n    options\n    text\n  }\n}\n"]);return p=function(){return e},e}function x(){let e=(0,s._)(["\nmutation DeleteTextWidget($deleteTextWidgetId: Int!) {\n  deleteTextWidget(id: $deleteTextWidgetId) {\n    ok\n  }\n}\n"]);return x=function(){return e},e}function g(){let e=(0,s._)(["\nmutation UpdateTextWidget($object: UpdateTextWidgetInput!) {\n  updateTextWidget(input: $object) {\n    id\n    dashboardId\n    options\n    text\n  }\n}\n"]);return g=function(){return e},e}let j=(e,i)=>n.bj.mutate({mutation:u.Eui,context:{session:i},fetchPolicy:"no-cache",variables:{deleteTextWidgetId:e}}),_=(e,i)=>n.bj.mutate({mutation:u.j4U,context:{session:i},variables:{deleteVisualizationWidgetId:e}}),b=(e,i,t)=>{if(!i)throw Error("missing widget text");return n.bj.mutate({mutation:u.q6w,context:{session:t},variables:{object:{dashboardId:e.id,options:(0,r.z)(),text:i}}})},f=(e,i,t,s)=>{if(!i)throw Error("missing widget text");return n.bj.mutate({mutation:u.idj,context:{session:s},variables:{object:{options:null!=t?t:(0,r.z)(),id:e,text:i}}})},y=async(e,i)=>{var t;let s=[];null===(t=e.param_widgets)||void 0===t||t.forEach(i=>{var t,r,n,a;if(!i.id)return;let o=null===(r=e.visualization_widgets)||void 0===r?void 0:null===(t=r.find(e=>e.id===i.visualization_widget_id))||void 0===t?void 0:t.visualization;if((0,d.Vx)(o)&&o.query_details){let t=o.query_details.parameters.find(e=>e.key===i.key);if((0,l.n)(t)){let r=null!==(a=null===(n=e.param_widgets)||void 0===n?void 0:n.filter(e=>e.key===t.key))&&void 0!==a?a:[];r.length>1&&!s.includes(i.id)&&s.push(i.id)}else s.push(i.id)}}),0!==s.length&&(await Promise.all(s.map(e=>n.bj.mutate({context:{session:i},mutation:u.axg,variables:{id:e}}).catch(e=>{if(!(e instanceof c.cA&&e.graphQLErrors.some(e=>{var i;return(null===(i=e.extensions)||void 0===i?void 0:i.code)==="not_found"})))throw e}))),void 0!==e.id&&a.Z.trackEvent("Dashboard Widget Removed",{dashboard_id:e.id}))};(0,o.Z)(h()),(0,o.Z)(v()),(0,o.Z)(m()),(0,o.Z)(p()),(0,o.Z)(x()),(0,o.Z)(g())},92125:function(e,i,t){"use strict";t.d(i,{n:function(){return Y}});var s,r=t(85893),d=t(67294),n=t(94184),a=t.n(n),l=t(70894),o=t.n(l),u=t(18446),c=t.n(u),h=t(99548),v=t.n(h),m=t(36889),p=t(32037),x=t(80949),g=t(69968),j=t(35470),_=t(73874),b=t(93836),f=t(75546),y=t(17479),w=t(62844),k=t(83787),z=t(96752),W={margin:20,rowHeight:32,breakpoints:{sm:0,lg:960},getBreakpoint(e){let i=Object.keys(this.breakpoints);for(let t=0;t<i.length;t++){let s=i[t];if(this.breakpoints[s]>e)return i[Math.max(0,t-1)]}return i[i.length-1]}},N=t(23279),q=t.n(N),C=t(18172);class R{addWidget(e,i,t){this.hasResponsiveElements||window.addEventListener("resize",this._onResize),this._responsiveWidgets[e]={ref:i,minUnitHeight:t},this._onResize()}get hasResponsiveElements(){return Object.keys(this._responsiveWidgets).length>0}constructor(e){this.onResizeCallback=e,this._responsiveWidgets={},this.destroy=()=>{this._responsiveWidgets={},window.removeEventListener("resize",this._onResize)},this.getMinHeightLayout=(0,C.Uy)(e=>{let i=W.getBreakpoint(window.innerWidth);Object.entries(this._responsiveWidgets).forEach(t=>{let[s,{minUnitHeight:r}]=t,d=e[i].findIndex(e=>{let{i}=e;return s===i});d>=0&&(e[i][d].h=r)})}),this.getResponsiveHeightLayout=(0,C.Uy)(e=>{let i=W.getBreakpoint(window.innerWidth);Object.entries(this._responsiveWidgets).forEach(t=>{let[s,{ref:r,minUnitHeight:d}]=t,n=r.current,a=e[i].findIndex(e=>{let{i}=e;return s===i});if(n&&n.childNodes[0]&&n.parentNode&&(n.parentNode.style.background=window.getComputedStyle(null==n?void 0:n.childNodes[0]).getPropertyValue("background")),a>=0&&n){let{height:t}=n.getBoundingClientRect();e[i][a].h=Math.max(Math.ceil((t+W.margin)/(W.rowHeight+W.margin)),d)}})}),this._onResize=q()(()=>this.onResizeCallback(this.getResponsiveHeightLayout),50)}}let D=d.createContext(new R(()=>({})));var E=e=>{let{edit:i,setLayouts:t,children:s}=e,n=d.useRef(new R(t));return n.current.onResizeCallback=t,d.useEffect(()=>{n.current.hasResponsiveElements&&(i?t(n.current.getMinHeightLayout):t(n.current.getResponsiveHeightLayout))},[i]),d.useEffect(()=>n.current.destroy,[]),(0,r.jsx)(D.Provider,{value:n.current,children:s})};let I=e=>String(e.id),T=e=>{let i=[...e.param_widgets||[],...e.text_widgets||[],...e.visualization_widgets||[]];i.sort((e,i)=>void 0!==e.options.position.col&&void 0!==i.options.position.col&&void 0!==i.options.position.row&&void 0!==e.options.position.row?e.options.position.row-i.options.position.row||e.options.position.col-i.options.position.col:0);let t=i.map(e=>{var i,t;let s=(0,_.QS)(e.visualization)?1:null!==(i=e.options.position.sizeY)&&void 0!==i?i:2;return{i:I(e),w:1,h:s,x:0,y:null!==(t=e.options.position.row)&&void 0!==t?t:1/0}}),s=i.map(e=>{var i,t,s,r;let d=(0,_.QS)(e.visualization)?1:null!==(i=e.options.position.sizeY)&&void 0!==i?i:2;return{i:I(e),w:null!==(t=e.options.position.sizeX)&&void 0!==t?t:2,h:d,x:null!==(s=e.options.position.col)&&void 0!==s?s:0,y:null!==(r=e.options.position.row)&&void 0!==r?r:1/0}});return{sm:t,lg:s}},S=(e,i,t)=>{let s=e.text_widgets||[],r=e.visualization_widgets||[],d=e.param_widgets||[],n=H(s,t,i),a=H(r,t,i),l=H(d,t,i);return{...e,text_widgets:n,visualization_widgets:a,param_widgets:l}},H=(e,i,t)=>{let s=e.map(e=>(0,C.ZP)(e,s=>{let r=i.find(i=>i.i===I(e));r&&(s.options.position.row=r.y,(0,_.QS)(e.visualization)||(s.options.position.sizeY=r.h),"lg"===t&&(s.options.position.col=r.x,s.options.position.sizeX=r.w))}));return s},L=e=>{if("sm"===e||"lg"===e)return e};var P=t(85361),V=t(29570),M=t(61575),U=t(36532),A=t(49996),F=t(13538),Z=t(12637),$=t(184);let Y=d.memo(e=>{var i,t;let{dashboard:s,edit:n}=e,l=d.useMemo(()=>({...s,param_widgets:function(e,i){var t;let s=[],r=[];return null===(t=e.visualization_widgets)||void 0===t||t.forEach(i=>{let t=i.visualization;if((0,_.Vx)(t)){var d;let n;if(void 0!==t.query_details)n=t.query_details.query_id;else throw Error("Query details not found");return null===(d=t.query_details.parameters)||void 0===d?void 0:d.map(t=>{var d,a;let l=t.key.includes(" ")||t.key.length>20?2:1,o={id:(0,w.DM)(),key:t.key,value:null!==(a=t.value)&&void 0!==a?a:"",visualization_widget_id:i.id,query_id:n,dashboard_id:e.id,visualization:{type:"param",key:t.key},options:{position:{row:0,col:0,sizeX:l,sizeY:1}}},u=null===(d=e.param_widgets)||void 0===d?void 0:d.find(e=>e.key===t.key&&e.visualization_widget_id===i.id&&e.query_id===n);u?r.push(u):s.push(o)})}}),(function(e,i){let t=[];if(i.state.defaults.length>0){let s=0;i.state.defaults.map(i=>{let r=null==e?void 0:e.find(e=>e.key===i.key&&e.query_id===i.query_id);if(r){s>=6&&(s=0);let e=r.key.includes(" ")||r.key.length>20?2:1;t.push({...r,options:{position:{row:0,col:s,sizeX:e,sizeY:1}}}),s+=e}})}return t})(s,i).map(e=>r.push(e)),r}(s,e.parameters)}),[s]),[u,c]=d.useState(T(l)),h=d.useMemo(()=>B(l,e),[l,e]),p=d.useMemo(()=>O(l,e),[l,e]),x=d.useMemo(()=>K(l,e),[l,e]);return(d.useEffect(()=>{c(T(l))},[l]),(null===(i=s.text_widgets)||void 0===i?void 0:i.length)||(null===(t=s.visualization_widgets)||void 0===t?void 0:t.length))?u?(0,r.jsx)("div",{className:a()(v().grid,n&&v().edit),children:(0,r.jsx)(E,{edit:n,setLayouts:c,children:(0,r.jsx)(ei,{onLayoutChange:(i,t)=>{if(e.edit){var s;let r=L(null!==(s=o()(t,e=>e===i))&&void 0!==s?s:"");r&&e.onLayout(S(l,r,i))}},layouts:u,breakpoints:W.breakpoints,cols:{sm:1,lg:6},containerPadding:[0,0],margin:[W.margin,W.margin],rowHeight:W.rowHeight,isResizable:n,isDraggable:n,isDroppable:n,useCSSTransforms:!0,verticalCompact:!0,children:[x,p,h]})})}):null:(0,r.jsx)(m.M,{children:"This dashboard is empty."})},(e,i)=>{var t,s,r,d,n,a;return e.dashboard.slug===i.dashboard.slug&&e.parameters===i.parameters&&e.onLayout===i.onLayout&&e.refresh===i.refresh&&e.apiKey===i.apiKey&&e.edit===i.edit&&e.disabledParameters===i.disabledParameters&&e.onApplyParam===i.onApplyParam&&c()(null===(t=e.dashboard.text_widgets)||void 0===t?void 0:t.map(e=>[e.id,e.text]),null===(s=i.dashboard.text_widgets)||void 0===s?void 0:s.map(e=>[e.id,e.text]))&&c()(null===(r=e.dashboard.visualization_widgets)||void 0===r?void 0:r.map(e=>[e.id]),null===(d=i.dashboard.visualization_widgets)||void 0===d?void 0:d.map(e=>[e.id]))&&c()(null===(n=e.dashboard.param_widgets)||void 0===n?void 0:n.map(e=>[e.id]),null===(a=i.dashboard.param_widgets)||void 0===a?void 0:a.map(e=>[e.id]))}),B=(e,i)=>{var t;return null===(t=e.text_widgets)||void 0===t?void 0:t.map(e=>[(0,r.jsx)("article",{className:v().cell,children:(0,r.jsx)(Q,{minUnitHeight:e.options.position.sizeY,widgetId:e.id,...i,textWidget:e})},I(e))])},O=(e,i)=>{var t;return null===(t=e.visualization_widgets)||void 0===t?void 0:t.map(t=>[(0,r.jsx)("article",{className:v().cell,children:e.is_archived?(0,r.jsx)(J,{...i,visualizationWidget:t}):(0,r.jsx)(X,{...i,visualizationWidget:t})},I(t))])},K=(e,i)=>{let t=[];return i.parameters.state.defaults.length>0&&i.parameters.state.defaults.map(s=>{var d;let n=null===(d=e.param_widgets)||void 0===d?void 0:d.find(e=>e.key===s.key&&e.query_id===s.query_id),a=void 0!==n?I(n):(0,k.Fh)(s);t.push([(0,r.jsx)("article",{className:v().cell,children:(0,r.jsx)(y.d,{...i,parameters:i.parameters.state,parameter:s,onApply:i.onApplyParam,openRunModal:i.openRunModal,disabled:i.disabledParameters})},a)])}),t},Q=(s=d.memo(e=>{let i=e.edit&&(e.dashboard.is_archived?(0,r.jsx)(p.FO,{className:v().editButton,disabled:!0,toolTipProps:{label:"Archived dashboards cannot be updated",color:"gray",hidden:!1},children:(0,r.jsx)(x.J,{icon:"edit"})}):(0,r.jsx)(j.C,{dashboard:e.dashboard,textWidget:e.textWidget,refresh:e.refresh}));return e.textWidget.visualization?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.cp,{dashboard:e.dashboard,visual:e.textWidget.visualization,edit:e.edit,watermark:!1}),i]}):null}),e=>{let{minUnitHeight:i,edit:t,widgetId:n}=e,a=d.useContext(D),l=d.useRef(null),o=i*W.rowHeight+(i-1)*W.margin;return(d.useEffect(()=>{a.addWidget(n.toString(),l,i)},[i]),t)?(0,r.jsx)(s,{...e}):(0,r.jsx)("div",{ref:l,style:{minHeight:"".concat(o,"px")},children:(0,r.jsx)(s,{...e})})}),X=e=>{let i=e.visualizationWidget.visualization;return(0,_.Vx)(i)?(0,r.jsx)(G,{...e,visual:i}):null},G=e=>{var i,t,s,d,n,a,l,o,u;let{visual:c}=e,h=null===(i=c.query_details)||void 0===i?void 0:i.query_id,v=(0,A.Y)(),m=(0,b.nW)(e.parameters,h),p=(0,f.b)(h,m,{can_refresh:m.every(k.in),apiKey:e.apiKey,skip:"LEGACY"!==v}),x=(0,F.p)({queryId:h,parameters:m,skip:"V2"!==v,executionService:Z.T,resultSetOptions:{preferSuccessfulExecs:!0}}),g=null!==(d=null===(t=(0,P._0)())||void 0===t?void 0:t.serviceTier.removeWatermark)&&void 0!==d&&d,_=null===(n=null===(s=c.query_details)||void 0===s?void 0:s.show_watermark)||void 0===n||n,y=g||!_,w=e.edit&&(0,r.jsx)(j.C,{dashboard:e.dashboard,visualizationWidget:e.visualizationWidget,refresh:e.refresh});switch(v){case"V2":{let i=null==c?void 0:c.query_details;if(void 0===x||void 0===i)return null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($.j,{visual:c,resultSet:x,queryId:i.query_id,queryName:i.name,queryDescription:{formatted:(0,V.U)(null!==(a=(0,M.Rs)(c.description))&&void 0!==a?a:i.description,m)},owner:(0,z.cp)(i),parameters:e.parameters.state,watermark:!y,edit:e.edit,queryFixable:!1,dashboard:e.dashboard}),w]})}case"LEGACY":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.cp,{visual:c,dashboard:e.dashboard,queryId:h,queryName:null===(l=c.query_details)||void 0===l?void 0:l.name,queryDescription:{formatted:(0,V.U)(null!==(u=(0,M.Rs)(c.description))&&void 0!==u?u:null===(o=c.query_details)||void 0===o?void 0:o.description,e.parameters.state.appliedMerged)},owner:c.query_details&&(0,z.cp)(c.query_details),result:p,watermark:!y,edit:e.edit}),w]});case"UNKNOWN":return null}},J=e=>{let i=e.visualizationWidget.visualization;return(0,_.Vx)(i)?(0,r.jsx)(ee,{...e,visual:i}):null},ee=e=>{var i,t,s,d,n,a,l,o;let{visual:u}=e,c=null===(i=u.query_details)||void 0===i?void 0:i.query_id,h=null!==(a=null===(t=(0,P._0)())||void 0===t?void 0:t.serviceTier.removeWatermark)&&void 0!==a&&a,m=null===(l=null===(s=u.query_details)||void 0===s?void 0:s.show_watermark)||void 0===l||l,g=e.edit&&(0,r.jsx)(p.FO,{className:v().editButton,disabled:!0,toolTipProps:{label:"Archived dashboards cannot be updated",color:"gray",hidden:!1},children:(0,r.jsx)(x.J,{icon:"edit"})});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.cp,{visual:u,dashboard:e.dashboard,queryId:c,queryName:null===(d=u.query_details)||void 0===d?void 0:d.name,queryDescription:{formatted:(0,V.U)(null!==(o=(0,M.Rs)(u.description))&&void 0!==o?o:null===(n=u.query_details)||void 0===n?void 0:n.description,e.parameters.state.appliedMerged)},owner:u.query_details&&(0,z.cp)(u.query_details),result:void 0,watermark:!(h||!m),edit:e.edit}),g]})},ei=(0,g.WidthProvider)(g.Responsive)},99548:function(e){e.exports={grid:"widgets_grid__SSrYu",cell:"widgets_cell__Da8ZC",edit:"widgets_edit__lkkb2",editButton:"widgets_editButton__x7LGl"}}}]);
//# sourceMappingURL=7889-49723a7ef73c7732.js.map